# CasaOS：酷炫、支持多终端一款NAS系统

## 相关资源

- **CasaOS 官方网站**：https://casaos.io/
- **CasaOS开源地址**：https://github.com/IceWhaleTech/CasaOS

## CasaOS：打造你的个人云生活

### 简介

CasaOS 是一款基于 Docker 生态系统的开源个人云系统，专为家庭用户设计，可轻松安装在各种硬件设备上，如树莓派、旧电脑、NAS等。

CasaOS 提供丰富的应用和功能，帮助您轻松管理文件、照片、媒体、文档等个人数据，并提供安全可靠的存储和访问服务。

![image-20240512210446441](./NAS系统推荐.assets/image-20240512210446441.png)

### 功能特点

CasaOS 具有以下功能特点：

- **简单易用:** CasaOS 界面简洁直观，操作简单，即使是初学者也能轻松上手。
- **丰富的应用:** CasaOS 提供超过 20 个预装应用，涵盖文件管理、多媒体播放、远程控制、网络协作等多种功能，并支持通过应用商店安装更多应用。
- **强大的扩展性:** CasaOS 支持 Docker 容器技术，您可以轻松安装和部署各种应用和服务。
- **安全可靠:** CasaOS 采用多种安全措施，如数据加密、访问控制等，确保您的数据安全。

![image-20240512210507330](./NAS系统推荐.assets/image-20240512210507330.png)

### 快速开始

以下是快速部署CasaOS的步骤：

1. 准备一个X86或ARM架构的设备，例如树莓派、玩客云、工控机或云服务器。
2. 在设备上安装一个相对纯净的Linux系统，如Debian或Ubuntu。
3. 运行以下命令来安装CasaOS：

```
 curl -fsSL https://get.casaos.io | sudo bash
```

1. 安装完成后，CasaOS会启动服务，并监听在80端口上。
2. 在浏览器中输入设备的IP地址，例如 `http://你的IP`，来访问CasaOS的界面。
3. 按照指示创建一个新账户，并开始使用CasaOS。

CasaOS的主要特点包括一个用户友好的UI，无需编码知识即可轻松安装Docker应用，以及一个优雅的驱动器和文件管理系统。

![image-20240512210536655](./NAS系统推荐.assets/image-20240512210536655.png)

## 总结

CasaOS 是一款功能强大、易于使用的个人云系统，可以帮助您轻松管理个人数据，并提供安全可靠的存储和访问服务。如果您正在寻找一款个人云系统，CasaOS 是一个不错的选择。

# NAS系统推荐

# 免费异地组网软件

前几天Cherry发了一篇关于NAS外网访问的教程，很多群友都在询问异地组网相关的问题（果然，没有动态公网的小伙伴是最多的）。 

于是，Cherry就拿当下最热门的三款免费的异地组网工具——星空组网、Zerotier、Tailscale，以及IP直连进行测试、对比。

当然，异地组网的工具不仅仅只有这几个，篇幅有限，Cherry不一一介绍了。

## 横比测试结果

### 一、基本信息介绍

🔻这里先介绍一下Cherry测试的环境，每个地区的网络环境各不相同，因此本文仅代表Cherry所处网络环境下的测试结果，不具有广泛代表性，请各有小伙伴根据自己的网络环境做测试后选择。

💬目标地址：浙江华数200M上下对等企宽，独立服务器，无业务运行。

💬源地址：同城电信500M下、50M上家宽，PC端发起测试，测试时同时在跑PT和PCDN，没有暂停。

🔻长求总对比图，从结果来看，国人开发的星空组网应该是优势最大的。

![图片](./NAS系统推荐.assets/640.webp)

### 二、传输速率与带宽测试

🔻在目标服务器端安装iperf3，使用iperf3进行测试，每10秒展示网络情况。

🟡IP直连，每10秒展示一次速度，传输速度为72.48MB/10s，测试带宽为 60.76Mbps
![图片](./NAS系统推荐.assets/640-1714911330127-206.webp)
🟡星空组网，每10秒展示一次速度，传输速度为72.325MB/10s左右，测试带宽为 60.675Mbps
![图片](./NAS系统推荐.assets/640-1714911330127-207.webp)
🟡Zerotier，每10秒展示一次速度，传输速度为71.25MB/10s左右，测试带宽为 59.8Mbps
![图片](./NAS系统推荐.assets/640-1714911330127-208.webp)
🟡Tailscale，每10秒展示一次速度，传输速度为64.6MB/10s左右，测试带宽为 54.175Mbps
![图片](./NAS系统推荐.assets/640-1714911330128-209.webp)

### 三、丢包测试

🔻使用长ping测试，`ping ip -l 6550 -t`。

🟡IP直连，发包96次，丢包率6%，平均延迟28ms
![图片](./NAS系统推荐.assets/640-1714911330128-210.webp)
🟡星空组网，发包94次，丢包率3%，平均延迟34ms
![图片](./NAS系统推荐.assets/640-1714911330128-211.webp)
🟡Zerotier，发包94次，丢包率8%，平均延迟32ms
![图片](./NAS系统推荐.assets/640-1714911330128-212.webp)
🟡Tailscale，发包94次，丢包率7%，平均延迟38ms
![图片](./NAS系统推荐.assets/640-1714911330128-213.webp)

### 四、EDR警告风险

为什么我把这点提出来呢，因为很多人都习惯在办公室使用异地组网工具访问家里的NAS，但是在现在网络安全要求下，很多企业会部署一些网络安全工具或行为控制工具，例如各大平台的EDR系统，那么就很容易出发警告，譬如：

![图片](./NAS系统推荐.assets/640-1714911330128-214.webp)
![图片](./NAS系统推荐.assets/640-1714911330128-215.webp)

## 安装教程

### 一、星空组网

#### （一）注册账号

来到官网（https://starvpn.cn）注册账号，然后切换到成员列表，新建至少2个账号，一个用于NAS服务器端，另外一个用户客户端。

![图片](./NAS系统推荐.assets/640-1714911330128-216.webp)
![图片](./NAS系统推荐.assets/640-1714911330128-217.webp)

#### （二）部署服务端

🔻Docker run部署

```bash
docker run -itd \
  --restart=always \
  --privileged \
  --net=host \
  --name stars.client \
  -e STARS_USER=《您的成员账号》 \
  -e STARS_PASS=《您的成员密码》 \
  xianwei2022/stars.client:latest
```



```bash
sudo curl -o /usr/local/etc/rc.d/tun.sh https://file.starvpn.cn/stars/releases/shell/tun.sh && sudo chmod a+x /usr/local/etc/rc.d/tun.sh
```



🔻套件中心部署

![图片](./NAS系统推荐.assets/640-1714911330128-218.webp)

#### （三）部署客户端

客户端支持Windows、Linux、MacOS、IOS、安卓，安装后只需要登录之前的账号密码即可。

![图片](./NAS系统推荐.assets/640-1714911330128-219.webp)
🔻如下即组网成功了，访问NAS的话，只需要看网页后台里，NAS对应的IP即可。
![图片](./NAS系统推荐.assets/640-1714911330128-220.webp)
![图片](./NAS系统推荐.assets/640-1714911330128-221.webp)

### 二、Zerotier

#### 注册账号

🔻登录官方注册账号（https://www.zerotier.com），使用github授权登录。新建一个网络，记下网络ID号

![图片](./NAS系统推荐.assets/640-1714911330128-222.webp)

#### 部署服务端节点

🔻docker run部署

```bash
docker run -itd \
--name zerotier \
--net=host \
--device=/dev/net/tun \
--restart=always \
-v /volume1/docker/zerotier:/var/lib/zerotier-one \
--cap-add=NET_ADMIN \
--cap-add=SYS_ADMIN \
seedgou/zerotier
```

🔻群晖套件中心部署

![图片](./NAS系统推荐.assets/640-1714911330128-223.webp)🔻服务端加入网络

```bash
# 进入容器内部
docker exec -it zerotier-one bash
# 加入指定网络
/usr/sbin/zerotier-cli join fadaxxxxxxxxc299
```

#### 部署客户端节点

客户端支持Windows、Linux、MacOS、IOS、安卓、群晖、freshports，安装后只需要接入网络即可。
![图片](./NAS系统推荐.assets/640-1714911330128-224.webp)
![图片](./NAS系统推荐.assets/640-1714911330128-225.webp)

### **三、Tailscale**

#### 注册账号

登录官方注册账号（https://login.tailscale.com/），使用github授权登录。
![图片](./NAS系统推荐.assets/640-1714911330128-226.webp)
🔻在设置中，新建授权的key，用于安装服务器端。
![图片](./NAS系统推荐.assets/640-1714911330128-227.webp)
🔻取个名字，然后新建并保存好key
![图片](./NAS系统推荐.assets/640-1714911330128-228.webp)
![图片](./NAS系统推荐.assets/640-1714911330128-229.webp)

#### 部署服务端节点

🔻docker run部署

```bash
docker run -dit \
--name=tailscaled \
-v /var/lib:/var/lib \
-v /dev/net/tun:/dev/net/tun \
--network=host \
--cap-add=NET_ADMIN \
--cap-add=NET_RAW \
--env TS_AUTHKEY=tskey-auth-ab1CDE2CNTRL-0123456789abcdef \ # 这里填入刚才复制的key
tailscale/tailscale
```

![图片](./NAS系统推荐.assets/640-1714911330129-230.webp)

#### 部署客户端节点

🔻下载客户端，点击登录，转跳网页版授权以后，会自动入网，操作无脑简单。

# FSM2.0：国产NAS操作系统

一款国产NAS操作系统开启了测试，该系统最早叫做FileOS，后更名为FileStationOS，于2023年发布第一版本，并且一直不断的优化和完善。

后续随着不断优化以及定位调整，项目重构后正式命名为FileStation Manager®，简称FSM操作系统。

据官方介绍，产品侧会包含软硬一体成品NAS，也提供单独的操作系统使用服务。

除了NAS服务端本身的操作系统外，还将陆续支持Windows\Linux\MacOS桌面系统，支持IOS\安卓\鸿蒙移动app，支持安卓\鸿蒙TV系统等。

运营模式的话，目前看到的消息是订阅制为主，应该也会支持买断制。由于目前还在系统测试阶段，最终方案应以官方发布消息为准。

Cherry还是很期待这个项目的，看看后续会如何发展，能否给国内的NAS系统注入一束光~~



🔻官方下载页面有引导程序、镜像文件、移动端、桌面端、电视端、网卡驱动程序等。
![图片](./NAS系统推荐.assets/640-1714911902242-375.webp)



## 系统安装

因为Cherry手上的硬件已经装了黑威联通了，所以本次采用VMWare虚拟机安装的方式部署系统体验。

### 一、下载FSM系统镜像和固件

最新镜像版本号为v2.0.0，下载地址：https://www.qiduo.net/download

🔻我们这里分别下载X86通用平台的引导程序和固件。
![图片](./NAS系统推荐.assets/640-1714911902242-376.webp)
![图片](./NAS系统推荐.assets/640-1714911902242-377.webp)

### 二、VMWare安装FSM

🔻新建虚拟机，选择经典模式安装
![图片](./NAS系统推荐.assets/640-1714911902242-378.webp)
🔻这里先选择稍后安装操作系统，默认点下去就行
![图片](./NAS系统推荐.assets/640-1714911902242-379.webp)
🔻系统版本选择【debian10.x X64位】
![图片](./NAS系统推荐.assets/640-1714911902242-380.webp)
🔻自定义选择虚拟机所在的位置
![图片](./NAS系统推荐.assets/640-1714911902242-381.webp)
🔻这里不用改，后面要删掉
![图片](./NAS系统推荐.assets/640-1714911902242-382.webp)
🔻完成以后先不要启动，点击**虚拟机设置**，新增至少2块硬盘，选择SATA类型，然后把**硬盘（SCSI）移除**
![图片](./NAS系统推荐.assets/640-1714911902242-383.webp)
🔻启动虚拟机，等待系统自动运行，会显示出IP访问地址
![图片](./NAS系统推荐.assets/640-1714911902242-384.webp)



### 三、安装系统并体验

🔻输入虚拟机上的IP，会来到下面的安装页面，点击安装，上传固件等待即可。安装完成以后虚拟机这里可能需要手动重启一下，依旧是什么都不要管，让系统自动运行，直到跳出IP为止。
![图片](./NAS系统推荐.assets/640-1714911902242-385.webp)
🔻下面输入**http://ip:5001** 进入系统，新建admin账号、密码，注意账号不要使用`root`
![图片](./NAS系统推荐.assets/640-1714911902242-386.webp)
🔻系统首页，可以看出来是模仿了苹果的UI风格
![图片](./NAS系统推荐.assets/640-1714911902243-387.webp) 🔻目前系统只包含了用户管理、文件管理、设置、Docker（暂时不能用）等功能。

![图片](./NAS系统推荐.assets/640-1714911902243-388.webp)

🔻我们先来体验一下存储池，可以看到存储池支持常规的raid操作。
![图片](./NAS系统推荐.assets/640-1714911902243-389.webp)
🔻新建存储池以后，可以创建存储空间，目录里包含了home（应该是共享空间？），cgakki（用户空间），music、photo、video等几个目录，可以上传文件。
![图片](./NAS系统推荐.assets/640-1714911902243-390.webp) 🔻支持性能监控，常规的监控内容都有了。



![图片](./NAS系统推荐.assets/640-1714911902243-391.webp)

## 后记

从官方社区交流情况来看，官方正在努力收集首轮测试的一些问题和反馈，并且已经着手更新、完善，并陆续开放计划中的更多功能和应用。

值得一提的是，除了操作系统意外，该项目还有除非如主板、NAS机箱等硬件设备，产品线还是比较丰满的。

对于喜欢折腾，想尝鲜的朋友，可以下载并用虚拟机体验一下，如果想要等完整使用，可以再等一等官方的更新。