# ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS

## å°†åºŸæ—§å°ç±³æ‰‹æœºç±³8liteæ”¹é€ æˆä¸€å°è½»NASï¼ˆä¸€ï¼‰

å¾ˆå¤šäººéƒ½å°è¯•ç”¨å°ç±³è·¯ç”±å™¨æ­é…å¤–ç½®å­˜å‚¨åšå®¶ç”¨NASçš„ä»£æ›¿æ–¹æ¡ˆï¼Œä½†æ˜¯è·¯ç”±å™¨å§ï¼Œæ¯•ç«Ÿæ˜¯å®¶åº­ç½‘ç»œæ ¸å¿ƒï¼Œä¸å»ºè®®éšæ„æŠ˜è…¾ã€‚

çªç„¶ï¼Œä¸€ä¸ªåˆ©ç”¨åºŸæ—§å°ç±³æ‰‹æœºåˆ¶ä½œç®€æ˜“NASçš„æƒ³æ³•ï¼Œæ²¹ç„¶è€Œç”Ÿã€‚é‚£æ”¹ç³»ç»Ÿå‰ï¼Œæˆ‘ä»¬å…ˆè¦äº†è§£NASæ˜¯ä»€ä¹ˆã€‚

> 1ï¸âƒ£ç‹­ä¹‰ä¸Šçš„NASå…¨ç§°æ˜¯Network Attached Storageï¼Œå°±æ˜¯ä¸€å°ä¾é™„äºç½‘ç»œï¼Œå¹¶ä¸”æä¾›å†…å¤–ç½‘å­˜å‚¨çš„è®¾å¤‡ã€‚ 
>
> 2ï¸âƒ£ç°åœ¨çš„NASå¯ä¸ä»…ä»…æ˜¯è¿™ä¸ªåŠŸèƒ½ï¼Œç°åœ¨çš„NASæ›´å¤šçš„å¯ä»¥è®¤ä¸ºæ˜¯å®¶åº­åº”ç”¨ä¸­å¿ƒï¼Œä»¥æ•°æ®å­˜å‚¨ä¸ºæ ¸å¿ƒï¼Œæ‹“å±•å¦‚å®¶åº­å½±è§†ä¸­å¿ƒã€å®¶åº­ç›¸å†Œç®¡ç†ã€å®¶åº­æ™ºæ§ä¸­å¿ƒã€å®¶åº­ç½‘ç»œä¸­å¿ƒã€å®¶åº­è‡ªæ‰˜ç®¡åº”ç”¨æœåŠ¡ä¸­å¿ƒç­‰ç­‰åŠŸèƒ½ï¼Œå¯ä»¥è¯´æ˜¯å®¶åº­æ•°ç è®¾å¤‡çš„æ ¸å¿ƒã€‚

è¯´å®ŒNASï¼Œæˆ‘ä»¬å†æ¥è¯´è¯´ä¸»æµçš„å°ç±³æ‰‹æœºæ”¹é€ æœåŠ¡å™¨çš„æ–¹æ¡ˆï¼š

> 1ï¸âƒ£æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨è™šæ‹Ÿæœºï¼Œæœ€è‘—åçš„å°±æ˜¯Termuxï¼Œæ— éœ€rootå³å¯åœ¨å®‰å“ä¸Šè¿è¡Œlinuxç³»ç»Ÿï¼Œä½†æ˜¯æ— æ³•å‘æŒ¥æ‰‹æœºçš„æœ€å¤§æ€§èƒ½ã€‚ 
>
> 2ï¸âƒ£æ–¹æ¡ˆäºŒï¼šåˆ·å…¥åŸç”Ÿlinuxç³»ç»Ÿï¼Œç›®å‰å¯¹å°ç±³å¹³å°æ”¯æŒæ¯”è¾ƒå¥½çš„å¹³å°æœ‰Ubuntu touchã€Mobianã€PostMarketOSã€Droidianç­‰

ç›®å‰ç½‘ä¸Šçš„PostMarketOSä½œä¸ºæ•™ç¨‹ä¸å¤šï¼Œè€Œä¸”æ—¶é—´éƒ½æ¯”è¾ƒä¹…è¿œï¼Œç›®å‰çš„PostMarketOSçš„å®‰è£…æ–¹æ¡ˆå·²ç®€æ˜“äº†å¾ˆå¤šï¼Œå› æ­¤æœ¬æ–‡ä»¥å°ç±³æ‰‹æœºåˆ·å…¥PostMarketOSä¸ºæ ¸å¿ƒæ•™ç¨‹ï¼Œå°†åºŸæ—§æ‰‹æœºæ”¹é€ æˆä¸€å°å°NASã€‚

ğŸ”»ä¸‹é¢ä»‹ç»å°ç±³è®¾å¤‡æ”¯æŒæƒ…å†µï¼Œå®é™…ä¸åŒæ‰‹æœºåœ¨æ”¯æŒä¸Šéƒ½æœ‰æ‰€åŒºåˆ«ã€‚
ç¬¬ä¸€éƒ¨åˆ†ï¼Œå®˜æ–¹å®Œç¾æ”¯æŒâ€”â€”æ— ã€‚
ç¬¬äºŒéƒ¨åˆ†ï¼Œç¤¾åŒºæ”¯æŒï¼ŒåŒ…å«ç±³1ã€ç±³2liteã€ç±³note2ã€PpcoF1ã€çº¢ç±³2ã€çº¢ç±³4primeã€çº¢ç±³5plusã€çº¢ç±³note4ã€çº¢ç±³S2ï¼Œè¿™äº›è®¾å¤‡æ”¯æŒWIFIå’ŒUIï¼Œå±äºå®Œå…¨ä½“ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640.webp)
ç¬¬ä¸‰éƒ¨åˆ†ï¼Œæµ‹è¯•æ”¯æŒï¼ŒåŸºæœ¬åŒ…å«äº†ä¸»æµçš„å°ç±³è®¾å¤‡ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-283.webp)
ç¬¬å››éƒ¨åˆ†ï¼Œå®Œå…¨ä¸æ”¯æŒã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-284.webp)



------



### ä¸€ã€è§£é”å°ç±³æ‰‹æœº

ğŸ”»è§£é”åœ°å€ï¼šç”³è¯·è§£é”å°ç±³æ‰‹æœº (miui.com)

![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-285.webp)
ğŸ”»æŒ‰ä½éŸ³é‡-å’Œå¼€æœºé”®å¼€æœºï¼Œè¿›å…¥fastbootæ¨¡å¼ï¼Œç„¶åè¿æ¥ç”µè„‘æ•°æ®çº¿ï¼Œç‚¹å‡»è§£é”ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-286.webp)
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-287.webp)
ğŸ”»å¦‚æœæ‰‹æœºæ’å…¥æ²¡æœ‰ååº”çš„ï¼Œç‚¹ä¸€ä¸‹å³ä¸Šè§’çš„é½¿è½®ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª**é©±åŠ¨æ£€æµ‹**ï¼ŒæŒ‰æ­¥éª¤æ›´æ–°ä¸‹é©±åŠ¨å³å¯ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-288.webp)
æ¥ç€å°±æ˜¯å¤šæ¬¡æé†’ï¼Œä¸€ç›´ç¡®è®¤å³å¯å®Œæˆè§£é”ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-289.webp)



### äºŒã€ç±³8åˆ·æœºPostMarketOS

ğŸ”´PostMarketOSçš„å®‰è£…å¿…é¡»ä½¿ç”¨linuxç³»ç»Ÿï¼Œæ‰€ä»¥å¦‚æœæ˜¯windowsçš„è¯ï¼Œéœ€è¦ä½¿ç”¨è™šæ‹Ÿæœºï¼Œä½†é—®é¢˜æ˜¯åœ¨fastbootæ¨¡å¼ä¸‹ï¼Œè™šæ‹Ÿæœºæœ‰æ¦‚ç‡æ— æ³•è·å–åˆ°æ‰‹æœºè®¾å¤‡çš„ï¼Œæœ‹å‹ä»¬å¯ä»¥è¯•ä¸€è¯•ã€‚

#### ç¬¬ä¸€æ­¥ï¼šå®‰è£…pmbootstrap

ğŸ”»ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦å°†postmarketæŒ‡ä»¤æ”¹ä¸ºç³»ç»ŸæŒ‡ä»¤



```bash
# ä»¥æ­¤åœ¨SSHé¡µé¢æ•²å…¥å¦‚ä¸‹æŒ‡ä»¤
git clone --depth=1 https://gitlab.com/postmarketOS/pmbootstrap.git
mkdir -p ~/.local/bin
ln -s "$PWD/pmbootstrap/pmbootstrap.py" ~/.local/bin/pmbootstrap
PATH="$HOME/.local/bin:$PATH"
#éªŒè¯ç‰ˆæœ¬ä¿¡æ¯
pmbootstrap --version
> 2.2.1
```

![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-290.webp)

#### ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–pmbootstrap

ğŸ”»å¯åŠ¨åˆå§‹åŒ–

```bash
# é¦–å…ˆåˆ‡å›æ™®é€šç”¨æˆ·ï¼Œå› ä¸ºrootæ— æ³•è¿è¡Œpmbootstrap
su - [ä½ çš„æ™®é€šç”¨æˆ·åå­—]
# åˆå§‹åŒ–
pmbootstrap -mp=https://mirrors.aliyun.com/postmarketOS/ -m=https://mirrors.aliyun.com/alpine/ init
```

ğŸ”»åˆå§‹åŒ–é…ç½®
ç¬¬1ä¸ªé€‰é¡¹ï¼Œè®¾ç½®workå·¥ä½œç›®å½•ï¼Œç›´æ¥å›è½¦é»˜è®¤å³å¯ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-291.webp)
ç¬¬2ä¸ªé€‰é¡¹ï¼Œè®¾ç½®ç‰ˆæœ¬ï¼Œéœ€è¦åˆ°å®˜æ–¹è®¾å¤‡ç›®å½•å»æŸ¥æ‰¾ï¼ŒåŒ…æ‹¬Mainï¼ˆä¸»è¦ï¼‰ã€ Communityï¼ˆç¤¾åŒºï¼‰ã€Edgeï¼ˆæ»šåŠ¨ï¼‰ï¼Œå°ç±³8liteå±äºEdgeèŒƒå›´ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥å›è½¦ä¸‹ä¸€æ­¥ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-292.webp)
ä¸‹å›¾æ˜¯å°ç±³çš„Communityï¼ˆç¤¾åŒºï¼‰æ”¯æŒè®¾å¤‡æ¸…å•ï¼š
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-293.webp)
ç¬¬3ä¸ªé€‰é¡¹ï¼Œæ˜¯é€‰æ‹©å¼€å‘å•†ï¼Œæˆ‘ä»¬è¾“å…¥`xiaomi`ï¼Œç„¶åå›è½¦ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-294.webp)
ç¬¬4ä¸ªé€‰é¡¹ï¼Œæ˜¯è®¾å¤‡çš„ä»£å·ï¼Œä»å®˜ç½‘æŸ¥è¯¢ï¼Œç±³8liteçš„ä»£å·æ˜¯`xiaomi-platina`
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-295.webp)
å› ä¸ºå‰é¢å·²ç»é€‰æ‹©è¿‡å¼€å‘å•†äº†ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥è¾“å…¥`platina`å¹¶å›è½¦ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640199-296.webp)
ç¬¬5-7é€‰é¡¹ï¼Œåˆ†åˆ«è¾“å…¥`å›è½¦`ï¼Œ`ç”¨æˆ·åï¼ˆå¯ä¸ºç©ºï¼‰`ï¼Œ`å›è½¦`ï¼Œ`å¯†ç ï¼ˆå¯ä¸ºç©ºï¼‰`ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-297.webp)
ç¬¬8ä¸ªé€‰é¡¹ï¼Œé€‰æ‹©UIé£æ ¼ï¼Œå› ä¸ºè¿™é‡Œä½œä¸ºçº¯linuxï¼Œé€‰æ‹©é»˜è®¤çš„å‘½ä»¤è¡Œæ¨¡å¼ï¼Œä¸éœ€è¦UIã€‚
ğŸ”´**éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸åŒçš„å°ç±³è®¾å¤‡å¯¹UIæ”¯æŒä¸åŒï¼Œè€Œä¸”å¤§æ¦‚ç‡åˆ·å®Œæœºæ˜¯ä¼šå¡åœ¨ç™»å½•é¡µé¢çš„ï¼Œä½†æ˜¯æœåŠ¡å™¨æœ¬èº«å·²ç»å¯åŠ¨äº†ï¼Œæ‰€ä»¥UIé€‰å•¥éƒ½æ— æ‰€è°“**
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-298.webp)
ç¬¬9-13ä¸ªé€‰é¡¹ï¼Œç¬¬12é¡¹çš„åœ°å€æ›´æ”¹ä½`zh_CN`,ç¬¬13é¡¹çš„hostnameè‡ªå·±å®šä¹‰å³å¯ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-299.webp)
ç¬¬14ä¸ªé€‰é¡¹ï¼Œç›´æ¥å›è½¦ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-300.webp)

#### ç¬¬ä¸‰æ­¥ï¼šå¼€å§‹åˆ·æœº

ğŸ”»å¼€å§‹åˆ·æœºï¼Œå¦‚æœ5-7æ­¥è®¾ç½®è¿‡è´¦å·å¯†ç çš„ï¼Œè¿™é‡Œè¾“å…¥å¯†ç å³å¯ã€‚

```bash
pmbootstrap -mp=https://mirrors.aliyun.com/postmarketOS/ -m=https://mirrors.aliyun.com/alpine/ install
```



![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-301.webp)
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-302.webp)
ğŸ”»åˆ·å…¥rootfsé•œåƒ

```bash
pmbootstrap -mp=https://mirrors.aliyun.com/postmarketOS/ -m=https://mirrors.aliyun.com/alpine/ flasher flash_rootfs --partition userdata
```


![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-303.webp)
ğŸ”»åˆ·å…¥vbmetaé•œåƒ

```bash
pmbootstrap -mp=https://mirrors.aliyun.com/postmarketOS/ -m=https://mirrors.aliyun.com/alpine/ flasher flash_vbmeta
```


![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-304.webp)
ğŸ”»åˆ·å…¥å†…æ ¸

```bash
pmbootstrap -mp=https://mirrors.aliyun.com/postmarketOS/ -m=https://mirrors.aliyun.com/alpine/ flasher flash_kernel
```


![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-305.webp)



### ä¸‰ã€é…ç½®ç½‘ç»œå¹¶ç™»å½•â€œç±³NASâ€

#### ç¬¬ä¸€æ­¥ï¼šç™»å½•SSH

ğŸ”»å°†ç±³8ä½¿ç”¨USBæ•°æ®çº¿è¿æ¥å°å¼æœºçš„åèƒŒUSBï¼Œè¿™ä¸ªæ—¶å€™ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ç½‘ç»œï¼Œé€šè¿‡RNDISè¿›è¡Œç½‘ç»œè¿æ¥ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-306.webp)
ğŸ”»windowsä¼šç”Ÿæˆä¸€ä¸ªé»˜è®¤ipä¸º172.16.42.2çš„RNDISç½‘ç»œIPã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-307.webp)
ğŸ”»é€šè¿‡finalshellç­‰SSHå·¥å…·ï¼Œç›®æ ‡åœ°å€ä¸º172.16.42.1ï¼Œè´¦å·ä¸ºuserï¼Œå¯†ç ä¸ºä½ åˆšæ‰è®¾ç½®çš„å¯†ç ã€‚ç™»å½•æˆåŠŸåå¦‚ä¸‹ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-308.webp)

#### ç¬¬äºŒæ­¥ï¼šwindowså…±äº«ç½‘ç»œ

Cherryçš„ç±³8liteç›®å‰ä¸åœ¨wifiæ”¯æŒèŒƒå›´å†…ï¼Œæ‰€ä»¥æ— æ³•é€šè¿‡wifiè¿æ¥ç½‘ç»œï¼Œåªèƒ½å›´é­æ•‘èµµï¼Œé€šè¿‡USBè¿æ¥åˆ°ç”µè„‘ä¸Šè®¿é—®ç½‘ç»œ,è¿™é‡Œæ¼”ç¤ºè¿æ¥åˆ°windowsä¸Šè¿›è¡Œå¤–ç½‘è®¿é—®çš„æ–¹æ³•ã€‚
ğŸ”»é€‰æ‹©èƒ½ä¸Šç½‘çš„é‚£ä¸ªä¸»ç½‘ç»œï¼Œå³é”®å±æ€§ï¼Œé€‰æ‹©å…±äº«ï¼Œå°†ç½‘ç»œå…±äº«ç»™RNDISçš„ç½‘ç»œã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-309.webp)
ğŸ”»å…³é—­windowsçš„æ‰€æœ‰é˜²ç«å¢™ï¼Œå¦‚æœæ‹…å¿ƒç½‘ç»œé—®é¢˜è¯·æ”¾è¡Œç›¸å…³çš„ç­–ç•¥ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-310.webp)
ğŸ”»ç°åœ¨æ‹¿ç™¾åº¦æµ‹è¯•ä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»è®¿é—®é€šäº†ã€‚
![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-311.webp)

### å››ã€å®‰è£…dockerå’Œé¢æ¿

ğŸ”»ä½¿ç”¨æŒ‡ä»¤å®‰è£…dockerå’Œdocker-compose

```bash
# å®‰è£…docker
sudo apk add docker
# éªŒè¯ç‰ˆæœ¬
docker -v
# å®‰è£…docker-compose
sudo apk add docker-compose
# éªŒè¯ç‰ˆæœ¬
docker-compose -v
```

![å›¾ç‰‡](./ç¡¬ä»¶è®¾å¤‡æ”¹é€ æˆNAS.assets/640-1714911640200-312.webp)

### å¾…ç»­

å› ä¸ºç¯‡å¹…æœ‰é™ï¼Œæœ¬æ–‡æš‚æ—¶ä»‹ç»å¦‚ä½•åˆ·æœºPostMarketOSã€‚è€Œä¸”Cherryä¹Ÿæ˜¯ä¸€è¾¹æŠ˜è…¾ä¸€è¾¹æ›´æ–°ï¼Œæ¯”å¦‚åˆ·æœºå°±ç”¨äº†æˆ‘2å¤©æ—¶é—´æ’å‘ã€‚

æŠ˜è…¾å¤§ä½¬ä»¬å¯ä»¥å…ˆè¡Œåˆ·æœºåï¼Œè‡ªå·±ä½“éªŒä½“éªŒï¼Œå¹¶åœ¨è¯„è®ºåŒºäº¤æµç»éªŒå“¦~

åç»­Cherryä¼šç»§ç»­ä»‹ç»å¦‚ä½•å®‰è£…å’Œä½¿ç”¨dockerã€å¦‚ä½•ç›‘æ§æ‰‹æœºæ€§èƒ½ã€å¦‚ä½•è§£å†³æ‰‹æœºç½‘ç»œå’Œå……ç”µã€å¦‚ä½•æ•£çƒ­ã€å¦‚ä½•æ‰©å®¹ç©ºé—´ï¼Œä»¥åŠå“ªäº›åº”ç”¨é€‚åˆéƒ¨ç½²åœ¨æ‰‹æœºç«¯ç­‰é—®é¢˜ã€‚