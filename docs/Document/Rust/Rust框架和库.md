# Rust Ê°ÜÊû∂ÂíåÂ∫ì

[i5ting/learn-rust-for-fe: Rust ÊòØÊú™Êù•ÂâçÁ´ØÂü∫Á°ÄËÆæÊñΩ (github.com)](https://github.com/i5ting/learn-rust-for-fe)

[rust-unofficial/awesome-rustÔºöRust ‰ª£Á†ÅÂíåËµÑÊ∫êÁöÑÁ≤æÈÄâÂàóË°®„ÄÇ (github.com)](https://github.com/rust-unofficial/awesome-rust)

- ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑
- ÁΩëÁªúÁºñÁ®ã
- Ê∏∏ÊàèÂºÄÂèë
- Web Ê°ÜÊû∂
- Êú∫Âô®Â≠¶‰π†
- Êï∞ÊçÆÂ∫ì
- Êìç‰ΩúÁ≥ªÁªü
- Âå∫ÂùóÈìæ

## ShuttleÔºöÂèØÂÖçË¥πÈÉ®ÁΩ≤rust webÂ∫îÁî®ÁöÑ‰∫ëÂπ≥Âè∞

[shuttle-hq/shuttleÔºöÊûÑÂª∫Âíå‰∫§‰ªòÂêéÁ´ØÔºåÊó†ÈúÄÁºñÂÜô‰ªª‰ΩïÂü∫Á°ÄËÆæÊñΩÊñá‰ª∂„ÄÇ (github.com)](https://github.com/shuttle-hq/shuttle)

ShuttleÊòØ‰∏Ä‰∏™RustÂéüÁîü‰∫ëÂºÄÂèëÂπ≥Âè∞ÔºåÂèØ‰ª•ËÆ©ÊÇ®ÈÉ®ÁΩ≤Â∫îÁî®Á®ãÂ∫èÔºåÂêåÊó∂ËøòÂèØ‰ª•ÁÆ°ÁêÜÊâÄÊúâÂü∫Á°ÄËÆæÊñΩ„ÄÇ‰Ωú‰∏∫‰∏Ä‰∏™‰∏ìÊ≥®‰∫éÊèê‰æõÂçìË∂äÂºÄÂèëËÄÖ‰ΩìÈ™åÁöÑÂπ≥Âè∞ÔºåÊàë‰ª¨ÁöÑÁõÆÊ†áÊòØËÆ©ÊûÑÂª∫ÂíåÈÉ®ÁΩ≤Â∫îÁî®Á®ãÂ∫èÂèòÂæóËΩªËÄåÊòì‰∏æ„ÄÇShuttleÁöÑ‚Äú‰ª£Á†ÅÂü∫Á°ÄÊû∂ÊûÑ‚ÄùÂäüËÉΩ‰ΩøËµÑÊ∫êË∞ÉÈÖçÂèòÂæóÁÆÄÂçïËÄåÊó†Âøß„ÄÇËé∑ÂèñÊï∞ÊçÆÂ∫ìÂè™ÈúÄË¶Å‰∏Ä‰∏™Â∏¶ÊúâÊï∞ÊçÆÂ∫ìÁöÑÂÆèÔºö

```rust
#[shuttle_runtime::main]
async fn main(
    // automatic db provisioning + hands you back an authenticated connection pool
    #[shuttle_shared_db::Postgres] pool: PgPool,
) -> ShuttleRocket<...> {
    // application code
}

```

‰Ω†ÂèØ‰ª•ËÑöË∏èÂÆûÂú∞ÔºåËøÖÈÄüÂ∞Ü‰Ω†ÁöÑÊÉ≥Ê≥ïËΩ¨Âåñ‰∏∫ÂàáÂÆûÂèØË°åÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇÈÄöËøáÂø´ÈÄüÊûÑÂª∫ÂíåÈÉ®ÁΩ≤ÂéüÂûãÊù•Âä†Âø´È°πÁõÆËøõÂ∫¶ÔºåÁ°Æ‰øùÊÇ®Âú®ÂàõÁ∫™ÂΩïÁöÑÊó∂Èó¥ÂÜÖÂÆûÁé∞ÊÑøÊôØ„ÄÇ

ShuttleÂèØ‰ª•ÊâòÁÆ°ËÆ∏Â§öÁ±ªÂûãÁöÑRustÁ®ãÂ∫è„ÄÇShuttleÁéØÂ¢É‰∏∫Êö¥Èú≤Âú®‰∫íËÅîÁΩë‰∏äÁöÑÁΩëÁªúÊµÅÈáèÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÁΩëÁªúÁ´ØÂè£„ÄÇÂõ†Ê≠§ÔºåÊúÄÂ∏∏ËßÅÁöÑÁî®‰æãÊòØÈÉ®ÁΩ≤webÂ∫îÁî®Á®ãÂ∫è„ÄÇÂèØ‰ª•ÁªëÂÆöÂà∞Â•óÊé•Â≠óÂπ∂Êé•Âèó‰º†ÂÖ•HTTPÊµÅÈáèÁöÑÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•Âú®Shuttle‰∏äËøêË°å„ÄÇ

‰∏∫‰∫ÜËÆ©ÂºÄÂèëÊõ¥ËΩªÊùæÔºåÊàë‰ª¨ÂÆûÁé∞‰∫ÜËøô‰∫õRust webÊ°ÜÊû∂ÊâÄÈúÄÁöÑÊâÄÊúâÊ†∑Êùø„ÄÇÂè™ÈúÄÂá†Ë°å‰ª£Á†ÅÂç≥ÂèØÂºÄÂßã„ÄÇ

Axum

Actix Web
Rocket
Warp
Tower
Salvo
Poem
Tide
Thruster
shuttle-next



Discord BotÊûÑÂª∫Ê°ÜÊû∂SerenityÂíåPoise‰πüÂæóÂà∞ÂÆòÊñπÊîØÊåÅ„ÄÇÂ¶ÇÊûúÊÇ®ÈúÄË¶ÅÂÆöÂà∂ÊúçÂä°ÔºåÊÇ®ÂèØ‰ª•Âú®ËøôÈáåÊü•ÁúãÊàë‰ª¨ÁöÑÊåáÂçó„ÄÇ



ShuttleÁöÑ‰∏ÄÂ§ßÁâπÁÇπÊòØÈÄöËøáÂÆèÊèê‰æõËµÑÊ∫ê„ÄÇÂè™ÈúÄÂá†Ë°å‰ª£Á†ÅÔºåÊÇ®Â∞±ÂèØ‰ª•ËÆøÈóÆAWS RDS„ÄÅÂÖ±‰∫´PostgresÊàñMongoÊï∞ÊçÆÂ∫ìÁ≠â„ÄÇÊü•ÁúãÂèÇËÄÉËµÑÊñôÈÉ®ÂàÜ‰ª•Ëé∑ÂæóÂÆåÊï¥Ê¶ÇËø∞„ÄÇ



Âú®Shuttle‰∏äÊûÑÂª∫ÂíåÈÉ®ÁΩ≤webÂ∫îÁî®Á®ãÂ∫èÁöÑÊúÄÁÆÄÂçïÊñπÊ≥ïÂ¶Ç‰∏ãÔºö

```rust
use axum::{routing::get, Router};

async fn hello_world() -> &'static str {
    "Hello, world!"
}

#[shuttle_runtime::main]
async fn main() -> shuttle_axum::ShuttleAxum {
    let router = Router::new().route("/", get(hello_world));

    Ok(router.into())
}
```



Ê≠§Á§∫‰æãÂêØÂä®‰∏Ä‰∏™ÊúçÂä°Âô®ÔºåÂÖ∂‰∏≠/Á´ØÁÇπËøîÂõûHelloÔºåworldÔºÅ„ÄÇ‰ΩÜÊúÄÈáçË¶ÅÁöÑÊòØÔºåÊÇ®Âú®‰∏äÈù¢ÁöÑ‰ª£Á†ÅÁâáÊÆµ‰∏≠ÁúãÂà∞ÁöÑ‰ª£Á†ÅÔºåÊòØshuttleÈÉ®ÁΩ≤ÊâÄÈúÄÁöÑÂÖ®ÈÉ®ÂÜÖÂÆπ„ÄÇ

\#[shuttle_runtime:Ôºömain]ÊòØ‰∏™ËøáÁ®ãÂÆè„ÄÇËØ•ÂÆè‰ΩøÁî®ShuttleÁöÑËøêË°åÊó∂ÂåÖË£ÖÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇShuttleËøêË°åÊó∂Êé•Êî∂Êù•Ëá™ÈÉ®ÁΩ≤Á®ãÂ∫èÁöÑÂëΩ‰ª§ÔºåÂ¶ÇÂä†ËΩΩ„ÄÅÂêØÂä®ÂíåÂÅúÊ≠¢„ÄÇÂä†ËΩΩÈò∂ÊÆµ‰∏∫Â∫îÁî®Á®ãÂ∫èÊèê‰æõËµÑÊ∫êÔºàËßÅ‰∏ãÊñáÔºâ„ÄÇ

![image-20240526162110126](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240526162110126.png)

Âú®‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Ôºå‰∏ªÂáΩÊï∞‰∏≠ÁöÑ2‰∏™Ê≥®ÈáäÊâ©Â±ï‰∏∫‰ª£Á†ÅÔºå‰ΩøShuttleËøêË°åÊó∂Âú®Êàë‰ª¨Á´ØÊèê‰æõÂÆÉ‰ª¨„ÄÇ

‰ª•‰∏ãÊòØÂú®Â∞ÜÊâÄÈúÄÊ≥®ÈáäÊ∑ªÂä†Âà∞‰ª£Á†Å‰∏≠ÂêéÂ¶Ç‰Ωï‰ΩøÁî®ÂÆÉ‰ª¨ÁöÑÁ§∫‰æãÔºö

ÂØÜÈí•Ôºö

```rust
#[shuttle_runtime::main]
async fn axum(
    #[shuttle_secrets::Secrets] secret_store: SecretStore,
) -> shuttle_axum::ShuttleAxum {
    // Get secret defined in `Secrets.toml` file.
    let secret = if let Some(secret) = secret_store.get("MY_API_KEY") {
        secret
    } else {
        return Err(anyhow!("secret was not found").into());
    };
}
```

Êï∞ÊçÆÂ∫ìÔºö

```rust

#[shuttle_runtime::main]
async fn axum(
    #[shuttle_shared_db::Postgres] pool: PgPool,
) -> shuttle_axum::ShuttleAxum {
    // We can query our Postgres database with `pool`
    pool.execute(include_str!("../schema.sql"))
        .await
        .map_err(CustomError::new)?;
}
```

ÂΩìÊÇ®ËøêË°åshuttleÈÉ®ÁΩ≤Êó∂ÔºåÊÇ®ÁöÑÈ°πÁõÆ‰ª£Á†Å‰ºöË¢´Â≠òÊ°£Âπ∂ÂèëÈÄÅÂà∞Êàë‰ª¨ÁöÑÊúçÂä°Âô®ÔºåÂú®ÈÇ£ÈáåËøõË°åÁºñËØë„ÄÇÊàë‰ª¨Âú®shutter_runtime:Ôºömain‰∏≠ÁöÑ‰ª£Á†ÅÁîüÊàêÂ∞ÜÂú®‰∫åËøõÂà∂Êñá‰ª∂‰∏≠ÂµåÂÖ•‰∏Ä‰∏™gRPCÊúçÂä°Âô®ÔºåÊàë‰ª¨Â∞Ü‰ΩøÁî®ËØ•ÊúçÂä°Âô®Êù•ÂêØÂä®ÂíåÂÅúÊ≠¢ÊÇ®ÁöÑÊúçÂä°Ôºå‰ª•Âèä‰∏Ä‰∏™LoaderÁªìÊûÑÔºåËØ•ÁªìÊûÑÂ∞ÜÂú®‰∏ªÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏≠Êèê‰æõÊÇ®ËØ∑Ê±ÇÁöÑËµÑÊ∫ê„ÄÇÁÑ∂ÂêéÔºåÊÇ®ÁöÑÊúçÂä°Â∞ÜÂú®AWSÊ¨ßÊ¥≤Ë•øÈÉ®2Âú∞Âå∫ÁöÑShuttleÂü∫Á°ÄËÆæÊñΩ‰∏äÂêØÂä®„ÄÇ



ÂÆÉÂåÖÂê´Á§æÂå∫ÁâàÊú¨ÔºåÂèØ‰ª•ÂÖçË¥π‰ΩøÁî®Ôºå‰ΩøÁî®ÊÇ®ÊìÖÈïøÁöÑrust webÂºÄÂèëÊ°ÜÊû∂ÔºåÂèëÂ∏ÉÂà∞Ëøô‰∏™Âπ≥Âè∞ËøêË°åÔºåÁ§æÂå∫ÁâàÊú¨ËµÑÊ∫êÊúâÈôêÂà∂ÔºåÁõÆÂâçÊòØÊúÄÂ§ö3‰∏™È°πÁõÆÔºåËµ∑Ê≠•Êï∞ÊçÆÂ∫ìÔºåËµ∑Ê≠•CPUÂíåÂÜÖÂ≠ò„ÄÇ

ÂÖ∑‰ΩìÂÆö‰ª∑ËØ¶ÊÉÖËØ∑Êü•ÁúãÔºöhttps://www.shuttle.rs/pricing

GithubÂú∞ÂùÄÔºöhttps://github.com/shuttle-hq/shuttle

# Â∫ìÊêúÁ¥¢

cratesÔºöhttps://crates.io/

Lib.rsÔºöhttps://lib.rs/

Rust ÁöÑÊ†áÂáÜÂ∫ìÈùûÂ∏∏Á≤æÁÆÄÔºåÂõ†Ê≠§Âú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÊàë‰ª¨ÈÄöÂ∏∏ÈúÄË¶Å‰æùËµñÂ§ßÈáèÁöÑÁ¨¨‰∏âÊñπÂ∫ì„ÄÇ

- crates.io ÊòØÂÆòÊñπÁöÑÂåÖÊâòÁÆ°ÁΩëÁ´ôÔºåÊÇ®ÂèØ‰ª•Âú®ËøôÈáåÊâæÂà∞ÂêÑÁßçÂêÑÊ†∑ÁöÑ Rust Â∫ì„ÄÇ
- ËÄå docs.rs ÂàôÊòØÂÆòÊñπÁöÑÊñáÊ°£ÊâòÁÆ°ÁΩëÁ´ôÔºåËá™Âä®ÁîüÊàê‰∫ÜÊâÄÊúâÂèëÂ∏ÉÂú® crates.io ‰∏äÁöÑÂåÖÊñáÊ°£„ÄÇÈÄöËøáËøô‰∏§‰∏™ÁΩëÁ´ôÔºåÊÇ®ÂèØ‰ª•ËΩªÊùæÊâæÂà∞ÊâÄÈúÄÁöÑÂ∫ìÔºåÂπ∂Êü•ÁúãÂÖ∂ËØ¶ÁªÜÊñáÊ°£„ÄÇ

# ÂëΩ‰ª§Ë°åÂ∫ì

## clapÔºöÂëΩ‰ª§Ë°åÂèÇÊï∞Ëß£ÊûêÂô®

**clapÔºöRust ÁöÑÂëΩ‰ª§Ë°åÂèÇÊï∞Ëß£ÊûêÂô®**Ôºö[clap - rust (docs.rs)](https://docs.rs/clap/latest/clap/)

## tui-realm

**GitHub Âú∞ÂùÄ**Ôºöhttps://github.com/veeso/tui-realm

ui-realm ÊòØ‰∏Ä‰∏™Áî®‰∫é ui Âíå ratatui ÁöÑÊ°ÜÊû∂ÔºåÁî®‰∫éÂÆûÁé∞ÁÆÄÂåñÁöÑÁªàÁ´ØÁî®Êà∑ÁïåÈù¢ÔºåÂ¢ûÂä†‰∫Ü‰ΩøÁî®ÂÖ∑ÊúâÂ±ûÊÄßÂíåÁä∂ÊÄÅÁöÑÂèØÈáçÁî®ÁªÑ‰ª∂ÔºåÂ∞±ÂÉèÂú® React ‰∏≠ÊâÄÂÅöÁöÑÈÇ£Ê†∑„ÄÇ‰ΩÜËøôËøò‰∏çÊòØÂÖ®ÈÉ®ÔºöÁªÑ‰ª∂ÈÄöËøáÂü∫‰∫éÊ∂àÊÅØÂíå‰∫ã‰ª∂ÁöÑÁ≥ªÁªü‰∏é ui ÂºïÊìéÈÄö‰ø°ÔºåÊèê‰æõÂÆûÁé∞Êõ¥Êñ∞‰æãÁ®ãÁöÑÂèØËÉΩÊÄßÔºåÂ∞±ÂÉèÂú® Elm ‰∏≠ÂèëÁîüÁöÑÈÇ£Ê†∑„ÄÇÊ≠§Â§ñÔºåÁªÑ‰ª∂Ë¢´ÁªÑÁªáÂú®ËßÜÂõæ‰∏≠ÔºåÂÆÉÁÆ°ÁêÜÊåÇËΩΩ/Âç∏ËΩΩ„ÄÅÁÑ¶ÁÇπÂíå‰∫ã‰ª∂ËΩ¨Âèë„ÄÇ

Ëøô‰πüËß£Èáä‰∫ÜÂêçÁß∞ÁöÑÂéüÂõ†ÔºöRealm ‰ª£Ë°® React Âíå Elm„ÄÇ

ÂäüËÉΩÁâπÊÄßÔºö

- ‰∫ã‰ª∂È©±Âä®
- Âü∫‰∫é React Âíå Elm
- Ê†∑Êùø‰ª£Á†Å
- Âø´ÈÄüÂÆâË£Ö
- Âçï‰∏ÄÁÑ¶ÁÇπÂíåÁä∂ÊÄÅÁÆ°ÁêÜ
- Êòì‰∫éÂ≠¶‰π†
- ÈÄÇÂ∫î‰∫é‰ªª‰ΩïÁî®‰æã
- Tui-realm ÈôÑÂ∏¶‰∫Ü‰∏Ä‰∏™ÂèØÈÄâÁöÑÊ†áÂáÜÁªÑ‰ª∂Â∫ìÔºåÊàëËÆ§‰∏∫ÂØπÂ§ßÂ§öÊï∞Â∫îÁî®Á®ãÂ∫èÈÉΩÂæàÊúâÁî®„ÄÇÂ¶ÇÊûúË¶Å‰ΩøÁî®ÂÆÉÔºåÂè™ÈúÄÂ∞Ü tui-realm-stdlib Ê∑ªÂä†Âà∞ Cargo ‰∏≠„ÄÇtoml ‰æùËµñÊÄß„ÄÇ

## TailspinÔºöÂÆâÂÖ®ËØ≠Ë®ÄÂºÄÂèëÁöÑÊó•ÂøóÈ´ò‰∫ÆÂ∑•ÂÖ∑

ÂºÄÊ∫êÂú∞ÂùÄÔºöhttps://github.com/bensadeh/tailspin

### ËΩØ‰ª∂‰ªãÁªç

> Âú® GitHub ‰∏äÊúâ‰∏Ä‰∏™Âêç‰∏∫ Tailspin ÁöÑÈ°πÁõÆÔºåÂÆÉÊòØ‰ΩøÁî® Rust ÁºñÂÜôÁöÑÂëΩ‰ª§Ë°åÊó•ÂøóÊü•ÁúãÂ∑•ÂÖ∑„ÄÇËøô‰∏™Â∑•ÂÖ∑ÁöÑÁã¨Áâπ‰πãÂ§ÑÂú®‰∫éÔºåÂÆÉÊèê‰æõ‰∫ÜÊó†ÈúÄÈÖçÁΩÆÂç≥ÂèØÁõ¥Êé•‰ΩøÁî®ÁöÑÂäüËÉΩÔºåÈÄöËøáÈ´ò‰∫ÆÊòæÁ§∫Êï∞Â≠ó„ÄÅÊó•Êúü„ÄÅIP Âú∞ÂùÄ„ÄÅURL Á≠âÂÜÖÂÆπÔºå‰ΩøÈáçË¶Å‰ø°ÊÅØÊõ¥Âä†ÈÜíÁõÆÊ∏ÖÊô∞„ÄÇ

![image-20240512212801563](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240512212801563.png)

### ÂäüËÉΩÊèèËø∞Ôºö

> Tailspin ÈÄöËøáÈÄêË°åÈòÖËØªÊó•ÂøóÊñá‰ª∂ÔºåÂπ∂ÈíàÂØπÊØè‰∏ÄË°åËøêË°å‰∏ÄÁ≥ªÂàóÊ≠£ÂàôË°®ËææÂºèÊù•Â∑•‰Ωú„ÄÇËøô‰∫õÊ≠£ÂàôË°®ËææÂºèÂèØ‰ª•ËØÜÂà´‰Ω†Âú®Êó•ÂøóÊñá‰ª∂‰∏≠ÊúüÊúõÊâæÂà∞ÁöÑÊ®°ÂºèÔºåÂ¶ÇÊó•Êúü„ÄÅÊï∞Â≠ó„ÄÅ‰∏•ÈáçÁ®ãÂ∫¶ÂÖ≥ÈîÆÂ≠óÁ≠â„ÄÇ

> ËØ•Â∑•ÂÖ∑Âú®Êü•ÊâæÈúÄË¶ÅÁ™ÅÂá∫ÊòæÁ§∫ÁöÑÈ°πÁõÆÊó∂Âπ∂‰∏çÂÅö‰ªª‰ΩïÂÅáËÆæÔºåÂõ†Ê≠§‰∏çÈúÄË¶Å‰ªª‰ΩïÈÖçÁΩÆÔºåÈ´ò‰∫ÆÊòæÁ§∫ÂäüËÉΩÂ∞ÜÂú®‰∏çÂêåÁ±ªÂûãÁöÑÊó•ÂøóÊñá‰ª∂‰∏≠Ë°®Áé∞‰∏ÄËá¥„ÄÇ

### ÂäüËÉΩÁâπÁÇπÔºö

- ÂèØÊü•ÁúãÔºàÊàñ tailÔºâ‰ªª‰ΩïÊ†ºÂºèÁöÑÊó•ÂøóÊñá‰ª∂
- Êó†ÈúÄËÆæÁΩÆÊàñÈÖçÁΩÆ
- È´ò‰∫ÆÊòæÁ§∫Êï∞Â≠ó„ÄÅÊó•Êúü„ÄÅIP Âú∞ÂùÄ„ÄÅUUID„ÄÅURL Á≠âÂÜÖÂÆπ
- ÊâÄÊúâÈ´ò‰∫ÆÁªÑÂùáÂèØÂÆöÂà∂
- Êòì‰∫é‰∏éÂÖ∂‰ªñÂëΩ‰ª§ÈõÜÊàê
- ‰ΩøÁî® less ÂÆûÁé∞ÊªöÂä®„ÄÅÊêúÁ¥¢ÂíåËøáÊª§ÂäüËÉΩ

### ‰ΩøÁî®Âú∫ÊôØÔºö

> Tailspin ÂØπ‰∫éÈúÄË¶ÅÊü•ÁúãÂíåÂàÜÊûêÊó•ÂøóÊñá‰ª∂ÁöÑÂºÄÂèë‰∫∫ÂëòÂíåÁ≥ªÁªüÁÆ°ÁêÜÂëòÁâπÂà´ÊúâÁî®„ÄÇÊó†ÈúÄÂ§çÊùÇÁöÑÈÖçÁΩÆÔºåÁî®Êà∑ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ËØ•Â∑•ÂÖ∑Êù•Êü•ÁúãÂêÑÁßçÊó•ÂøóÔºåÂπ∂ÈÄöËøáÈ´ò‰∫ÆÊòæÁ§∫ËÆ©ÂÖ≥ÈîÆ‰ø°ÊÅØ‰∏ÄÁõÆ‰∫ÜÁÑ∂„ÄÇÂè¶Â§ñÔºåÁî±‰∫é Tailspin ÊîØÊåÅËá™ÂÆö‰πâÈ´ò‰∫ÆÊòæÁ§∫ÁªÑÔºåÁî®Êà∑ÂèØ‰ª•ÊåâÁÖßËá™Â∑±ÁöÑÈúÄÊ±ÇÁÅµÊ¥ªÂú∞ËÆæÁΩÆÈ´ò‰∫ÆÊòæÁ§∫ËßÑÂàôÔºå‰ªéËÄåÊõ¥Â•ΩÂú∞ÈÄÇÂ∫î‰∏çÂêåÁ±ªÂûãÁöÑÊó•ÂøóÊñá‰ª∂„ÄÇ

> Êó†ËÆ∫ÊòØÊÉ≥Âø´ÈÄüÂÆö‰ΩçÈáçË¶Å‰ø°ÊÅØ„ÄÅ‰∫ÜËß£Êó•ÂøóÂÜÖÂÆπÔºåËøòÊòØ‰∏éÂÖ∂‰ªñÂëΩ‰ª§ÈõÜÊàêËøõË°åÊõ¥Â§öÊìç‰ΩúÔºåTailspin ÈÉΩËÉΩÂ∏ÆÂä©Áî®Êà∑È´òÊïàÂú∞Â§ÑÁêÜÊó•ÂøóÊï∞ÊçÆ„ÄÇ

> ÊÄª‰πãÔºåTailspin ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÂÆûÁî®‰ΩÜÂäüËÉΩÂº∫Â§ßÁöÑÊó•ÂøóÊü•ÁúãÂ∑•ÂÖ∑ÔºåÊó®Âú®ÊèêÂçáÊü•ÁúãÊó•ÂøóÊñá‰ª∂ÁöÑÊïàÁéáÂíå‰æøÊç∑ÊÄß„ÄÇÂ¶ÇÊûú‰Ω†ÊòØÂÖ≥Ê≥®Êó•ÂøóÂàÜÊûêÂíåÂ§ÑÁêÜÁöÑÊäÄÊúØ‰∫∫ÂëòÔºå‰∏çÂ¶®Â∞ùËØï‰ΩøÁî® Tailspin Êù•‰ºòÂåñ‰Ω†ÁöÑÂ∑•‰ΩúÊµÅÁ®ã„ÄÇ

## Rust ÁªàÁ´ØË°®Ê†ºÊâìÂç∞Â∫ì

### ÂºïË®Ä

Â§ßÂÆ∂Âú®ÂºÄÂèëÂëΩ‰ª§Ë°åÁ®ãÂ∫èÁöÑÊó∂ÂÄôÔºåÊòØÂê¶ÁªèÂ∏∏ÈúÄË¶Å‰ª•Ë°®Ê†ºÁöÑÂΩ¢ÂºèÂú®ÁªàÁ´Ø‰∏äÊâìÂç∞ÂÜÖÂÆπÂë¢ÔºüÊúÄËøëÊàëÂèëÁé∞‰∫Ü‰∏Ä‰∏™ÈùûÂ∏∏Â•ΩÁî®ÁöÑ Rust Â∫ìÔºötabledÔºåÂÆÉÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨Âø´ÈÄü„ÄÅ‰ºòÈõÖÂú∞Âú®ÁªàÁ´Ø‰∏äÊâìÂç∞Âá∫ÁæéËßÇÁöÑË°®Ê†º„ÄÇ‰ªäÂ§©Â∞±Êù•ÁªôÂ§ßÂÆ∂‰ªãÁªç‰∏Ä‰∏ãËøô‰∏™ÂÆûÁî®ÁöÑÂºÄÊ∫êÈ°πÁõÆ„ÄÇ

### Âàõ‰ΩúËÉåÊôØ

‰πãÊâÄ‰ª•Êé®Ëçê tabled Ëøô‰∏™Â∫ìÔºå‰∏ªË¶ÅÊúâ‰ª•‰∏ãÂá†ÁÇπÂéüÂõ†Ôºö

1. ÂÆÉÁöÑ API ËÆæËÆ°ÈùûÂ∏∏ÁÆÄÊ¥ÅÔºå‰∏äÊâãÈöæÂ∫¶‰ΩéÔºåÂ∞èÁôΩ‰πüÂèØ‰ª•Âø´ÈÄüÊéåÊè°Ôºõ
2. ÊîØÊåÅÂ§öÁßçË°®Ê†ºÊ†∑ÂºèÔºåÂ¶Ç ASCII„ÄÅMarkdown„ÄÅRestructuredText Á≠âÔºåËÉΩÊª°Ë∂≥‰∏çÂêåÂú∫ÊôØ‰∏ãÁöÑÈúÄÊ±ÇÔºõ
3. ÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÂú∞ÂØπË°®Ê†ºËøõË°åÊ†∑ÂºèËá™ÂÆö‰πâÔºåÂ¶ÇÂØπÈΩêÊñπÂºè„ÄÅÂ°´ÂÖÖÂ≠óÁ¨¶„ÄÅÈ¢úËâ≤Á≠âÔºõ
4. ÊñáÊ°£Á§∫‰æãÈΩêÂÖ®ÔºåÂØπÊñ∞ÊâãÈùûÂ∏∏ÂèãÂ•Ω„ÄÇ

ÊâÄ‰ª•Êó†ËÆ∫‰Ω†ÊòØ Rust Êñ∞ÊâãËøòÊòØÊúâÁªèÈ™åÁöÑËÄÅÊâãÔºåtabled ÈÉΩÊòØ‰∏Ä‰∏™ÂÄºÂæóÊî∂ËóèÁöÑÂ∑•ÂÖ∑Â∫ì„ÄÇ

### ‰∏ªË¶ÅÁâπÊÄß

tabled Èô§‰∫ÜÂü∫Êú¨ÁöÑË°®Ê†ºÊâìÂç∞ÂäüËÉΩÂ§ñÔºåËøòÊúâ‰ª•‰∏ã‰∏Ä‰∫õÂá∫Ëâ≤ÁöÑÁâπÊÄßÔºö

- Â§öÁßçË°®Ê†ºËæπÊ°ÜÊ†∑ÂºèÔºö

- - ASCII Â≠óÁ¨¶ËæπÊ°Ü
  - Unicode Â≠óÁ¨¶ËæπÊ°Ü
  - Markdown Ë°®Ê†ºÊ†∑Âºè
  - RestructuredText Ë°®Ê†ºÊ†∑Âºè
  - ÁÆÄÁ∫¶Êó†ËæπÊ°ÜÊ†∑Âºè

- ÊîØÊåÅËÆæÁΩÆË°®Ê†ºÊ†áÈ¢ò„ÄÅÂàóÊ†áÈ¢òÔºõ

- ÂçïÂÖÉÊ†ºÂÜÖÂÆπÂØπÈΩêÊñπÂºèÂèØËá™ÂÆö‰πâÔºõ

- ÊîØÊåÅÂçïÂÖÉÊ†ºÂêàÂπ∂Ôºõ

- ÂèØ‰ª•‰ªé String„ÄÅVec„ÄÅHashMap Á≠âÁ±ªÂûãÂø´ÈÄüÂàõÂª∫Ë°®Ê†ºÔºõ

- ÈõÜÊàê‰∫ÜÂ§öÁßçÂ∏∏Áî®ÁöÑËâ≤ÂΩ©ÊñπÊ°àÔºåÂπ∂ÊîØÊåÅËá™ÂÆö‰πâËâ≤ÂΩ©„ÄÇ

### Âø´ÈÄü‰∏äÊâã

È¶ñÂÖàÔºåÂ∞Ü tabled Ê∑ªÂä†Âà∞È°πÁõÆ‰æùËµñ‰∏≠Ôºö

```rust
[dependencies]
tabled = "0.15"
```

‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑÁ§∫‰æãÔºåÂ±ïÁ§∫Â¶Ç‰ΩïÊâìÂç∞‰∏Ä‰∏™ ASCII ËæπÊ°ÜË°®Ê†ºÔºö

```rust
use tabled::{Tabled, Table};

#[derive(Tabled)]
struct Language {
    name: &'static str,
    designed_by: &'static str,
    invented_year: usize,
}

fn main() {
    let languages = vec![
        Language{
            name: "C", 
            designed_by: "Dennis Ritchie",
            invented_year: 1972
        },
        Language{
            name: "Rust",
            designed_by: "Graydon Hoare",
            invented_year: 2010
        },
    ];

    println!("{}", Table::new(languages).to_string());
}
```

‰∏äÈù¢ÁöÑ‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `Language` ÁªìÊûÑ‰ΩìÔºåÁÑ∂Âêé‰∏∫ÂÆÉÊ¥æÁîü‰∫Ü `Tabled` trait„ÄÇËøôÊ†∑ÔºåÂåÖÂê´ Language ÂÆû‰æãÁöÑ Vec Â∞±ÂèØ‰ª•Áõ¥Êé•‰º†Áªô `Table::new()` Êù•ÂàõÂª∫Ë°®Ê†ºÂÆû‰æã‰∫Ü„ÄÇ

`Table::to_string()` ÂèØ‰ª•Â∞ÜË°®Ê†ºËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤ÔºåÁî®‰∫éÊâìÂç∞ËæìÂá∫„ÄÇ

‰∏äËø∞‰ª£Á†ÅÁöÑËæìÂá∫Â¶Ç‰∏ãÔºö

```rust
+------+----------------+---------------+
| name | designed_by    | invented_year |
+------+----------------+---------------+
| C    | Dennis Ritchie | 1972          |
+------+----------------+---------------+
| Rust | Graydon Hoare  | 2010          |
+------+----------------+---------------+
```

Â¶ÇÊûúÊÉ≥Ë¶ÅÊîπÂèòË°®Ê†ºÊ†∑ÂºèÔºåÂè™ÈúÄË¶ÅË∞ÉÁî® `with()` ÊñπÊ≥ïÂç≥ÂèØ„ÄÇ‰æãÂ¶ÇÔºå‰ΩøÁî® Unicode ÂèåÁ∫øËæπÊ°ÜÊ†∑ÂºèÔºö

```rust
use tabled::{settings::Style, Table, Tabled};

#[derive(Tabled)]
struct Language {
    name: &'static str,
    designed_by: &'static str,
    invented_year: usize,
}

fn main() {
    let languages = vec![
        Language{
            name: "C", 
            designed_by: "Dennis Ritchie",
            invented_year: 1972
        },
        Language{
            name: "Rust",
            designed_by: "Graydon Hoare",
            invented_year: 2010
        },
    ];

    println!("{}", Table::new(languages).with(Style::extended()).to_string());
}
```

ËæìÂá∫ÊïàÊûúÔºö

```rust
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï¶‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë name ‚ïë designed_by    ‚ïë invented_year ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë C    ‚ïë Dennis Ritchie ‚ïë 1972          ‚ïë
‚ï†‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï¨‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï£
‚ïë Rust ‚ïë Graydon Hoare  ‚ïë 2010          ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï©‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï©‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
```

`with()` ÊñπÊ≥ïÂèØ‰ª•Áî®Êù•ËÆæÁΩÆË°®Ê†ºÁöÑÂæàÂ§öÊ†∑ÂºèÔºåÂ¶ÇË°®Ê†ºËæπÊ°Ü„ÄÅÂØπÈΩêÊñπÂºè„ÄÅÂ°´ÂÖÖÂ≠óÁ¨¶„ÄÅÈ¢úËâ≤Á≠â„ÄÇ‰Ω†ÂèØ‰ª•ÂàõÈÄ†Âá∫ÂêÑÁßçÂ•ΩÁúãÁöÑË°®Ê†ºÊ†∑Âºè„ÄÇ

### ÊÄªÁªì

tabled ÊòØ‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ßÔºå‰ΩøÁî®ÁÆÄÂçïÁöÑ Rust ÁªàÁ´ØË°®Ê†ºËæìÂá∫Â∫ì„ÄÇÂÆÉËÉΩËÆ©Êàë‰ª¨‰ª•ÊúÄÂ∞ëÁöÑ‰ª£Á†ÅÈáèÂàõÂª∫Âá∫ÁæéËßÇ„ÄÅÊï¥Ê¥ÅÁöÑË°®Ê†ºÔºåÈÄÇÂêàÂêÑÁßçÂëΩ‰ª§Ë°åÁ®ãÂ∫èÂú∫ÊôØ„ÄÇ

Â¶ÇÊûú‰Ω†ÊÅ∞Â•ΩÂú®ÂºÄÂèë Rust ÂëΩ‰ª§Ë°åÁ®ãÂ∫èÔºå‰∏çÂ¶®ËØïËØï tabled ÂêßÔºåÁõ∏‰ø°‰ºöÁªô‰Ω†ÁöÑÁªàÁ´ØÂ∏¶Êù•‰∏ÄÂú∫ËßÜËßâÁõõÂÆ¥„ÄÇ

## ynqa/sigÔºö‰∫§‰∫íÂºè grepÔºàÁî®‰∫éÊµÅÂºèÂ§ÑÁêÜÔºâ

GitHubÔºö[ynqa/sigÔºö‰∫§‰∫íÂºè grepÔºàÁî®‰∫éÊµÅÂºèÂ§ÑÁêÜÔºâ (github.com)](https://github.com/ynqa/sig)

## **ÂèÇËÄÉÊñáÁ´†**

- tabled GitHub ‰ªìÂ∫ìÔºöhttps://github.com/zhiburt/tabled/

# WebAssembly ËøêË°åÊó∂Â∫ì

## Wasmtime

Wasmtime ÊòØ‰∏Ä‰∏™Áî®‰∫é WebAssemblyÔºàÁÆÄÁß∞ WASMÔºâÁöÑÁã¨Á´ãËøêË°åÊó∂ÔºåÂÆÉÁî± Bytecode Alliance È°πÁõÆÂºÄÂèë„ÄÇWASM ÊòØ‰∏ÄÁßç‰∏∫Êõ¥È´òÊïàÊâßË°åÂíåÊõ¥ÂÆâÂÖ®ÁöÑ Web Â∫îÁî®ËÄåËÆæËÆ°ÁöÑ‰∫åËøõÂà∂Êåá‰ª§Ê†ºÂºè„ÄÇWasmtime ËøêË°åÊó∂‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàó‰∏∞ÂØå„ÄÅÁ¨¶Âêà WASM Ê†áÂáÜÁöÑ APIÔºåÂπ∂ÈÄöËøá‰ºòÂåñÁîüÊàêÈ´òË¥®ÈáèÁöÑÊú∫Âô®‰ª£Á†ÅÔºå‰Ωø WASM Â∫îÁî®ËÉΩÂú®ÂêÑÁßçÁéØÂ¢É‰∏≠Âø´ÈÄü„ÄÅÂÆâÂÖ®Âú∞ËøêË°å„ÄÇ

### ÂÆâË£Ö‰∏é‰ΩøÁî® Wasmtime ËøêË°åÊó∂

ÊÇ®ÂèØ‰ª•ÈÄöËøá‰ΩøÁî®‰ª•‰∏ãÁÆÄÂçïÁöÑÂÆâË£ÖËÑöÊú¨Âú® Linux Âíå macOS ‰∏äÂÆâË£Ö Wasmtime CLIÔºö

```bash
curl https://wasmtime.dev/install.sh -sSf | bash
```

ÂØπ‰∫é Windows Áî®Êà∑ÊàñÂÖ∂‰ªñÊÑüÂÖ¥Ë∂£ÁöÑÁî®Êà∑ÔºåÂèØ‰ª•Áõ¥Êé•‰ªé GitHub ÁöÑ Releases È°µÈù¢‰∏ãËΩΩÂÆâË£ÖÁ®ãÂ∫èÂíå‰∫åËøõÂà∂Êñá‰ª∂„ÄÇ

ÂÆâË£ÖÂÆå Wasmtime ÂêéÔºåÂ¶ÇÊûúÊÇ®Â∑≤ÁªèÂÆâË£Ö‰∫Ü Rust ÁºñËØëÂô®ÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÁöÑÂëΩ‰ª§Êù•ÁºñËØëÂíåËøêË°å Rust Ê∫ê‰ª£Á†ÅÔºö

```rust
// RustÊ∫ê‰ª£Á†Å
fn main() {
    println!("Hello, world!");
}
// ÁºñËØëÂíåËøêË°åÂëΩ‰ª§
$ rustup target add wasm32-wasi
$ rustc hello.rs --target wasm32-wasi
$ wasmtime hello.wasm
// ËæìÂá∫ÔºöHello, world!
```

Ëøô‰∏™Á§∫‰æãÂ±ïÁ§∫‰∫ÜÂ¶Ç‰ΩïÂ∞Ü Rust Ê∫ê‰ª£Á†ÅÁºñËØë‰∏∫ WASMÔºåÂπ∂‰ΩøÁî® Wasmtime ËøêË°åÂÆÉ„ÄÇ

### Wasmtime ÁöÑ‰∏ªË¶ÅÁâπÊÄß

- **ÈÄüÂ∫¶Âø´**ÔºöWasmtime Âü∫‰∫é‰ºòÂåñÁöÑ Cranelift ‰ª£Á†ÅÁîüÊàêÂô®ÊûÑÂª∫ÔºåÂèØ‰ª•Âø´ÈÄüÁîüÊàêÈ´òË¥®ÈáèÁöÑÊú∫Âô®‰ª£Á†Å„ÄÇWasmtime ÈíàÂØπÊúâÊïàÂÆû‰æãÂåñ„ÄÅÂµåÂÖ•ËÄÖÂíå wasm ‰πãÈó¥ÁöÑ‰ΩéÂºÄÈîÄË∞ÉÁî®‰ª•ÂèäÂπ∂ÂèëÂÆû‰æãÁöÑÂèØÊâ©Â±ïÊÄßËøõË°å‰ºòÂåñ„ÄÇ
- **ÂÆâÂÖ®**ÔºöWasmtime ÁöÑÂºÄÂèëÂº∫ÁÉà‰∏ìÊ≥®‰∫éÊ≠£Á°ÆÊÄßÂíåÂÆâÂÖ®ÊÄß„ÄÇÊØè‰∏™ Wasmtime ÁâπÊÄßÈÉΩÈÄöËøá‰ªîÁªÜÁöÑÂÆ°Êü•ÂíåËÄÉËôëÈÄöËøá RFC ËøáÁ®ã„ÄÇ‰∏ÄÊó¶ÁâπÊÄßË¢´ËÆæËÆ°ÂíåÂÆûÁé∞Ôºå‰ªñ‰ª¨Â∞±‰ºöÁªèÂèó Google ÁöÑ OSS Fuzz Êèê‰æõÁöÑ 24/7 Ê®°Á≥äÊµãËØï„ÄÇÈöèÁùÄÁâπÊÄßÁöÑÁ®≥ÂÆöÔºå‰ªñ‰ª¨Êàê‰∏∫ÁâàÊú¨ÂèëÂ∏ÉÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂΩì‰∫ãÊÉÖÂá∫ÈîôÊó∂ÔºåÊàë‰ª¨Êúâ‰∏Ä‰∏™ÊòéÁ°ÆÁöÑÂÆâÂÖ®Á≠ñÁï•Êù•Âø´ÈÄüÁºìËß£Âπ∂‰øÆÂ§ç‰ªª‰ΩïÈóÆÈ¢ò„ÄÇÊàë‰ª¨ÈÅµÂæ™Ê∑±Â∫¶Èò≤Âæ°ÁöÑÊúÄ‰Ω≥ÂÆûË∑µÔºåÂπ∂ÈõÜÊàêÈíàÂØπÂÉè Spectre ËøôÊ†∑ÁöÑÈóÆÈ¢òÁöÑ‰øùÊä§ÂíåÁºìËß£Êé™ÊñΩ„ÄÇ
- **ÂèØÈÖçÁΩÆ**ÔºöWasmtime ‰ΩøÁî®ÂêàÁêÜÁöÑÈªòËÆ§ËÆæÁΩÆÔºå‰ΩÜ‰πüÂèØ‰ª•ÈÖçÁΩÆÊèê‰æõÂØπ CPU ÂíåÂÜÖÂ≠òÊ∂àËÄóÁ≠âÊñπÈù¢ÁöÑÊõ¥Á≤æÁªÜÊéßÂà∂„ÄÇ

Wasmtime ËøòÊèê‰æõ‰∫ÜËÆ∏Â§öËØ≠Ë®ÄÊîØÊåÅ„ÄÇBytecode Alliance ÊîØÊåÅÁöÑËØ≠Ë®ÄÂåÖÊã¨ RustÔºàwasmtime crateÔºâ„ÄÅCÔºàwasm.h„ÄÅwasi.h„ÄÅwasmtime.h Â§¥Êñá‰ª∂Ôºâ„ÄÅC++Ôºàwasmtime-cpp Â∫ìÔºâ„ÄÅPythonÔºàwasmtime PyPI ÂåÖÔºâ„ÄÅ.NETÔºàWasmtime NuGet ÂåÖÔºâ„ÄÅGoÔºàwasmtime-go Â∫ìÔºâÂíå RubyÔºàwasmtime ÂÆùÁü≥Ôºâ„ÄÇÁ§æÂå∫ËøòÊîØÊåÅ‰∫Ü ElixirÔºàwasmex hex ÂåÖÔºâÂíå PerlÔºàWasm Perl ÂåÖÁöÑ Wasm::WasmtimeÔºâ„ÄÇ

## SpinÔºöÂü∫‰∫é Rust ÁöÑ WebAssembly È©±Âä®ÁöÑ‰∫ëÂæÆÊúçÂä°ÊûÑÂª∫Ê°ÜÊû∂

> Âú®‰∫ëËÆ°ÁÆóÁöÑÊµ™ÊΩÆ‰∏≠ÔºåÂæÆÊúçÂä°Êû∂ÊûÑÂ∑≤ÁªèÊàê‰∏∫ÊûÑÂª∫È´òÊïà„ÄÅÂèØÊâ©Â±ïÂ∫îÁî®ÁöÑ‰∏ªÊµÅÊñπÂºè„ÄÇËÄå‰ªäÔºå‰∏Ä‰∏™Âêç‰∏∫ Spin ÁöÑÊñ∞ÊòüÊ≠£Âú®ÂÜâÂÜâÂçáËµ∑ÔºåÂÆÉÂ∞Ü WebAssembly ÁöÑÂº∫Â§ßÂäüËÉΩ‰∏éÂæÆÊúçÂä°ÁöÑÁÅµÊ¥ªÊÄßÂÆåÁæéÁªìÂêàÔºå‰∏∫ÂºÄÂèëËÄÖÂ∏¶Êù•‰∫ÜÂÖ®Êñ∞ÁöÑÊûÑÂª∫ÂíåÈÉ®ÁΩ≤‰∫ëÂ∫îÁî®ÁöÑ‰ΩìÈ™å„ÄÇ

### Ê≠£Êñá

#### üåü Spin ÊòØ‰ªÄ‰πàÔºü

Spin ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÊ°ÜÊû∂ÔºåËá¥Âäõ‰∫éÁÆÄÂåñ WebAssembly ÂæÆÊúçÂä°ÁöÑÊûÑÂª∫„ÄÅÈÉ®ÁΩ≤ÂíåËøêË°åËøáÁ®ã„ÄÇÂÆÉÂà©Áî®ÊúÄÊñ∞ÁöÑ WebAssembly ÁªÑ‰ª∂Ê®°ÂûãÂíå Wasmtime ËøêË°åÊó∂ÔºåÊó®Âú®Êàê‰∏∫ÂºÄÂèëËÄÖÂÖ•Èó® WebAssembly ÂæÆÊúçÂä°ÁöÑÊúÄ‰æøÊç∑ÈÄîÂæÑ„ÄÇ

#### üöÄ Â¶Ç‰ΩïÂºÄÂßã‰ΩøÁî® SpinÔºü

ÂºÄÂßã‰ΩøÁî® Spin ÁöÑÊóÖÁ®ãÈùûÂ∏∏ÁÆÄÂçï„ÄÇÈ¶ñÂÖàÔºåËÆøÈóÆ Spin ÁöÑÂÆâË£ÖÈ°µÈù¢ÔºåËé∑ÂèñËØ¶ÁªÜÁöÑÂÆâË£ÖÂíåÈÖçÁΩÆÊåáÂçó„ÄÇÁÆÄÂçïÊù•ËØ¥ÔºåÂè™ÈúÄÂú®ÁªàÁ´Ø‰∏≠ËøêË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö

```
curl -fsSL https://developer.fermyon.com/downloads/install.sh | bash
sudo mv ./spin /usr/local/bin/spin
```

Â¶ÇÊûú‰Ω†ÂñúÊ¨¢‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫ÔºåSpin ‰πüÊîØÊåÅËøôÁßçÊñπÂºè„ÄÇ

#### üõ†Ô∏è ‰ΩøÁî® Spin ÊûÑÂª∫Â∫îÁî®

ÂàõÂª∫‰∏Ä‰∏™ Spin Â∫îÁî®Â∞±ÂÉèÊê≠ÁßØÊú®‰∏ÄÊ†∑„ÄÇÈ¶ñÂÖàÔºå‰Ω†ÈúÄË¶ÅÂÆâË£Ö Rust ÁöÑ`wasm32-wasi`ÁõÆÊ†á„ÄÇÁÑ∂ÂêéÔºå‰ΩøÁî®`spin new`ÂëΩ‰ª§Ôºå‰ªéÊ®°ÊùøÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ Spin Â∫îÁî®Ôºö

```
spin new --accept-defaults -t http-rust hello-rust
```

Ëøô‰ºöÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫`hello-rust`ÁöÑÁõÆÂΩïÔºåÈáåÈù¢ÂåÖÂê´‰∫Ü‰Ω†Â∫îÁî®ÊâÄÈúÄÁöÑÊâÄÊúâÊñá‰ª∂„ÄÇÊé•‰∏ãÊù•ÔºåËøõÂÖ•ÁõÆÂΩïÔºå‰ΩøÁî®`spin build`ÊûÑÂª∫Â∫îÁî®ÔºåÁÑ∂ÂêéÁî®`spin up`Âú®Êú¨Âú∞ËøêË°åÂÆÉÔºö

```
spin build
spin up
```

Áé∞Âú®Ôºå‰Ω†ÁöÑÂ∫îÁî®Â∑≤ÁªèÂú®Êú¨Âú∞ËøêË°å‰∫ÜÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÊµèËßàÂô®ÊàñËÄÖ curl Êù•ÊµãËØïÂÆÉÔºö

```
curl -i 127.0.0.1:3000
```

### ÂºÄÂßã‰ΩøÁî®

ËØ∑ÂèÇÈòÖ**ÂÆâË£ÖÊóãÊ∂°**[1]È°µÈù¢ÁöÑ**ÊóãÊ∂°ÊñáÊ°£**[2]‰ª•Ëé∑ÂèñÊúâÂÖ≥ÂÆâË£ÖÂíåÈÖçÁΩÆÊóãÊ∂°ÁöÑËØ¶ÁªÜÊåáÂçóÔºåÁÆÄËÄåË®Ä‰πãÔºåËøêË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö

```
curl -fsSL https://developer.fermyon.com/downloads/install.sh | bash
sudo mv ./spin /usr/local/bin/spin
```

ÊàñËÄÖÔºåÊÇ®ÂèØ‰ª•**‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫ÊóãÊ∂°**[3]„ÄÇ

Ë¶ÅÂºÄÂßãÁºñÂÜôÂ∫îÁî®Á®ãÂ∫èÔºåËØ∑ÈÅµÂæ™**Âø´ÈÄüÂÖ•Èó®ÊåáÂçó**[4]ÔºåÁÑ∂ÂêéÈÅµÂæ™**Rust**[5]„ÄÅ**JavaScript**[6]„ÄÅ**Python**[7]Êàñ**Go**[8]ËØ≠Ë®ÄÊåáÂçóÔºå‰ª•Âèä**ÁºñÂÜôÊóãÊ∂°Â∫îÁî®Á®ãÂ∫èÁöÑÊåáÂçó**[9]„ÄÇ

### ‰ΩøÁî®ÊñπÊ≥ï

‰ª•‰∏ãÊòØ‰ΩøÁî®`spin`ÂëΩ‰ª§Ë°åÂàõÂª∫Êñ∞ÁöÑÊóãÊ∂°Â∫îÁî®Á®ãÂ∫èÁöÑÁ§∫‰æã„ÄÇË¶ÅËøêË°åÁ§∫‰æãÔºåÊÇ®ÈúÄË¶Å‰∏∫ Rust ÂÆâË£Ö`wasm32-wasi`ÁõÆÊ†á„ÄÇ

```
$ rustup target add wasm32-wasi
```

È¶ñÂÖàÔºåËøêË°å`spin new`ÂëΩ‰ª§ÔºåÊ†πÊçÆÊ®°ÊùøÂàõÂª∫‰∏Ä‰∏™ÊóãÊ∂°Â∫îÁî®Á®ãÂ∫è„ÄÇ

```
# Ê†πÊçÆRust httpÊ®°ÊùøÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫'hello-rust'ÁöÑÊñ∞ÊóãÊ∂°Â∫îÁî®Á®ãÂ∫èÔºåÂπ∂Êé•ÂèóÊâÄÊúâÈªòËÆ§ËÆæÁΩÆ
$ spin new --accept-defaults -t http-rust hello-rust
```

ËøêË°å`spin new`ÂëΩ‰ª§‰ºöÂàõÂª∫‰∏Ä‰∏™`hello-rust`ÁõÆÂΩïÔºåÂÖ∂‰∏≠ÂåÖÂê´ÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÊâÄÈúÄÁöÑÊâÄÊúâÊñá‰ª∂„ÄÇËΩ¨Âà∞`hello-rust`ÁõÆÂΩïÔºåÂπ∂‰ΩøÁî®`spin build`ÊûÑÂª∫Â∫îÁî®Á®ãÂ∫èÔºåÁÑ∂Âêé‰ΩøÁî®`spin up`Âú®Êú¨Âú∞ËøêË°åÂÆÉÔºö

```
# ÈÄöËøáÊâßË°å`build`ÂëΩ‰ª§ÁºñËØë‰∏∫Wasm„ÄÇ
$ spin build
Executing the build command for component hello-rust: cargo build --target wasm32-wasi --release
    Finished release [optimized] target(s) in 0.03s
Successfully ran the build command for the Spin components.

# Âú®Êú¨Âú∞ËøêË°åÂ∫îÁî®Á®ãÂ∫è„ÄÇ
$ spin up
Logging component stdio to ".spin/logs/"

Serving http://127.0.0.1:3000
Available Routes:
  hello-rust: http://127.0.0.1:3000      (wildcard)
```

Â∞±ÊòØËøôÊ†∑ÔºÅÁé∞Âú®Â∫îÁî®Á®ãÂ∫èÊ≠£Âú®ËøêË°åÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®ÊµèËßàÂô®ÊàñÂú®Âè¶‰∏Ä‰∏™ shell ‰∏≠‰ΩøÁî® cURL Êù•Â∞ùËØïÂÆÉÔºö

```
# ÂêëÂ∫îÁî®Á®ãÂ∫èÂèëÈÄÅËØ∑Ê±Ç„ÄÇ
$ curl -i 127.0.0.1:3000
HTTP/1.1 200 OK
foo: bar
content-length: 14
date: Thu, 13 Apr 2023 17:47:24 GMT

Hello, Fermyon
```

ÊÇ®ÂèØ‰ª•ÈÄöËøáÁºñËæë`hello-rust`ÁõÆÂΩï‰∏≠ÁöÑ`src/lib.rs`Êñá‰ª∂Êù•‰ΩøÂ∫îÁî®Á®ãÂ∫èÂÅöÊõ¥Â§ö‰∫ãÊÉÖÔºå‰ΩøÁî®ÊÇ®ÂñúÊ¨¢ÁöÑÁºñËæëÂô®Êàñ IDE„ÄÇË¶Å‰∫ÜËß£Êõ¥Â§öÂÖ≥‰∫éÁºñÂÜôÊóãÊ∂°Â∫îÁî®Á®ãÂ∫èÁöÑ‰ø°ÊÅØÔºåËØ∑ÂèÇËßÅÊóãÊ∂°ÊñáÊ°£‰∏≠ÁöÑ**ÁºñÂÜôÂ∫îÁî®Á®ãÂ∫è**[10]„ÄÇË¶Å‰∫ÜËß£Â¶Ç‰ΩïÂèëÂ∏ÉÂíåÂàÜÂèëÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåËØ∑ÂèÇËßÅÊóãÊ∂°ÊñáÊ°£‰∏≠ÁöÑ**ÂèëÂ∏ÉÂíåÂàÜÂèë**[11]ÊåáÂçó„ÄÇ

ÊúâÂÖ≥ cli ÂëΩ‰ª§ÂíåÂ≠êÂëΩ‰ª§ÁöÑÊõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ÂèÇËßÅ**CLI ÂèÇËÄÉ**[12]„ÄÇ

### ÊóãÊ∂°ÂäüËÉΩÁöÑËØ≠Ë®ÄÊîØÊåÅ

‰∏ãÈù¢ÁöÑË°®Ê†ºÊÄªÁªì‰∫ÜÊØèÁßçËØ≠Ë®Ä SDK ‰∏≠ÁöÑ**ÂäüËÉΩÊîØÊåÅ**[13]„ÄÇ

| ÂäüËÉΩ                   | Rust SDK ÊîØÊåÅÔºü | TypeScript SDK ÊîØÊåÅÔºü | Python SDK ÊîØÊåÅÔºü | Tiny Go SDK ÊîØÊåÅÔºü | C# SDK ÊîØÊåÅÔºü |
| :--------------------- | :-------------- | :-------------------- | :---------------- | :----------------- | :------------ |
| **Ëß¶ÂèëÂô®**             |                 |                       |                   |                    |               |
| **HTTP**[14]           | ÊîØÊåÅ            | ÊîØÊåÅ                  | ÊîØÊåÅ              | ÊîØÊåÅ               | ÊîØÊåÅ          |
| **Redis**[15]          | ÊîØÊåÅ            | ‰∏çÊîØÊåÅ                | ÊîØÊåÅ              | ÊîØÊåÅ               | ‰∏çÊîØÊåÅ        |
| **APIs**               |                 |                       |                   |                    |               |
| **Outbound HTTP**[16]  | ÊîØÊåÅ            | ÊîØÊåÅ                  | ÊîØÊåÅ              | ÊîØÊåÅ               | ÊîØÊåÅ          |
| **ÈÖçÁΩÆÂèòÈáè**[17]       | ÊîØÊåÅ            | ÊîØÊåÅ                  | ÊîØÊåÅ              | ÊîØÊåÅ               | ÊîØÊåÅ          |
| **ÈîÆÂÄºÂ≠òÂÇ®**[18]       | ÊîØÊåÅ            | ÊîØÊåÅ                  | ÊîØÊåÅ              | ÊîØÊåÅ               | ‰∏çÊîØÊåÅ        |
| **SQLite Â≠òÂÇ®**[19]    | ÊîØÊåÅ            | ÊîØÊåÅ                  | ÊîØÊåÅ              | ÊîØÊåÅ               | ‰∏çÊîØÊåÅ        |
| **MySQL**[20]          | ÊîØÊåÅ            | ÊîØÊåÅ                  | ‰∏çÊîØÊåÅ            | ÊîØÊåÅ               | ‰∏çÊîØÊåÅ        |
| **PostgreSQL**[21]     | ÊîØÊåÅ            | ÊîØÊåÅ                  | ‰∏çÊîØÊåÅ            | ÊîØÊåÅ               | ÊîØÊåÅ          |
| **Outbound Redis**[22] | ÊîØÊåÅ            | ÊîØÊåÅ                  | ÊîØÊåÅ              | ÊîØÊåÅ               | ÊîØÊåÅ          |
| **Serverless AI**[23]  | ÊîØÊåÅ            | ÊîØÊåÅ                  | ÊîØÊåÅ              | ÊîØÊåÅ               | ‰∏çÊîØÊåÅ        |
| **ÂèØÊâ©Â±ïÊÄß**           |                 |                       |                   |                    |               |
| **Ëá™ÂÆö‰πâËß¶ÂèëÂô®**[24]   | ÊîØÊåÅ            | ‰∏çÊîØÊåÅ                | ‰∏çÊîØÊåÅ            | ‰∏çÊîØÊåÅ             | ‰∏çÊîØÊåÅ        |

#### üåê ËØ≠Ë®ÄÊîØÊåÅ

Spin ÊîØÊåÅÂ§öÁßçÁºñÁ®ãËØ≠Ë®ÄÔºåÂåÖÊã¨ Rust„ÄÅTypeScript„ÄÅPython Âíå Go„ÄÇÊØèÁßçËØ≠Ë®ÄÈÉΩÊúâËá™Â∑±ÁöÑ SDKÔºåÊîØÊåÅ‰∏çÂêåÁöÑÁâπÊÄß„ÄÇ‰æãÂ¶ÇÔºåRust ÊîØÊåÅËá™ÂÆö‰πâËß¶ÂèëÂô®ÔºåËÄå TypeScript Âàô‰∏çÊîØÊåÅ„ÄÇ

### ÁªìËØ≠Ôºö

Spin ‰∏ç‰ªÖ‰ªÖÊòØ‰∏Ä‰∏™Â∑•ÂÖ∑ÔºåÂÆÉÊòØ‰∏Ä‰∏™ËÆ©ÂºÄÂèëËÄÖËÉΩÂ§üÂø´ÈÄü‰∏äÊâã WebAssembly ÂæÆÊúçÂä°ÁöÑÂπ≥Âè∞„ÄÇÂ¶ÇÊûú‰Ω†ÂØπÊñ∞ÊäÄÊúØÂÖÖÊª°Â•ΩÂ•áÔºåÊÉ≥Ë¶ÅÂú®‰∫ëÊúçÂä°ÁöÑ‰∏ñÁïå‰∏≠Êé¢Á¥¢Êõ¥Â§öÂèØËÉΩÊÄßÔºåÈÇ£‰πà Spin ÁªùÂØπÂÄºÂæó‰∏ÄËØï„ÄÇËÆ©Êàë‰ª¨‰∏ÄËµ∑ Spin Ëµ∑Êù•ÔºåÂºÄÂêØ‰∫ëÊúçÂä°ÁöÑÊñ∞ÁØáÁ´†ÔºÅ

#### ÂèÇËÄÉËµÑÊñô

[1] ÂÆâË£ÖÊóãÊ∂°: *https://developer.fermyon.com/spin/install*

[2] ÊóãÊ∂°ÊñáÊ°£: *https://developer.fermyon.com/spin/index*

[3] ‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫ÊóãÊ∂°: *https://developer.fermyon.com/spin/contributing*

[4] Âø´ÈÄüÂÖ•Èó®ÊåáÂçó: *https://developer.fermyon.com/spin/quickstart/*

[5] Rust: *https://developer.fermyon.com/spin/rust-components/*

[6] JavaScript: *https://developer.fermyon.com/spin/javascript-components*

[7] Python: *https://developer.fermyon.com/spin/python-components*

[8] Go: *https://developer.fermyon.com/spin/go-components/*

[9] ÁºñÂÜôÊóãÊ∂°Â∫îÁî®Á®ãÂ∫èÁöÑÊåáÂçó: *https://developer.fermyon.com/spin/configuration/*

[10] ÁºñÂÜôÂ∫îÁî®Á®ãÂ∫è: *https://developer.fermyon.com/spin/writing-apps*

[11] ÂèëÂ∏ÉÂíåÂàÜÂèë: *https://developer.fermyon.com/spin/distributing-apps*

[12] CLI ÂèÇËÄÉ: *https://developer.fermyon.com/common/cli-reference*

[13] ÂäüËÉΩÊîØÊåÅ: *https://developer.fermyon.com/spin/language-support-overview*

[14] HTTP: *https://developer.fermyon.com/spin/http-trigger*

[15] Redis: *https://developer.fermyon.com/spin/redis-trigger*

[16] Outbound HTTP: *https://developer.fermyon.com/spin/rust-components.md#sending-outbound-http-requests*

[17] ÈÖçÁΩÆÂèòÈáè: *https://developer.fermyon.com/spin/variables*

[18] ÈîÆÂÄºÂ≠òÂÇ®: *https://developer.fermyon.com/spin/kv-store-api-guide*

[19] SQLite Â≠òÂÇ®: *https://developer.fermyon.com/spin/sqlite-api-guide*

[20] MySQL: *https://developer.fermyon.com/spin/rdbms-storage#using-mysql-and-postgresql-from-applications*

[21] PostgreSQL: *https://developer.fermyon.com/spin/rdbms-storage#using-mysql-and-postgresql-from-applications*

[22] Outbound Redis: *https://developer.fermyon.com/spin/rust-components.md#storing-data-in-redis-from-rust-components*

[23] Serverless AI: *https://developer.fermyon.com/spin/serverless-ai-api-guide*

[24] Ëá™ÂÆö‰πâËß¶ÂèëÂô®: *https://developer.fermyon.com/spin/extending-and-embedding*

## ‰ΩøÁî®Rust WASMÂºÄÂèëWebÂ∫îÁî®ÂøÖÂ§áÂ∑•ÂÖ∑ÁÆ±

Êò®Êó•ÁöÑÊñáÁ´†Â∑≤ÁªèÊèèËø∞‰∫ÜGlooÊòØ‰ªÄ‰πàÔºå‰ª•ÂèäÂÆÉÂàõÂª∫ÁöÑÁî±Êù•ÔºåÊÉ≥Ë¶ÅÂÆûÁé∞ÁöÑÁõÆÊ†á„ÄÇ‰ΩÜÊòØÂú®ËØª‰∫Ü‰πãÂêéÔºåËøòÊòØ‰∫ëÈáåÈõæÈáåÔºåÈÇ£‰πà‰ªäÂ§©ÂÜçÊ¨°Áî®ÂøÉÊ¢≥ÁêÜ‰∏Ä‰∏ãÔºåËÆ©Êàë‰ª¨Êõ¥Â•ΩÂú∞ÊòéÁôΩ‰∏Ä‰∏ãÔºåGlooÊòØ‰ªÄ‰πàÔºüÂÆÉÁöÑÂº∫Â§ß‰πãÂ§ÑÂú®Âì™ÈáåÔºü

È¶ñÂÖàÔºåGlooÊòØ‰∏Ä‰∏™Â∫ìÁöÑÈõÜÂêàÔºåËøô‰∫õÂ∫ì‰∏∫ÊµèËßàÂô®APIÊèê‰æõÁ¨¶Âêà‰∫∫‰ΩìÂ∑•Á®ãÂ≠¶ÁöÑRustÂåÖË£Ö„ÄÇÂçïÁ∫Ø‰ΩøÁî®web-sysÊàñËÄÖjs-sysÂæàÈöæÔºåÂõ†Ê≠§glooÊèê‰æõ‰∫ÜÂéüÂßãÁªëÂÆöÁöÑÂåÖË£ÖÂô®ÔºåÂÆÉ‰ΩøÂæó‰ΩøÁî®Ëøô‰∫õAPIÂèòÂæóÊõ¥ÂÆπÊòì„ÄÇ

ËØ∑ÊÇ®Ê≥®ÊÑèÔºåËøôÊòØRust WasmÂ∑•‰ΩúÁªÑÂà∂‰ΩúÁöÑÂ∑•ÂÖ∑ÁÆ±ÔºåÂÆÉÊòØ‰∏∫ÊÇ®Êñπ‰æø‰ΩøÁî®WASMÂºÄÂèëWebÂ∫îÁî®Á®ãÂ∫èÂà∂‰ΩúÁöÑ‰∏ÄÂ•óÂ∑•ÂÖ∑ÁÆ±„ÄÇWASMÁöÑ‰∏ªË¶ÅÁâπÊÄßÊòØÈ´òÊÄßËÉΩÔºåÂú®ÊÇ®ÈúÄË¶Å‰ΩøÁî®WASMÁöÑÂú∫ÊôØ‰∏ãÔºåÊÇ®‰ΩøÁî®glooÊù•ÂºÄÂèëÂèØ‰ª•Âä†ÈÄüÊÇ®ÁöÑÂ∑•‰ΩúÊïàÁéá„ÄÇ

Êàë‰ª¨Êù•Áúã‰∏Ä‰∏ãGlooÈÉΩÊúâÂì™‰∫õÂ∫ìÔºüÁúãÂÆå‰πãÂêéÊÉ≥ÂøÖ‰ºöÊúâÊõ¥Ê∑±ÁöÑ‰∫ÜËß£„ÄÇ

- console
- dialogs
- events
- file
- history
- net
- render
- storage
- timers
- utils
- worker

‰ªéËøô‰∫õÂ∫ìÁöÑÂêçÁß∞ÔºåÊàë‰ª¨ÂèØ‰ª•ÁúãÂá∫ÔºåÂÆÉÂá†‰πéÊ∂µÁõñ‰∫ÜWASMÊâÄË¶Å‰ΩøÁî®ÁöÑÊâÄÊúâWeb ÊµèËßàÂô®API„ÄÇËøô‰∫õÂ∫ìÊòØ‰ª•RustÈ£éÊ†ºÊù•ÂÆûÁé∞Web APIÂäüËÉΩ„ÄÇ

Êàë‰ª¨ÂÖàÁúã‰∏ãconsoleÂ∫ìÔºö

Êàë‰ª¨Áü•ÈÅìÔºåJavaScript consoleÂØπË±°Êèê‰æõ‰∫ÜÂØπÊµèËßàÂô®ÊéßÂà∂Âè∞ÁöÑËÆøÈóÆ„ÄÇÂú®Rust Wasm‰∏≠Áõ¥Êé•‰ΩøÁî®ÊéßÂà∂Âè∞ÂØπË±°ÊòØÂæàÈ∫ªÁÉ¶ÁöÑÔºåÂÆÉÈúÄË¶ÅJavaScriptËÉ∂Ê∞¥‰ª£Á†Å„ÄÇËøô‰∏™consoleÂ∫ìÂ∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁªÑÁ¨¶Âêà‰∫∫‰ΩìÂ∑•Á®ãÂ≠¶ÁöÑRust APIÊù•Â§ÑÁêÜÊµèËßàÂô®ÊéßÂà∂Âè∞„ÄÇ

‰∏ãÈù¢‰ΩøÁî®ËØ•Â∫ìÊù•ÊâìÂç∞Êó•Âøó„ÄÇ

```
use gloo_console::log;
let object = JsValue::from("any JsValue can be logged");
log!("text", object);
```

Êàë‰ª¨Áúã‰∏ãnetÂ∫ìÔºö

ÂÆÉÊòØWASMÂ∫îÁî®Á®ãÂ∫èÁöÑHTTPËØ∑Ê±ÇÂ∫ì„ÄÇÂÆÉ‰∏∫web_sys fetchÔºåWebSocketÔºåEventSource APIÊèê‰æõ‰∫ÜRustÁªëÂÆö„ÄÇ

‰∏ãÈù¢‰ΩøÁî®ËØ•Â∫ìÊù•ËØ∑Ê±ÇÁΩëÁªú„ÄÇ

HTTPËØ∑Ê±Ç

```
let resp = Request::get("/path")
    .send()
    .await
    .unwrap();
assert_eq!(resp.status(), 200);
```

WebSocketËØ∑Ê±Ç

```rust
use gloo_net::websocket::{Message, futures::WebSocket};
use wasm_bindgen_futures::spawn_local;
use futures::{SinkExt, StreamExt};

let mut ws = WebSocket::open("wss://echo.websocket.org").unwrap();
let (mut write, mut read) = ws.split();

spawn_local(async move {
    write.send(Message::Text(String::from("test"))).await.unwrap();
    write.send(Message::Text(String::from("test 2"))).await.unwrap();
});

spawn_local(async move {
    while let Some(msg) = read.next().await {
        console_log!(format!("1. {:?}", msg))
    }
    console_log!("WebSocket Closed")
})
```

EventSourceËØ∑Ê±Ç

```rust

use gloo_net::eventsource::futures::EventSource;
use wasm_bindgen_futures::spawn_local;
use futures::{stream, StreamExt};

let mut es = EventSource::new("http://api.example.com/ssedemo.php").unwrap();
let stream_1 = es.subscribe("some-event-type").unwrap();
let stream_2 = es.subscribe("another-event-type").unwrap();

spawn_local(async move {
    let mut all_streams = stream::select(stream_1, stream_2);
    while let Some(Ok((event_type, msg))) = all_streams.next().await {
        console_log!(format!("1. {}: {:?}", event_type, msg))
    }
    console_log!("EventSource Closed");
})
```



Âè™ÈÄâÊã©‰∫Ü‰∏§‰∏™Â∫ìËøõË°å‰∫Ü‰ªãÁªçÔºåÂâ©‰∏ãÁöÑdialogsÔºåeventsÔºåfileÔºåhistoryÔºårenderÔºåstorageÔºåtimersÔºåutilsÔºåworkerËøô‰∫õÂ∫ìÈÉΩÊòØÊñπ‰æøRust WASM‰ΩøÁî®ËÄåÂ∞ÅË£ÖÁöÑ„ÄÇËøô‰∫õÂ∫ìÂÖ±ÂêåÁªÑÊàê‰∫ÜglooÂ∑•ÂÖ∑ÁÆ±„ÄÇÂÆÉÊòØRust WASMÂºÄÂèëWebÂ∫îÁî®ÊâÄËÉΩÁî®Âà∞ÁöÑÊâÄÊúâÂ∑•ÂÖ∑„ÄÇ

Â¶ÇÊûú‰Ω†ÈúÄË¶Å‰ΩøÁî®Rust WASMÊù•ÂºÄÂèëWebÂ∫îÁî®Á®ãÂ∫èÔºåÈÇ£‰πàÊé®Ëçê‰Ω†‰ΩøÁî®Ëøô‰∏™Â∑•ÂÖ∑ÁÆ±ÔºåÂÆÉËÉΩÂ§ßÂ§ßÂú∞Â¢ûÂä†‰Ω†ÁöÑÂ∑•‰ΩúÊïàÁéá„ÄÇ

Â¶ÇÊûú‰Ω†ÊÉ≥Ë¶Å‰∏∫glooÂ∑•ÂÖ∑ÁÆ±Ê∑ªÁ†ñÂä†Áì¶Ôºå‰πüÊòØÈùûÂ∏∏Ê¨¢ËøéÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÊ∑±ÂÖ•‰∫ÜËß£ÂÖ∑‰ΩìÂÜÖÂÆπËØ∑ÂèÇËÄÉGithubÔºö

https://github.com/rustwasm/gloo

# Web Ê°ÜÊû∂

Âú®ÂºÄÂßãÊûÑÂª∫ Rust Web Â∫îÁî®‰πãÂâçÔºåÈ¶ñÂÖàÈúÄË¶ÅÈÄâÊã©‰∏Ä‰∏™ÂêàÈÄÇÁöÑ Web Ê°ÜÊû∂„ÄÇÁõÆÂâçÔºåRust ÊúÄÂèóÊ¨¢ËøéÁöÑ Web Ê°ÜÊû∂ÂåÖÊã¨ Actix-web„ÄÅRocket Âíå Warp„ÄÇ

- **Actix-web**ÔºöÊûÅÂÖ∂Âº∫Â§ß‰∏îÁÅµÊ¥ªÔºåÊèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÁöÑÂºÇÊ≠•Â§ÑÁêÜËÉΩÂäõ„ÄÇ
- **Rocket**Ôºö‰ª•ÂÖ∂Âá∫Ëâ≤ÁöÑÊòìÁî®ÊÄßÂíåÂÆâÂÖ®ÊÄßËÄåÈóªÂêçÔºå‰ΩÜÂè™ËÉΩÂú® Rust ÁöÑÂ§úÈó¥ÁâàÊú¨‰∏äËøêË°å„ÄÇ
- **Warp**Ôºö‰∏Ä‰∏™Âü∫‰∫é Hyper ÁöÑÂæÆÊ°ÜÊû∂ÔºåÂà©Áî® Rust ÁöÑÂºÇÊ≠•ÁâπÊÄßÊù•Êèê‰æõÈ´òÊïàÁöÑÊÄßËÉΩ„ÄÇ

[Rust ÂêéÁ´ØÊ°ÜÊû∂ Graphul ÂÖ•Èó®ÊïôÁ®ãÔºöÊûÑÂª∫‰Ω†ÁöÑ Rust Web ÊúçÂä° (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkwNjYxNTY3Mg==&mid=2247493418&idx=1&sn=5d8de90cdd17e47cc0eae510a8698e6b&chksm=c0e7693df790e02bd3184a34a19fcea2d484ffe97e1b53021945fdfd951a64d8615c85163eea&cur_album_id=3386270396001402881&scene=190#rd)

[‰ªÄ‰πàÊòØ Actix Web |ÈòøÂÖãÊèêÂÖãÊñØ](https://actix.rs/docs/whatis/)

[retep998/winapi-rsÔºö‰∏é Windows API ÁöÑ Rust ÁªëÂÆö (github.com)](https://github.com/retep998/winapi-rs)

[BurntSushi/ripgrepÔºöripgrep ÈÄíÂΩíÂú∞ÊêúÁ¥¢ÁõÆÂΩï‰∏≠ÁöÑÊ≠£ÂàôË°®ËææÂºèÊ®°ÂºèÔºåÂêåÊó∂Â∞äÈáç‰Ω†ÁöÑ gitignore (github.com)](https://github.com/BurntSushi/ripgrep)

[rust-lang/regexÔºöRust Ê≠£ÂàôË°®ËææÂºèÁöÑÂÆûÁé∞„ÄÇÊ≠§ÂÆûÁé∞‰ΩøÁî®ÊúâÈôêËá™Âä®Êú∫ÔºåÂπ∂‰øùËØÅÊâÄÊúâËæìÂÖ•‰∏äÁöÑÁ∫øÊÄßÊó∂Èó¥ÂåπÈÖç„ÄÇ (github.com)](https://github.com/rust-lang/regex)

[clap-rs/clapÔºö‰∏Ä‰∏™ÂäüËÉΩÈΩêÂÖ®„ÄÅÂø´ÈÄüÁöÑ Rust ÂëΩ‰ª§Ë°åÂèÇÊï∞Ëß£ÊûêÂô® (github.com)](https://github.com/clap-rs/clap)

[serde-rs/serdeÔºöRust ÁöÑÂ∫èÂàóÂåñÊ°ÜÊû∂ (github.com)](https://github.com/serde-rs/serde)

[crossbeam-rs/crossbeamÔºöRust ‰∏≠Âπ∂ÂèëÁºñÁ®ãÁöÑÂ∑•ÂÖ∑ (github.com)](https://github.com/crossbeam-rs/crossbeam)

[TeXitoi/structoptÔºöÈÄöËøáÂÆö‰πâÁªìÊûÑÊù•Ëß£ÊûêÂëΩ‰ª§Ë°åÂèÇÊï∞„ÄÇ (github.com)](https://github.com/TeXitoi/structopt)

[dtolnay/thiserrorÔºöstruct Âíå enum ÈîôËØØÁ±ªÂûãÁöÑ deriveÔºàErrorÔºâ (github.com)](https://github.com/dtolnay/thiserror)

Apache Arrow DataFusion SQL Êü•ËØ¢ÂºïÊìéÔºö[apache/arrow-datafusionÔºöApache Arrow DataFusion SQL Êü•ËØ¢ÂºïÊìé (github.com)](https://github.com/apache/arrow-datafusion)

ÂÆòÁΩëÔºö[apache/arrow-datafusionÔºöApache Arrow DataFusion SQL Êü•ËØ¢ÂºïÊìé (github.com)](https://github.com/apache/arrow-datafusion)

## Farm ÊûÅËá¥ÊÄßËÉΩÂÖºÂÆπ‰ΩìÈ™åÔºåÊµ∑ÈáèÁºñËØëÁâπÊÄßÔºåÁúüÊ≠£ÁöÑ‰∏ã‰∏Ä‰ª£ Rust web ÊûÑÂª∫ÂºïÊìéÔºÅ

GitHubÔºöhttps://github.com/farm-fe/farm

[üî•Rust Farm v1.0 ÂèëÂ∏ÉÔºÅÊûÅËá¥ÊÄßËÉΩÂÖºÂÆπ‰ΩìÈ™åÔºåÊµ∑ÈáèÁºñËØëÁâπÊÄßÔºåÁúüÊ≠£ÁöÑ‰∏ã‰∏Ä‰ª£ Rust web ÊûÑÂª∫ÂºïÊìéÔºÅ - ÊéòÈáë (juejin.cn)](https://juejin.cn/post/7357231056288940072)

## tiny-httpÔºöRust‰∏≠‰ΩéÁ∫ßÂà´HTTPÊúçÂä°Âô®Â∫ì

Êõ¥Â§öÂÜÖÂÆπËØ∑ÂèÇËÄÉGithubÔºöhttps://github.com/tiny-http/tiny-http

Rust‰∏≠Â∞èÂûã‰ΩÜÂº∫Â§ßÁöÑHTTPÊúçÂä°Âô®„ÄÇÂÆÉÁöÑ‰∏ªË¶ÅÁõÆÊ†áÊòØ100%Á¨¶ÂêàHTTPÊ†áÂáÜÔºåÂπ∂Êèê‰æõ‰∏ÄÁßçÂàõÂª∫HTTPÊúçÂä°Âô®ÁöÑÁÆÄÂçïÊñπÊ≥ï„ÄÇ

ÂÆÉÂèØ‰ª•ÂÅö‰ªÄ‰πàÔºü

- Êé•ÂèóÂíåÁÆ°ÁêÜ‰∏éÂÆ¢Êà∑Á´ØÁöÑËøûÊé•
- Ëß£ÊûêËØ∑Ê±Ç
- ËØ∑Ê±ÇÂ§ÑÁêÜÊµÅÊ∞¥Á∫ø
- HTTPSÔºà‰ΩøÁî®OpenSSL„ÄÅRustlsÊàñÊú¨Êú∫tlsÔºâ
- ‰º†ËæìÁºñÁ†ÅÂíåÂÜÖÂÆπÁºñÁ†Å
- Â∞ÜÁî®Êà∑ËæìÂÖ•Ôºà‰æãÂ¶ÇPOSTËæìÂÖ•ÔºâËΩ¨Êç¢‰∏∫ËøûÁª≠ÁöÑUTF-8Â≠óÁ¨¶‰∏≤ÔºàÂ∞öÊú™ÂÆûÁé∞Ôºâ
- RangesÔºàÂ∞öÊú™ÂÆûÊñΩÔºâ
- ËøûÊé•ÔºöÂçáÁ∫ßÔºàÁî±websockets‰ΩøÁî®Ôºâ



tiny-httpÂ§ÑÁêÜ‰∏éÂÆ¢Êà∑Á´ØËøûÊé•„ÄÅÊï∞ÊçÆ‰º†ËæìÂíåÁºñÁ†ÅÁõ∏ÂÖ≥ÁöÑ‰∏ÄÂàá„ÄÇÂÖ∂‰ªñ‰∏ÄÂàáÔºàËß£ÊûêÂ§¥„ÄÅÂ§öÂ™í‰ΩìÊï∞ÊçÆ„ÄÅË∑ØÁî±„ÄÅetags„ÄÅÁºìÂ≠òÊéßÂà∂„ÄÅHTMLÊ®°ÊùøÁ≠âÁöÑÂÄºÔºâÈÉΩÂøÖÈ°ªÁî±‰ª£Á†ÅÂ§ÑÁêÜ„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥Âú®Rust‰∏≠ÂàõÂª∫‰∏Ä‰∏™ÁΩëÁ´ôÔºåÊàëÂº∫ÁÉàÂª∫ËÆÆ‰Ω†‰ΩøÁî®‰∏Ä‰∏™Ê°ÜÊû∂ËÄå‰∏çÊòØËøô‰∏™Â∫ì„ÄÇ

ÂÆâË£ÖÔºåÂú®Cargo.tomlÊñá‰ª∂‰∏≠Âä†ÂÖ•

```
[dependencies]tiny_http = "0.11"
```



‰ΩøÁî®ÊñπÊ≥ïÔºö

```
use tiny_http::{Server, Response};

let server = Server::http("0.0.0.0:8000").unwrap();

for request in server.incoming_requests() {
    println!("received request! method: {:?}, url: {:?}, headers: {:?}",
        request.method(),
        request.url(),
        request.headers()
    );

    let response = Response::from_string("hello world");
    request.respond(response);
}
```



Tiny httpÁöÑËÆæËÆ°ËÄÉËôëÂà∞‰∫ÜÈÄüÂ∫¶Ôºö

ÊØè‰∏™ÂÆ¢Êà∑Á´ØËøûÊé•ÈÉΩÂ∞ÜË¢´Ë∞ÉÂ∫¶Âà∞‰∏Ä‰∏™Á∫øÁ®ãÊ±†„ÄÇÊØè‰∏™Á∫øÁ®ãÂ∞ÜÂ§ÑÁêÜ‰∏Ä‰∏™ÂÆ¢Êà∑Á´Ø„ÄÇÂ¶ÇÊûúÂÆ¢Êà∑Á´ØËøûÊé•Êó∂Ê≤°ÊúâÂèØÁî®ÁöÑÁ∫øÁ®ãÔºåÂàô‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞Á∫øÁ®ã„ÄÇÈïøÊó∂Èó¥Á©∫Èó≤ÔºàÂΩìÂâç‰∏∫5ÁßíÔºâÁöÑÁ∫øÁ®ãÂ∞ÜËá™Âä®Â§±Êïà„ÄÇ

Â¶ÇÊûúÊù•Ëá™Âêå‰∏ÄÂÆ¢Êà∑Á´ØÁöÑÂ§ö‰∏™ËØ∑Ê±ÇÊ≠£Âú®ËøõË°åÊµÅÊ∞¥Á∫øÂ§ÑÁêÜÔºàÂç≥ÔºåÂú®‰∏çÁ≠âÂæÖÁ≠îÊ°àÁöÑÊÉÖÂÜµ‰∏ãÂèëÈÄÅÂ§ö‰∏™ËØ∑Ê±ÇÔºâÔºåÈÇ£‰πàtiny-httpÂ∞Ü‰∏ÄÊ¨°ËØªÂèñÊâÄÊúâËØ∑Ê±ÇÔºåÂπ∂‰∏îËøô‰∫õËØ∑Ê±ÇÈÉΩÂèØ‰ª•ÈÄöËøáserver.recvÔºàÔºâËé∑Âæó„ÄÇtiny-httpÂ∞ÜËá™Âä®ÈáçÊñ∞ÊéíÂàóÂìçÂ∫îÔºå‰ª•‰æøÊåâÊ≠£Á°ÆÁöÑÈ°∫Â∫èÂèëÈÄÅ„ÄÇ

Êúâ‰∏™‰æãÂ§ñÔºåÂΩì‰∏Ä‰∏™ËØ∑Ê±ÇÊúâ‰∏Ä‰∏™Â§ßÁöÑÊ≠£ÊñáÔºàÂΩìÂâç>1kBÔºâÊó∂ÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåËØ∑Ê±ÇÂ§ÑÁêÜÁ®ãÂ∫èÂ∞ÜÁõ¥Êé•‰ªéÊµÅ‰∏≠ËØªÂèñÊ≠£ÊñáÔºåËÄåtiny-httpÂ∞ÜÁ≠âÂæÖÂÆÉË¢´ËØªÂèñÔºåÁÑ∂ÂêéÂÜçÂ§ÑÁêÜ‰∏ã‰∏Ä‰∏™ËØ∑Ê±Ç„ÄÇtiny-httpÊ∞∏Ëøú‰∏ç‰ºöÁ≠âÂæÖ‰∏Ä‰∏™ËØ∑Ê±ÇÂæóÂà∞ÂõûÂ§çÊù•ËØªÂèñ‰∏ã‰∏Ä‰∏™ËØ∑Ê±Ç„ÄÇ

ÂΩìÂÆ¢Êà∑Á´ØËøûÊé•ÂèëÈÄÅ‰∫ÜÊúÄÂêé‰∏Ä‰∏™ËØ∑Ê±ÇÔºàÈÄöËøáÂèëÈÄÅconnection:closeÂ§¥ÔºâÊó∂ÔºåÁ∫øÁ®ãÂ∞ÜÁ´ãÂç≥ÂÅúÊ≠¢‰ªéÊ≠§ÂÆ¢Êà∑Á´ØËØªÂèñÔºåÂπ∂‰∏îÂèØ‰ª•ÂõûÊî∂ÔºåÂç≥‰ΩøËØ∑Ê±ÇÂ∞öÊú™ÂæóÂà∞ÂìçÂ∫î„ÄÇSocketÁöÑËØªÂèñÈÉ®ÂàÜ‰πüÂ∞ÜÁ´ãÂç≥ÂÖ≥Èó≠„ÄÇ

Ëß£Á†ÅÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÊòØÊáíÊÉ∞Âú∞ÂÆåÊàêÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÈòÖËØªËØ∑Ê±ÇÁöÑÊ≠£ÊñáÔºåÂÆÉÂ∞Ü‰∏ç‰ºöË¢´Ëß£Á†Å„ÄÇ



## Êñ∞‰∏Ä‰ª£ Web Ê°ÜÊû∂ TeoÔºåÂêåÊó∂ÊîØÊåÅ Node Âíå PythonÔºåÈÄüÂ∫¶ÊÉä‰∫∫

**Áõ∏ÂÖ≥ÁΩëÂùÄÔºö**

- GitHubÔºöhttps://github.com/teocloud/teo
- giteeÔºöhttps://gitee.com/teocloud/teo
- ÂÆòÁΩëÔºöhttps://teocloud.io/
- ÂçöÂÆ¢Ôºöhttps://teocloud.io/blog
- ÊñáÊ°£Ôºöhttps://docs.teocloud.io/

‰ª•ÁªìÊûÑ‰∏∫Ê†∏ÂøÉÁöÑÊñ∞‰∏Ä‰ª£ÁΩëÁªúÊ°ÜÊû∂‚Äî‚ÄîTEOÔºå**ÈÄÇÁî®‰∫é Rust„ÄÅNode.js Âíå Python ÁöÑ Web Ê°ÜÊû∂**ÔºåËÉΩÈùûÂ∏∏Â•ΩÊèêÈ´òÂ∫îÁî®Á®ãÂ∫èÂºÄÂèë‰∫∫ÂëòÂú®‰ΩøÁî® Web ÊúçÂä°Âô®ÂíåÊï∞ÊçÆÂ∫ìÊó∂ÁöÑÂ∑•‰ΩúÊïàÁéá„ÄÇÂÄºÂæó‰∏ÄÊèêÁöÑÊòØÔºåËØ•È°πÁõÆÁõÆÂâçÂ∑≤ÁªèÊàê‰∏∫ Gitee ÁöÑ GVP È°πÁõÆ„ÄÇ

#### TEO ÊòØ‰ªÄ‰πàÔºü

Teo ÊòØÊñ∞‰∏Ä‰ª£ Web Ê°ÜÊû∂„ÄÇÂÆÉÁî±‰ª•‰∏ãÈÉ®ÂàÜÁªÑÊàêÔºö

- Teo schemaÔºöÁõ¥ËßÇ‰∏îÂàõÊñ∞ÁöÑÊ®°ÂºèËØ≠Ë®ÄÔºåÂÖ∑ÊúâÊèèËø∞ÊÄßÂíåÂèØËØªÊÄß
- Teo ÊúçÂä°Âô®ÔºöÁî® Rust ÁºñÂÜôÁöÑÈ´òÊÄßËÉΩÊ†∏ÂøÉ‰ª•Âèä Node.js„ÄÅPython Âíå Rust ÁöÑ API ÁªëÂÆö
- Teo CLIÔºö‰∏ÄÁßç CLI Â∑•ÂÖ∑ÔºåÁî®‰∫éËØªÂèñÊû∂ÊûÑÂπ∂ÊâßË°å‰Ωú‰∏öÔºåÂåÖÊã¨Êï∞ÊçÆÂ∫ìËøÅÁßª„ÄÅËøêË°åÊúçÂä°Âô®ÂíåÊí≠ÁßçÊï∞ÊçÆ
- Teo Êü•ËØ¢ÂÆ¢Êà∑Á´ØÔºöÈÄÇÁî®‰∫éÂ§öÁßçÂπ≥Âè∞ÂíåËØ≠Ë®ÄÁöÑËá™Âä®ÁîüÊàêÁöÑÁ±ªÂûãÂÆâÂÖ®Êü•ËØ¢ÊûÑÂª∫Âô®

#### ‰∏∫‰ªÄ‰πà‰ΩøÁî® TEO Ôºü

**‰º†Áªü Web Ê°ÜÊû∂**

- **Ê†∑Êùø‰ª£Á†ÅÂ§ö**ÔºöÂºÄÂèëËÄÖÈúÄË¶Å‰∏∫ÊØè‰∏™Ë∑ØÁî±ÁºñÂÜôÈáçÂ§çÁöÑ‰ª£Á†ÅÔºåËøô‰∏ç‰ªÖËÄóÊó∂Ôºå‰πüÂÆπÊòìÂá∫Èîô„ÄÇ
- **Áº∫‰πèÂÜÖÁΩÆÂäüËÉΩ**Ôºö‰º†ÁªüÊ°ÜÊû∂ÂæÄÂæÄ‰∏çÊèê‰æõËøáÊª§„ÄÅÊéíÂ∫èÂíåÂàÜÈ°µÁ≠âÂ∏∏Áî®ÂäüËÉΩÔºåÂºÄÂèëËÄÖÈúÄË¶ÅËá™Â∑±ÂÆûÁé∞Ëøô‰∫õÂäüËÉΩ„ÄÇ
- **Ë∞ÉËØïÂõ∞Èöæ**ÔºöSQL Êü•ËØ¢Âíå MongoDB ËÅöÂêàÁöÑË∞ÉËØïËøáÁ®ãÂ§çÊùÇÔºåÂÆπÊòìÂá∫ÈîôÔºå‰∏îËÄóÊó∂„ÄÇ
- **Á±ªÂûãÂíåÊé•Âè£ÈáçÂ§ç**ÔºöÂú®ÂâçÁ´ØÂºÄÂèë‰∏≠ÔºåÂºÄÂèëËÄÖÈúÄË¶ÅÈáçÊñ∞Â£∞ÊòéÂêéÁ´ØÊ®°ÂûãÁöÑÊï∞ÊçÆÁ±ªÂûãÂíåÊé•Âè£ÔºåÈÄ†ÊàêÂ∑•‰ΩúÈáçÂ§ç„ÄÇ

**Teo Áé∞‰ª£ Web Ê°ÜÊû∂Ôºö**

- **ÂáèÂ∞ëÊ†∑Êùø‰ª£Á†Å**ÔºöÊñ∞‰∏Ä‰ª£Ê°ÜÊû∂ÈÄöËøáÊèê‰æõÊõ¥Â§öÁöÑÊäΩË±°ÂíåËá™Âä®ÂåñÂ∑•ÂÖ∑ÔºåÂáèÂ∞ë‰∫ÜÂºÄÂèëËÄÖÈúÄË¶ÅÁºñÂÜôÁöÑÊ†∑Êùø‰ª£Á†Å„ÄÇ
- **ÂÜÖÁΩÆÂ∏∏Áî®ÂäüËÉΩ**ÔºöÁé∞‰ª£Ê°ÜÊû∂ÈÄöÂ∏∏ÂÜÖÁΩÆ‰∫ÜËøáÊª§„ÄÅÊéíÂ∫èÂíåÂàÜÈ°µÁ≠âÂ∏∏Áî®ÂäüËÉΩÔºå‰ΩøÂæóÂºÄÂèëËÄÖÂèØ‰ª•ËΩªÊùæÂÆûÁé∞Ëøô‰∫õÂäüËÉΩÔºåËÄå‰∏çÈúÄË¶Å‰ªéÂ§¥ÂºÄÂßãÁºñÂÜô„ÄÇ
- Êñ∞‰∏Ä‰ª£Ê°ÜÊû∂Êèê‰æõ‰∫ÜÊõ¥Â•ΩÁöÑÂ∑•ÂÖ∑ÂíåÊé•Âè£Êù•ÁÆÄÂåñÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÂíåËÅöÂêàÁöÑË∞ÉËØïËøáÁ®ãÔºåÈôç‰Ωé‰∫ÜÂá∫ÈîôÁöÑÂèØËÉΩÊÄß„ÄÇ
- **Áªü‰∏ÄÊï∞ÊçÆÁ±ªÂûãÂíåÊé•Âè£**ÔºöÁé∞‰ª£Ê°ÜÊû∂ÂÖÅËÆ∏ÂºÄÂèëËÄÖÂú®ÊúçÂä°Âô®Á´ØÂÆö‰πâÊï∞ÊçÆÊ®°ÂûãÂíåÊé•Âè£ÔºåÁÑ∂ÂêéËá™Âä®ÁîüÊàêÂÆ¢Êà∑Á´Ø‰ª£Á†ÅÔºåÂáèÂ∞ë‰∫ÜÈáçÂ§çÂ∑•‰ΩúÔºåÂπ∂ÊèêÈ´ò‰∫ÜÂâçÂêéÁ´Ø‰ª£Á†ÅÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ

ÂÖ≥‰∫éÊõ¥Â§ö Teo ÂèØ‰ª•ÂéªÂÆòÁΩëÊü•ÈòÖ„ÄÇ

#### ÂäüËÉΩ‰∏éÁâπÊÄß

‰∏ãÈù¢Êù•ÁúãÁúã Teo ÁöÑÊèê‰æõÁâπÊÄßÊúâÂì™‰∫õ„ÄÇ

- ÊûÅÂÖ∑ÂàõÊñ∞ÁöÑÂèó GraphQL Âíå Prisma ÂêØÂèëÁöÑÁªìÊûÑÂÆö‰πâ
- Ëá™Âä®Êï∞ÊçÆÂ∫ìËøÅÁßª
- ÊîØÊåÅ Rust„ÄÅNode.js Âíå Python
- ÊîØÊåÅ MySQL„ÄÅPostgreSQL„ÄÅSQLite Âíå MongoDB
- ÁîüÊàêÁöÑ ORM Á±ªÂûãÂíåÊé•Âè£
- ‰∏∫ÂâçÁ´ØÁîüÊàêÁöÑÊü•ËØ¢ÂÆ¢Êà∑Á´Ø
- ÈùûÂ∏∏È´òÊïàÂíåÈ´òÊÄßËÉΩ
- Êï∞ÊçÆÊ∏ÖÁêÜ„ÄÅËΩ¨Êç¢ÂíåÈ™åËØÅ
- ÂÜÖÁΩÆÁî®Êà∑‰ºöËØù
- ÂÜÖÁΩÆÊùÉÈôêÊ£ÄÊü•
- ÂÖàËøõÂêéÂá∫‰∏≠Èó¥‰ª∂
- Ëá™ÂÆö‰πâË∑ØÁî±ÂíåÂ§ÑÁêÜÁ®ãÂ∫è

#### Âø´ÈÄüÂÖ•Èó®

ÂÖ∏ÂûãÁöÑ Teo Â∑•‰ΩúÊµÅÁ®ãÁî±‰ª•‰∏ãÈÉ®ÂàÜÁªÑÊàêÔºö

**1. ÈÄâÊã©ÊÇ®ÁöÑËØ≠Ë®ÄÂ†ÜÊ†à**

Teo ÊîØÊåÅ‰∏âÁßçÊúçÂä°Âô®Á´ØÁºñÁ®ãËØ≠Ë®ÄÔºöNode.js„ÄÅPython Âíå RustÔºåÂèØ‰ª•ÈÄâÊã©‰Ω†ÁÜüÊÇâËØ≠Ë®ÄÊù•ÂºÄÂ±ïÂ∑•‰Ωú„ÄÇ

- Node.js ‰∏é Web ÊäÄÊúØÈÖçÂêàÂæóÂæàÂ•Ω„ÄÇ
- Python ÈùûÂ∏∏ÈÄÇÂêà‰∏é‰∫∫Â∑•Êô∫ËÉΩÂü∫Á°ÄËÆæÊñΩ‰∫§‰∫í„ÄÇ
- Rust ËøΩÊ±ÇÊûÅËá¥ÁöÑÊÄßËÉΩÔºå‰ΩÜÂÆÉÂæàÈöæÁºñÂÜô„ÄÇ

Teo ÂÖ≥ÂøÉ‰ª£Á†ÅÈáçÂ§çÂíåÁîü‰∫ßÂäõ„ÄÇÂõ†Ê≠§ÔºåÂâçÁ´ØÂÆ¢Êà∑Á´ØÊòØÁî± Teo ÁîüÊàêÁöÑ„ÄÇTeo ÊîØÊåÅ 5 ÁßçÂâçÁ´ØËØ≠Ë®ÄÔºöTypeScript„ÄÅSwift„ÄÅKotlin„ÄÅC# Âíå Dart„ÄÇËøôÂá†‰πéÊ∂µÁõñ‰∫Ü‰∏ªÊµÅÁöÑÂâçÁ´ØÊäÄÊúØ„ÄÇËΩªÊùæ‰ΩøÁî®Ëøô‰∫õÁîüÊàêÁöÑÂÆ¢Êà∑Á´ØÊàñÂ∞ÜÂÆÉ‰ª¨ÂÖ±‰∫´ÁªôÂâçÁ´ØÂºÄÂèë‰∫∫Âëò„ÄÇ

Ê≥®ÊÑèÔºöÁõÆÂâç Swift„ÄÅKotlin„ÄÅC# Âíå Dart ÊöÇÊó∂Ëøò‰∏çÊîØÊåÅÔºå‰ΩÜ Teo Âõ¢ÈòüÂ∞Ü‰∫é 2024 Âπ¥ÁöÑ‰∏Ä‰∏™ÁõÆÊ†áÔºåÁõ∏‰ø°Â∫îËØ•‰πüÂæàÂø´ÂæóÂà∞ÊîØÊåÅ‰∫Ü„ÄÇ

**2. Êû∂ÊûÑÊÇ®ÁöÑÊï∞ÊçÆ**

Teo Êã•Êúâ‰∏ÄÁßçÂèó GraphQL Âíå Prisma ÂêØÂèëÁöÑÂàõÊñ∞‰∏îÊòì‰∫éÈòÖËØªÁöÑÊ®°ÂºèËØ≠Ë®Ä„ÄÇÊï∞ÊçÆÂ∫ìÈÖçÁΩÆ„ÄÅÊúçÂä°Âô®ÈÖçÁΩÆ„ÄÅÊ®°ÂûãÂíåÊûö‰∏æ„ÄÅË∑ØÁî±Â§ÑÁêÜÁ®ãÂ∫èÈÉΩÂú®ÂÖ∂‰∏≠Â£∞Êòé„ÄÇÊâÄÂÜôÂç≥ÊâÄÊÉ≥ÔºåÊâÄËßÅÂç≥ÊâÄÂæóÔºåËøôÁúüÊòØÂ§™Â•Ω‰∫Ü„ÄÇ

Teo ÈááÁî®ÊÇ®ËØ¶ÁªÜÊèèËø∞ÁöÑÊ®°ÂºèÂπ∂‰∏∫ÊÇ®ËøõË°åÊï∞ÊçÆÂ∫ìËøÅÁßª„ÄÅËæìÂÖ•È™åËØÅÂíåËΩ¨Êç¢„ÄÇ

**3. ORM ÂÆû‰ΩìÂíåÊúçÂä°Âô®‰ª£Á†Å**

Ëá™Âä®ÁîüÊàêÁöÑË∑ØÁî±Â§ÑÁêÜÁ®ãÂ∫èÂèØ‰ª•Êª°Ë∂≥ 80% ÁöÑ‰∏öÂä°ÈúÄÊ±Ç„ÄÇÊÄªÊúâ‰∏Ä‰∫õËá™ÂÆö‰πâÈúÄÊ±ÇÈúÄË¶ÅÂºÄÂèë‰∫∫ÂëòÁºñÂÜô‰ª£Á†ÅÊù•Â§ÑÁêÜ„ÄÇTeo ÊòØ‰∏Ä‰∏™ÊàêÁÜüÁöÑ Web Ê°ÜÊû∂ÔºåËÄå‰∏çÊòØÊó†‰ª£Á†ÅÊàñ‰Ωé‰ª£Á†ÅÂ∑•ÂÖ∑„ÄÇËÆ© Teo ÂÆåÊàêÁπÅÈáçÁöÑÂ∑•‰ΩúÂπ∂ÁîüÊàê ORM ÂÆû‰Ωì„ÄÇ‰ΩøÁî® Teo ÁöÑÁºñÁ®ã API ‰ª• Teo ÊîØÊåÅÁöÑ‰ªª‰ΩïÊúçÂä°Âô®ËØ≠Ë®ÄÁºñÂÜô‰ª£Á†Å„ÄÇ

**4. ‰∏∫ÂâçÁ´ØÁîüÊàêÂÆ¢Êà∑Á´Ø**

**‰º†ÁªüÂâçÁ´ØÂºÄÂèëÁöÑÈóÆÈ¢òÔºö**

- ÂºÄÂèë‰∫∫ÂëòÂú®Â§ö‰∏™ÂâçÁ´ØÈ°πÁõÆ‰∏≠ÈáçÂ§çÁºñÂÜôÊé•Âè£ËØ∑Ê±ÇÂíåÂèÇÊï∞Â§ÑÁêÜ‰ª£Á†ÅÔºåÊïàÁéá‰Ωé‰∏îÊòìÂá∫Èîô„ÄÇ

**Teo Ê°ÜÊû∂ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºö**

- Teo Ëá™Âä®ÁîüÊàêÁ±ªÂûãÂÆâÂÖ®ÁöÑÂâçÁ´Ø‰ª£Á†ÅÔºåÂáèÂ∞ëÈáçÂ§çÂ∑•‰ΩúÔºåÊèêÈ´òÂºÄÂèëÊïàÁéá„ÄÇ
- ÊîØÊåÅÂ§öÁßçÁºñÁ®ãËØ≠Ë®ÄÔºåÈÄÇÂ∫î‰∏çÂêåÁöÑÂºÄÂèëÈúÄÊ±Ç„ÄÇ
- ÈõÜÊàêÂà∞Áé∞ÊúâÈ°πÁõÆÊàñÂàõÂª∫Êñ∞ÂåÖÔºåÊèê‰æõÁÅµÊ¥ªÊÄß„ÄÇ

## VizÔºöËΩªÈáèÁ∫ß Web Ê°ÜÊû∂

[Rust ÂêéÁ´ØÊ°ÜÊû∂ VizÔºöÊûÑÂª∫È´òÊïà Web ÊúçÂä°ÁöÑ Rust Ê°ÜÊû∂ÊïôÁ®ã (qq.com)](https://mp.weixin.qq.com/s/h4zmDzR6icaQHRdgveEunw)

#### ÂâçË®Ä

VizÔºåÊòØ‰∏™Âü∫‰∫é RUst ÁöÑÔºåÂø´ÈÄü„ÄÅÂÅ•Â£Æ„ÄÅÁÅµÊ¥ª„ÄÅËΩªÈáèÁ∫ßÁöÑ Web Ê°ÜÊû∂„ÄÇ

##### ÁâπÁÇπ

- ÂÆâÂÖ®ÔºåÁ¶ÅÊ≠¢‰∏çÂÆâÂÖ®‰ª£Á†Å
- ËΩªÈáè
- ÁÆÄÂçï + ÁÅµÊ¥ªÁöÑÂ§ÑÁêÜÂô®Âíå‰∏≠Èó¥‰ª∂
- ÈìæÂºèÊìç‰Ωú
- Âº∫Â§ßÁöÑ Routing Ë∑ØÁî±

#### ‰∏Ä„ÄÅHello Viz

##### 1. ÂàõÂª∫È°πÁõÆ

Ê≠£Â¶ÇÂ≠¶‰π†ÁºñÁ®ãËØ≠Ë®Ä‰∏ÄÊ†∑ÔºåÊàë‰ª¨ÂÖà‰ªéÂÆòÊñπÂÖ•Èó®Ê°à‰æãÂ≠¶Ëµ∑ÔºåÈ¶ñÂÖàÊàë‰ª¨ÂàõÂª∫‰∏Ä‰∏™Êñ∞È°πÁõÆ

```
cargo new viz_hello
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_6a2fd0cf90a8417e99d45012a09b103f.png)ÁÑ∂Âêé‰ΩøÁî® vscode ÊâìÂºÄ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_e6a355912d9947488695adc41d6879c9.png)

##### 2. ÂºïÂÖ• viz

Âú®`Cargo.toml`‰∏≠ÂÜôÂÖ•ÔºåÂ¶Ç‰∏ãÂõæ

```
tokio = { version = "1.20.1", features = ["full"] }
viz = "0.3.1"
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_423563868c104d2cabc104ef91d32058.png)

ÁÑ∂Âêé‰ΩøÁî® build Êù•‰∏ãËΩΩ‰æùËµñ

```
cargo build
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_15bdf7dbea8d4664ab0f5843107ae544.png)

ÂÆâË£ÖÂÆåÊàê

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_042023d948644de3ae62e2bbc48dfb43.png)

##### 3. ËøêË°å Hello Viz

Â§çÂà∂‰ª•‰∏ã‰ª£Á†ÅÂà∞`main.rs`Ôºå

```
use std::net::SocketAddr;
use viz::{Request, Result, Router, Server, ServiceMaker};
async fn index(_: Request) -> Result<&'static str> {
    Ok("Hello Viz")
}
#[tokio::main]
async fn main() -> Result<()> {
    let addr = SocketAddr::from(([127, 0, 0, 1], 3000));
    println!("listening on {}", addr);
    let app = Router::new().get("/", index);
    if let Err(err) = Server::bind(&addr)
        .serve(ServiceMaker::from(app))
        .await
    {
        println!("{}", err);
    }
    Ok(())
}
```

##### 4. ËøêË°åÁªìÊûú

Â¶ÇÊûú‰Ω†‰ª•‰∏äÊ≠•È™§Ê≤°ÊúâÂá∫ÈîôÔºåÈÇ£‰πàÂú®ÁªàÁ´Ø‰∏≠ËøêË°å

```
cargo run
```

ÊïàÊûúÂ¶Ç‰∏ãÂõæ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_098ac149c2674becac27225c6f3d0ab5.png)ÊúÄÂêé‰∏ÄË°åÁöÑÊÑèÊÄùÊòØÊ≠£Âú®ÁõëÂê¨Êú¨Âú∞ÁöÑ 127.0.0.1 ÁöÑ 3000 Á´ØÂè£ÔºåËØ¥ÊòéÁ®ãÂ∫èÊ≤°ÊúâÂá∫Èîô

Ê≠§Êó∂Âú®ÊµèËßàÂô®ÊâìÂºÄÁΩëÂùÄ

```
http://localhost:3000/
```

> #### Ê≥®ÊÑè
>
> localhost ÊåáÂêë 127.0.0.1

Ê≠§Êó∂È°µÈù¢Â∫îËØ•ÊòØËøô‰∏™Ê†∑Â≠êÁöÑ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_58eb26882b2c44ffb59d3d53a8707ab5.png)

#### ‰∫å„ÄÅHello Viz ‰ª£Á†ÅËØ¶Ëß£

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_51103c36b1ff4842928d0e7208f26a84.png)

‰ªéÊï¥‰Ωì‰∏äÊù•ÁúãÔºåËøôÂùó‰ª£Á†Å‰∏ªË¶ÅÂàÜ‰∏∫ 3 ‰∏™ÈÉ®ÂàÜÔºåÂàÜÂà´ÊòØÂØºÂÖ•ÁªÑ‰ª∂ÔºåÂ§ÑÁêÜ index ËØ∑Ê±ÇÂíå‰∏ªÁ®ãÂ∫è

##### ÂØºÂÖ•ÁªÑ‰ª∂

È¶ñÂÖàÂØºÂÖ•‰∫Ü SocketAddrÔºåÁî®Êù•Ë°®Á§∫ socket Âú∞ÂùÄÔºåÁÑ∂ÂêéÂØºÂÖ•‰∫Ü Viz ÁöÑ‰∏Ä‰∫õÁªÑ‰ª∂

- Request ËØ∑Ê±Ç
- Result ÂìçÂ∫î
- Router Ë∑ØÁî±
- Server ÊúçÂä°Âô®
- ServiceMaker ÊúçÂä°

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_14fc814ef5ff45da8c8802d2eb7633ee.png)

##### Â§ÑÁêÜËØ∑Ê±Ç

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_ef5103e067aa49709eafe2338be41819.png)ËøôÈáå‰ΩøÁî®ÂºÇÊ≠•ÂáΩÊï∞Êù•ÂÆûÁé∞ index ÁöÑÂ§ÑÁêÜÔºå‰º†ÂÖ• RequestÔºåËøô‰∏™ËøáÁ®ãÁ≥ªÁªü‰ºöËá™Âä®‰∏∫Êàë‰ª¨Â§ÑÁêÜ„ÄÇÁÑ∂ÂêéÂìçÂ∫îÁöÑÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºåÂú®ÂáΩÊï∞‰Ωì‰∏≠ËøîÂõû‰∫ÜÂ≠óÁ¨¶‰∏≤‚ÄúHello Viz‚Äù

##### ‰∏ªÂáΩÊï∞

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_4b3aa9ed463e4f49a6726e5a397e5c7e.png)Âú® Viz ‰∏≠Ôºå‰∏ªÂáΩÊï∞‰πüÊòØÂºÇÊ≠•ÂáΩÊï∞Ôºå‰ΩøÁî® addr Ë°®Á§∫Êú¨Âú∞Âú∞ÂùÄÂíåÁõëÂê¨ÁöÑÁ´ØÂè£ÔºåÁÑ∂ÂêéÊåÇËΩΩ RouterÔºå‰Ωø‰∏é index Â§ÑÁêÜÂô®Áõ∏ËÅîÁ≥ªÔºåÂÜçÂºÄÂêØÊúçÂä°Âô®„ÄÇ

#### ‰∏â„ÄÅÂ∏∏ËßÅÁî®Ê≥ï

##### ÁÆÄÂçïÁöÑÂ§ÑÁêÜÁ®ãÂ∫è

```
async fn index(_: Request) -> Result<Response> {
    Ok(Response::text("Hello, World!"))
}
async fn about(_: Request) -> Result<&'static str> {
    Ok("About Me!")
}
async fn not_found(_: Request) -> Result<impl IntoResponse> {
    Ok("Not Found!")
}
```

##### ÂÆûÁé∞Â§ÑÁêÜÁ®ãÂ∫èÁâπË¥®

```
#[derive(Clone)]
struct MyHandler {
    code: Arc<AtomicUsize>,
}
#[async_trait]
impl Handler<Request> for MyHandler {
    type Output = Result<Response>;
    async fn call(&self, req: Request) -> Self::Output {
        let path = req.path().clone();
        let method = req.method().clone();
        let code = self.code.fetch_add(1, Ordering::SeqCst);
        Ok(format!("code = {}, method = {}, path = {}", code, method, path).into_response())
    }
}
```

##### Ë∑ØÁî±‰º†ÂèÇ

Viz ÂÖÅËÆ∏Êõ¥ÁÅµÊ¥ªÂú∞ÁªÑÁªá‰ª£Á†Å„ÄÇ

```
async fn show_user(mut req: Request) -> Result<Response> {
    let Params(id)  = req.extract::<Params<u64>>().await?;
    Ok(format!("post {}", id).into_response())
}
async fn show_user_ext(Params(id): Params<u64>) -> Result<impl IntoResponse> {
    Ok(format!("Hi, NO.{}", id))
}
async fn show_user_wrap(req: Request) -> Result<impl IntoResponse> {
    // https://github.com/rust-lang/rust/issues/48919
    // show_user_ext.call(req).await
    FnExt::call(&show_user_ext, req).await
}
let app = Router::new()
    .get("/users/:id", show_user)
    .get("/users_wrap/:id", show_user_wrap)
    .get("/users_ext/:id", show_user_ext.into_handler());
```

##### ÈìæÂºèÁªÑÂêàÁ®ãÂ∫è

HandlerExt ÊòØ Handler ÁöÑÊãìÂ±ïÁâπË¥®ÔºåÂÆÉÊèê‰æõ‰∫ÜÂêÑÁßçÊñπ‰æøÁöÑÁªÑÂêàÂáΩÊï∞„ÄÇÊØîÂ¶Ç FutureExt Âíå StreamExt ÁâπË¥®„ÄÇ

```
async fn index(_: Request) -> Result<Response> {
    Ok(Response::text("hyper"))
}
async fn before(req: Request) -> Result<Request> {
    if req.method() == Method::POST {
        Ok(req)
    } else {
        Err(StatusCode::METHOD_NOT_ALLOWED.into_error())
    }
}
async fn around<H>((req, handler): Next<Request, H>) -> Result<Response>
where
    H: Handler<Request, Output = Result<Response>> + Clone,
{
    // before ...
    let result = handler.call(req).await;
    // after ...
    result
}
async fn after(result: Result<Response>) -> Result<Response> {
    result.map(|mut res| {
        *res.status_mut() = StatusCode::NO_CONTENT;
        res
    })
}
let routing = Router::new()
    .get("/", index.before(before).around(around).after(after));
```

##### ‰∏≠Èó¥‰ª∂

Viz ÁöÑ‰∏≠Èó¥‰ª∂ÂíåÂ§ÑÁêÜÁ®ãÂ∫èÂÖ∑ÊúâÂÖ±ÂêåÁöÑ Handler ÁâπË¥®ÔºåÂõ†Ê≠§ÂÆÉÂæàÂÆπÊòìÂÆûÁé∞ÂíåÊâ©Â±ï‰∏≠Èó¥‰ª∂„ÄÇ

Êàë‰ª¨ÂèØ‰ª•Â∞Ü‰∏≠Èó¥‰ª∂Ê∑ªÂä†Âà∞Âçï‰∏™Â§ÑÁêÜÁ®ãÂ∫èÊàñÊâÄÊúâÂ§ÑÁêÜÁ®ãÂ∫è„ÄÇ

Êàë‰ª¨ËøòÂèØ‰ª•Âú®ÊûÑÈÄ†ËøáÁ®ã‰∏≠‰ΩøÁî® Transform ÁâπË¥® trait Êù•ÂåÖË£ÖÂÜÖÈÉ®Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ

```rust
async fn index(_: Request) -> Result<Response> {
    Ok(StatusCode::OK.into_response())
}
async fn not_found(_: Request) -> Result<impl IntoResponse> {
    Ok(StatusCode::OK)
}
async fn show_user(Params(id): Params<u64>) -> Result<impl IntoResponse> {
    Ok(format!("post {}", id))
}
// middleware fn
async fn around<H>((req, handler): Next<Request, H>) -> Result<Response>
where
    H: Handler<Request, Output = Result<Response>>,
{
    // before ...
    let result = handler.call(req).await;
    // after ...
    result
}
// middleware struct
#[derive(Clone)]
struct MyMiddleware {}
#[async_trait]
impl<H> Handler<Next<Request, H>> for MyMiddleware
where
    H: Handler<Request>,
{
    type Output = H::Output;
    async fn call(&self, (i, h): Next<Request, H>) -> Self::Output {
        h.call(i).await
    }
}
// A configuration for Timeout Middleware
struct Timeout {
    delay: Duration,
}
impl Timeout {
    pub fn new(secs: u64) -> Self {
        Self { delay: Duration::from_secs(secs) }
    }
}
impl<H: Clone> Transform<H> for Timeout {
    type Output = TimeoutMiddleware<H>;
    fn transform(&self, h: H) -> Self::Output {
        TimeoutMiddleware(h, self.delay)
    }
}
// Timeout Middleware
#[derive(Clone)]
struct TimeoutMiddleware<H>(H, Duration);
#[async_trait]
impl<H> Handler<Request> for TimeoutMiddleware<H>
where
    H: Handler<Request> + Clone,
{
    type Output = H::Output;
    async fn call(&self, req: Request) -> Self::Output {
        self.0.call(req).await
    }
}
let app = Router::new()
    .get("/", index
        // handler level
        .around(around)
        .around(MyMiddleware {})
        .with(Timeout::new(1))
    )
    .route("/users/:id", get(
        show_user
            .into_handler()
            .map_into_response()
            // handler level
            .around(around)
            .with(Timeout::new(0))
        )
        .post(
            (|_| async { Ok(Response::text("update")) })
            // handler level
            .around(around)
            .with(Timeout::new(0))
        )
        // route level
        .with_handler(MyMiddleware {})
        .with(Timeout::new(2))
    )
    .get("/*", not_found
        .map_into_response()
        // handler level
        .around(around)
        .around(MyMiddleware {})
    )
    // router level
    .with_handler(around)
    .with_handler(MyMiddleware {})
    .with(Timeout::new(4));
```

##### ÂèÇÊï∞Êé•Êî∂Âô®

‰ªé Request ‰∏≠ÊèêÂèñÂèÇÊï∞„ÄÇ

```
struct Counter(u16);
#[async_trait]
impl FromRequest for Counter {
    type Error = Infallible;
    async fn extract(req: &mut Request) -> Result<Self, Self::Error> {
        let c = get_query_param(req.query_string());
        Ok(Counter(c))
    }
}
fn get_query_param(query: Option<&str>) -> u16 {
   let query = query.unwrap_or("");
   let q = if let Some(pos) = query.find('q') {
       query.split_at(pos + 2).1.parse().unwrap_or(1)
   } else {
       1
   };
   cmp::min(500, cmp::max(1, q))
}
```

##### Ë∑ØÁî±

ËØÜÂà´ URL ÂíåÂàÜÈÖçÂ§ÑÁêÜÂô®„ÄÇ

###### ‰∏Ä‰∏™ÁÆÄÂçïÁöÑË∑ØÁî±

```
async fn index(_: Request) -> Result<Response> {
    Ok(().into_response())
}
let root = Router::new()
  .get("/", index)
  .route("/about", get(|_| async { Ok("about") }));
let search = Router::new()
  .route("/", Route::new().get(|_| async { Ok("search") }));
```

###### CRUD Êìç‰Ωú

Ê∑ªÂä†Â∏¶ËØ∑Ê±ÇÊñπÂºèÁöÑÊñπÊ≥ï„ÄÇ

```
async fn index_todos(_: Request) -> Result<impl IntoResponse> {
    Ok(())
}
async fn create_todo(_: Request) -> Result<&'static str> {
    Ok("created")
}
async fn new_todo(_: Request) -> Result<Response> {
    Ok(Response::html(r#"
        <form method="post" action="/">
            <input name="todo" />
            <button type="submit">Create</button>
        </form>
    "#))
}
async fn show_todo(mut req: Request) -> Result<Response> {
    let Params(id): Params<u64> = req.extract().await?;
    Ok(Response::text(format!("todo's id is {}", id)))
}
async fn update_todo(_: Request) -> Result<()> {
    Ok(())
}
async fn destroy_todo(_: Request) -> Result<()> {
    Ok(())
}
async fn edit_todo(_: Request) -> Result<()> {
    Ok(())
}
let todos = Router::new()
  .route("/", get(index_todos).post(create_todo))
  .post("/new", new_todo)
  .route("/:id", get(show_todo).patch(update_todo).delete(destroy_todo))
  .get("/:id/edit", edit_todo);
```

##### ËµÑÊ∫ê

```
// GET `/search`
async fn search_users(_: Request) -> Result<Response> {
    Ok(Response::json::<Vec<u64>>(vec![])?)
}
// GET `/`
async fn index_users(_: Request) -> Result<Response> {
    Ok(Response::json::<Vec<u64>>(vec![])?)
}
// GET `/new`
async fn new_user(_: Request) -> Result<&'static str> {
    Ok("User Form")
}
// POST `/`
async fn create_user(_: Request) -> Result<&'static str> {
    Ok("Created User")
}
// GET `/user_id`
async fn show_user(_: Request) -> Result<&'static str> {
    Ok("User ID 007")
}
// GET `/user_id/edit`
async fn edit_user(_: Request) -> Result<&'static str> {
    Ok("Edit User Form")
}
// PUT `/user_id`
async fn update_user(_: Request) -> Result<&'static str> {
    Ok("Updated User")
}
// DELETE `/user_id`
async fn delete_user(_: Request) -> Result<&'static str> {
    Ok("Deleted User")
}
let users = Resources::default()
  .named("user")
  .route("/search", get(search_users))
  .index(index_users)
  .new(new_user)
  .create(create_user)
  .show(show_user)
  .edit(edit_user)
  .update(update_user)
  .destroy(delete_user);
```

#### ÊÄªÁªì

Êú¨Êúü‰∏ªË¶ÅÊòØÂØπ Rust ÁöÑËΩªÈáèÁ∫ß Web Ê°ÜÊû∂ Viz ËøõË°å‰∫ÜÂÖ•Èó®Á∫ßÁöÑ‰∫ÜËß£ÔºåÂπ∂‰∏îÁªôÂá∫‰∫Ü Viz ÂÆòÊñπÁöÑÁ§∫‰æã‰ª£Á†ÅÔºåÂåÖÊã¨‰∏≠Èó¥‰ª∂ÔºåÂìçÂ∫îÂ§ÑÁêÜÔºåË∑ØÁî±Á≠âÁªÑ‰ª∂ÁöÑÁî®Ê≥ïÔºåÂèØ‰ª•ÁúãÂá∫ Viz ÊòØ‰∏™Á∫Ø web Ê°ÜÊû∂ÔºåÈùûÂ∏∏ÁöÑÁÆÄÊ¥Å„ÄÇ

## Rust ÁöÑ Websocket Ê°ÜÊû∂‚Äî‚Äîws-rs

#### ÂâçË®Ä

ws-rs ÂÆûÁé∞‰∫Ü MIO ÁöÑ WebSockets RFC6455 Ê†áÂáÜ„ÄÇÂÆÉÂÖÅËÆ∏Âú®Âçï‰∏™Á∫øÁ®ã‰∏äÂ§ÑÁêÜÂ§ö‰∏™ËøûÊé•ÔºåÁîöËá≥ÂèØ‰ª•Âú®Âêå‰∏ÄÁ∫øÁ®ã‰∏äÁîüÊàêÊñ∞ÁöÑÂÆ¢Êà∑Á´ØËøûÊé•„ÄÇËøô‰ΩøÂæó WebSockets ÈùûÂ∏∏Âø´ÈÄü‰∏îËµÑÊ∫êÈ´òÊïà„ÄÇAPI ËÆæËÆ°ÊäΩË±°‰∫Ü WebSocket ÂçèËÆÆÁöÑÂ∫ïÂ±ÇÈÉ®ÂàÜÔºå‰ΩøÂºÄÂèëËÄÖÂèØ‰ª•‰∏ìÊ≥®‰∫éÂ∫îÁî®Á®ãÂ∫è‰ª£Á†ÅÔºåËÄå‰∏çÂøÖÊãÖÂøÉÂçèËÆÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ

#### ‰∏Ä„ÄÅÂàõÂª∫È°πÁõÆ

È¶ñÂÖàËøòÊòØËÄÅËßÑÁü©ÔºåÂÖàÂàõÂª∫Êú¨ÊúüÂÜÖÂÆπÊâÄÈúÄË¶ÅÁöÑÂ∑•Á®ãÔºåÁî±‰∫éÊú¨ÊúüÊòØÈÄö‰ø°Á±ªÁöÑ WebsocketÔºåÂõ†Ê≠§ÈúÄË¶ÅÂáÜÂ§á‰∏§‰∏™Â∑•Á®ãÔºå‰∏Ä‰∏™ serverÔºå‰∏Ä‰∏™ client„ÄÇ

##### 1. ÂàõÂª∫ÊúçÂä°Á´ØÈ°πÁõÆ

```
cargo new ws_rs_server
```

ÁÑ∂ÂêéÊ∑ªÂä†‰æùËµñÔºåÂ∞Ü‰ª•‰∏ãÂÜÖÂÆπÂä†ÂÖ•Âà∞Â∑•Á®ã`Cargo.toml`‰∏≠ÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫

```
ws = "0.9.2"
env_logger = "0.6"
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_41df2c704a8649b39a9f25c25e5f7942.png)

##### 2. ÂàõÂª∫ÂÆ¢Êà∑Á´ØÈ°πÁõÆ

```
cargo new ws_rs_client
```

ÁÑ∂ÂêéÊ∑ªÂä†‰æùËµñÔºåÂêåÊ†∑Âä†‰∏äÂàöÊâçÁöÑ‰æùËµñÔºå

```
ws = "0.9.2"
env_logger = "0.6"
```

#### ‰∫å„ÄÅÁºñÂÜôÊµãËØï‰ª£Á†Å

##### 1.ÊúçÂä°Á´Ø

È¶ñÂÖàÊòØÊúçÂä°Á´ØÈÉ®ÂàÜÁöÑ‰ª£Á†ÅÔºå‰ΩøÁî®ËØ•Â∫ìÈúÄË¶ÅÂºïÂÖ•`ws::listen`

```
use ws::listen;
```

ÁÑ∂ÂêéÂú® main ‰∏≠Ë∞ÉÁî®ÔºåÂÆûÁé∞ÁõëÂê¨Êìç‰ΩúÔºå‰æãÂ¶Ç

```rust
// ÁõëÂê¨Âú∞ÂùÄÂπ∂‰∏∫ÊØè‰∏™ËøûÊé•Ë∞ÉÁî®Èó≠ÂåÖ
    if let Err(error) = listen("127.0.0.1:3012", |out| {
        // Â§ÑÁêÜÁ®ãÂ∫èÈúÄË¶ÅËé∑ÂèñoutÁöÑÊâÄÊúâÊùÉÔºåÂõ†Ê≠§Êàë‰ª¨‰ΩøÁî®move
        move |msg| {
            // Â§ÑÁêÜÂú®Ê≠§ËøûÊé•‰∏äÊé•Êî∂ÁöÑÊ∂àÊÅØ
            println!("ÊúçÂä°Âô®Êî∂Âà∞Ê∂àÊÅØ '{}'. ", msg);
            // ‰ΩøÁî®ËæìÂá∫ÈÄöÈÅìÂèëÈÄÅÊ∂àÊÅØ
            out.send(msg)
        }
    }) {
        // ÈÄöÁü•Áî®Êà∑ÊïÖÈöú
        println!("ÂàõÂª∫WebsocketÂ§±Ë¥•ÔºåÂéüÂõ†Ôºö {:?}", error);
    }
```

listen ÈúÄË¶Å‰º†ÂÖ•‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØÁõëÂê¨ÁöÑÂú∞ÂùÄÂíåÁ´ØÂè£ÔºåËøôÈáå‰ΩøÁî®ÁöÑÊòØ`127.0.0.1:3012`ÔºåÁÑ∂ÂêéÂ∞±ÊòØ‰∏™ÂåøÂêçÂáΩÊï∞Ôºå‰º†ÂÖ•`out`ÔºåËé∑Âèñ`out`ÁöÑÊâÄÊúâÊùÉÔºåÁÑ∂ÂêéÂú®ÂÖ∂ÂÜÖÈÉ®‰ΩøÁî®`move`ÂÖ≥ÈîÆÂ≠óËá™Âä®ÊçïËé∑`msg`ÔºåÂÖ∂‰∏≠`msg`Â∞±ÊòØÊúçÂä°Á´ØÊî∂Âà∞ÁöÑÊ∂àÊÅØÔºåÂú®ÊúçÂä°Á´ØÂºÄÂèë‰∏≠Ôºå‰∏ªË¶ÅÂ§ÑÁêÜÁöÑÂ∞±ÊòØËøôÈÉ®ÂàÜÂÜÖÂÆπ„ÄÇ

ËøôÈáåÂ§ÑÁêÜÂÆ¢Êà∑Á´ØÊ∂àÊÅØÈÄªËæëÂæàÁÆÄÂçïÔºå

1. ËæìÂá∫‰ªéÂÆ¢Êà∑Á´ØÊé•Êî∂Âà∞ÁöÑÊ∂àÊÅØ
2. ÊääÂÆ¢Êà∑Á´ØÂèëÈÄÅÁöÑÊ∂àÊÅØËøîÂõû

‰πüÂ∞±ÊòØËØ¥ÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏™ echoÔºå‰ΩÜÊòØËøòÊòØÊúâÁÇπÂå∫Âà´ÁöÑÔºåËøô‰∏™Âè™ËøîÂõû‰∏ÄÊ¨°„ÄÇ

##### 2.ÂÆ¢Êà∑Á´Ø

ÂÆ¢Êà∑Á´ØÈÉ®ÂàÜÈúÄË¶ÅÂºïÂÖ•`connect`Áî®Êù•ËøûÊé•ÊúçÂä°Á´ØÔºåÂºïÂÖ•`CloseCode`Êù•ÂÖ≥Èó≠ËøûÊé•„ÄÇ

```rust
use ws::{connect, CloseCode};
```

ÁÑ∂ÂêéÂ∞±ÊòØÂú®`main`‰∏≠Ë∞ÉÁî®ÔºåÈ¶ñÂÖàÊòØ`connect`ÔºåÂÖ∂Ë∞ÉÁî®ÊñπÂºèÂíå`server`ÁöÑ`listen`ÊòØ‰∏ÄÊ†∑ÁöÑÔºåÈúÄË¶Å‰º†ÂÖ•‰∏§‰∏™ÂèÇÊï∞Ôºå

1. wss ËøûÊé•Ôºå‰æãÂ¶Ç`ws://127.0.0.1:3012`ÔºåÂÖ∂‰∏≠`ws://`Ë°®Á§∫‰ΩøÁî® websocket ÂçèËÆÆÔºå`127.0.0.1`ÊòØ ip Âú∞ÂùÄÔºå`3012`ÊòØÁ´ØÂè£ÔºåÂÄºÂæóÊ≥®ÊÑèÁöÑÊòØË¶ÅÂíå server Áõ∏ÂØπÂ∫îÔºåÂê¶Âàô‰ºöËøûÊé•Â§±Ë¥•
2. ‰∏Ä‰∏™Èó≠ÂåÖÂåøÂêçÂáΩÊï∞Ôºå‰º†ÂÖ•`out`

ÂÆ¢Êà∑Á´ØÁöÑÈó≠ÂåÖÂåøÂêçÂáΩÊï∞‰∏ªË¶ÅË¶ÅÂÅö‰∏§‰ª∂‰∫ãÔºå

1. ÂèëÈÄÅÊ∂àÊÅØÂà∞ÊúçÂä°Á´Ø
2. Â§ÑÁêÜÊù•Ëá™ÊúçÂä°Á´ØÁöÑÊ∂àÊÅØ

ËøôÈáåÁöÑÁ§∫‰æã‰ª£Á†ÅÂ¶Ç‰∏ã

```rust
// ËøûÊé•Âà∞urlÂπ∂Ë∞ÉÁî®Èó≠ÂåÖ
    if let Err(error) = connect("ws://127.0.0.1:3012", |out| {
        // Â∞ÜWebSocketÊâìÂºÄÊó∂Ë¶ÅÂèëÈÄÅÁöÑÊ∂àÊÅØÊéíÈòü
        if out.send("Hello WebSocket").is_err() {
            println!("WebsocketÊó†Ê≥ïÂàùÂßãÊ∂àÊÅØÊéíÈòü")
        } else {
            println!("Client ÂèëÈÄÅÊ∂àÊÅØ 'Hello WebSocket'. ")
        }
        // Â§ÑÁêÜÁ®ãÂ∫èÈúÄË¶ÅËé∑ÂèñoutÁöÑÊâÄÊúâÊùÉÔºåÂõ†Ê≠§Êàë‰ª¨‰ΩøÁî®move
        move |msg| {
            // Â§ÑÁêÜÂú®Ê≠§ËøûÊé•‰∏äÊé•Êî∂ÁöÑÊ∂àÊÅØ
            println!("Client Êî∂Âà∞Ê∂àÊÅØ '{}'. ", msg);
            // ÂÖ≥Èó≠ËøûÊé•
            out.close(CloseCode::Normal)
        }
    }) {
        // ÈÄöÁü•Áî®Êà∑ÊïÖÈöú
        println!("Failed to create WebSocket due to: {:?}", error);
    }
```

ÂèØ‰ª•ÁúãÂà∞ÔºåËøôÊÆµ‰ª£Á†ÅÁöÑÈÄªËæëÊòØÔºå

1. ÂÖàÂèëÈÄÅ`Hello WebSocket`Âà∞ÊúçÂä°Á´ØÔºåÂêåÊó∂Âà§Êñ≠ÂèëÈÄÅËøáÁ®ã‰∏≠ÊòØÂê¶ÊúâÈîôÔºåÂ¶ÇÊûúÂèëÈÄÅÂá∫ÈîôÔºåÂàôËæìÂá∫`WebsocketÊó†Ê≥ïÂàùÂßãÊ∂àÊÅØÊéíÈòü`ÔºåÂèëÈÄÅÊàêÂäüÁöÑÊÉÖÂÜµ‰∏ãÂú®ÂÆ¢Êà∑Á´ØÁïåÈù¢ËæìÂá∫`Client ÂèëÈÄÅÊ∂àÊÅØ 'Hello WebSocket'.`
2. Â§ÑÁêÜÊù•Ëá™ÊúçÂä°Á´ØÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•ÁúãÂà∞ËøôÈáåÂíå server ÊòØÈ´òÂ∫¶Áõ∏‰ººÁöÑÔºåÊî∂Âà∞Ê∂àÊÅØÂêéÔºåËæìÂá∫`Client Êî∂Âà∞Ê∂àÊÅØ '{}'. `ÔºåÂÖ∂‰∏≠`{}`ÊòØÊúçÂä°Á´ØÊ∂àÊÅØÁöÑÂç†‰ΩçÁ¨¶ÔºåÊî∂Âà∞Ê∂àÊÅØÂêéÁõ¥Êé•Êñ≠ÂºÄÊúçÂä°Á´ØÁöÑËøûÊé•

#### ‰∏â„ÄÅ ËøêË°åÊïàÊûú

ËøêË°åÊúçÂä°Á´Ø

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_d2ccfe0ce7cd4a9cade4f41a8d0b48b6.png)

ËøêË°åÂÆ¢Êà∑Á´Ø

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_3460a0af9e8d4d1f8e3f709df101add3.png)

#### ÊÄªÁªì

Êú¨ÊúüÂ≠¶‰π†‰∫Ü Rust ÁöÑ websocket ÈÄö‰ø°Ê°ÜÊû∂ ws-rsÔºåÂπ∂‰∏îÁºñÂÜô‰∫Ü‰∏§‰∏™ÂÆòÊñπÊèê‰æõÁöÑÂ∞èÊ°à‰æãÔºåÈÄöËøáÊú¨ÊúüÂÜÖÂÆπÁöÑÂ≠¶‰π†Ôºå‰Ω†Â∑≤Â≠¶‰ºö‰∫Ü‰ΩøÁî® Rust Êù•ÁºñÂÜô websocket Á®ãÂ∫èÔºåËøô‰∏™Âú®ÂºÄÂèë‰∏≠ÊòØÂÖ∑ÊúâÈáåÁ®ãÁ¢ëÊÑè‰πâÁöÑÔºå‰Ω†ÂÜôÁöÑÁ®ãÂ∫è‰ªéÊ≠§ÂèØ‰ª•ËÅîÁΩëËøõË°åÊï∞ÊçÆ‰º†ËæìÔºå‰ΩøÂæóÁ®ãÂ∫èÁªôÁî®Êà∑Â∏¶Êù•Êõ¥Â•ΩÁöÑ‰ΩìÈ™åÔºåÂπ∂‰∏î‰ºöËÆ©‰Ω†ÁöÑÁ®ãÂ∫èÂèòÂæó‰∏∞ÂØåÂ§öÂΩ©„ÄÇ

#### ÂÆåÊï¥‰ª£Á†Å

##### ÊúçÂä°Á´Ø

```rust
use ws::listen;
fn main() {
    // ÂàùÂßãÂåñÊó•Âøó
    env_logger::init();
    // ÁõëÂê¨Âú∞ÂùÄÂπ∂‰∏∫ÊØè‰∏™ËøûÊé•Ë∞ÉÁî®Èó≠ÂåÖ
    if let Err(error) = listen("127.0.0.1:3012", |out| {
        // Â§ÑÁêÜÁ®ãÂ∫èÈúÄË¶ÅËé∑ÂèñoutÁöÑÊâÄÊúâÊùÉÔºåÂõ†Ê≠§Êàë‰ª¨‰ΩøÁî®move
        move |msg| {
            // Â§ÑÁêÜÂú®Ê≠§ËøûÊé•‰∏äÊé•Êî∂ÁöÑÊ∂àÊÅØ
            println!("ÊúçÂä°Âô®Êî∂Âà∞Ê∂àÊÅØ '{}'. ", msg);
            // ‰ΩøÁî®ËæìÂá∫ÈÄöÈÅìÂèëÈÄÅÊ∂àÊÅØ
            out.send(msg)
        }
    }) {
        // ÈÄöÁü•Áî®Êà∑ÊïÖÈöú
        println!("ÂàõÂª∫WebsocketÂ§±Ë¥•ÔºåÂéüÂõ†Ôºö {:?}", error);
    }
}
```

##### ÂÆ¢Êà∑Á´Ø

```rust
use ws::{connect, CloseCode};
fn main() {
    // ÂàùÂßãÂåñÊó•Âøó
    env_logger::init();
    // ËøûÊé•Âà∞urlÂπ∂Ë∞ÉÁî®Èó≠ÂåÖ
    if let Err(error) = connect("ws://127.0.0.1:3012", |out| {
        // Â∞ÜWebSocketÊâìÂºÄÊó∂Ë¶ÅÂèëÈÄÅÁöÑÊ∂àÊÅØÊéíÈòü
        if out.send("Hello WebSocket").is_err() {
            println!("WebsocketÊó†Ê≥ïÂàùÂßãÊ∂àÊÅØÊéíÈòü")
        } else {
            println!("Client ÂèëÈÄÅÊ∂àÊÅØ 'Hello WebSocket'. ")
        }
        // Â§ÑÁêÜÁ®ãÂ∫èÈúÄË¶ÅËé∑ÂèñoutÁöÑÊâÄÊúâÊùÉÔºåÂõ†Ê≠§Êàë‰ª¨‰ΩøÁî®move
        move |msg| {
            // Â§ÑÁêÜÂú®Ê≠§ËøûÊé•‰∏äÊé•Êî∂ÁöÑÊ∂àÊÅØ
            println!("Client got message '{}'. ", msg);
            // ÂÖ≥Èó≠ËøûÊé•
            out.close(CloseCode::Normal)
        }
    }) {
        // ÈÄöÁü•Áî®Êà∑ÊïÖÈöú
        println!("Failed to create WebSocket due to: {:?}", error);
    }
}
```

## Thruster: Rust Âø´ÈÄü‰∏îÁõ¥ËßÇÁöÑ web Ê°ÜÊû∂: È´òÊÄßËÉΩ„ÄÅÁÆÄÂçï„ÄÅÁõ¥ËßÇ

> ‰∏Ä‰∏™Êó®Âú®ÊèêÈ´òÂºÄÂèëËÄÖÂú®È°πÁõÆÂíåÂõ¢Èòü‰πãÈó¥Áîü‰∫ßÂäõÂíå‰∏ÄËá¥ÊÄßÁöÑ Web Ê°ÜÊû∂

‚úÖ Á®≥ÂÆöËøêË°å ‚úÖ ËøêË°åÂø´ÈÄü ‚úÖ ‰∏ç‰ΩøÁî®‰∏çÂÆâÂÖ®‰ª£Á†Å

### ÁâπÁÇπ

- **ËÄÉËôëÂà∞ÂºÇÊ≠•/Á≠âÂæÖÁöÑÊûÑÂª∫**[1]
- **‰∏é Hyper ÂÖºÂÆπ**[2]
- **ÊîØÊåÅ SSL**[3]
- **ÂèØÊµãËØï**[4]
- **ÈùôÊÄÅÊñá‰ª∂ÊúçÂä°**[5]
- **SocketIO**[6]
- **gRPC**[7]Ôºå‰ª•ÂèäÊõ¥Â§öÂÆûÈ™åÊÄßÁöÑ**Èùû Tonic Âü∫Á°ÄÁöÑ gRPC**[8]
- **‰æùËµñÊ≥®ÂÖ•**[9]

### Âä®Êú∫

> Thruster ÊòØ‰∏Ä‰∏™Êó®Âú®ÊèêÈ´òÂºÄÂèëËÄÖÂú®È°πÁõÆÂíåÂõ¢Èòü‰πãÈó¥Áîü‰∫ßÂäõÂíå‰∏ÄËá¥ÊÄßÁöÑ Web Ê°ÜÊû∂„ÄÇÂÖ∂ÁõÆÊ†áÊòØÔºö

- È´òÊÄßËÉΩ
- ÁÆÄÂçï
- Áõ¥ËßÇ

Thruster ËøòÔºö

- ‰∏ç‰ΩøÁî® `unsafe`
- Âú®Á®≥ÂÆöÁâàÁöÑ Rust ‰∏≠Â∑•‰Ωú

### Âø´ÈÄü

`Thruster` ÂèØ‰ª•‰∏é‰∏çÂêåÁöÑÊúçÂä°Âô®ÂêéÁ´Ø‰∏ÄËµ∑ËøêË°åÔºåÂπ∂‰ª£Ë°®‰∫ÜÂÆÉ‰ª¨‰πã‰∏äÁöÑ‰∏Ä‰∏™Á≤æÂøÉÂåÖË£ÖÁöÑÂ±Ç„ÄÇËøôÊÑèÂë≥ÁùÄÂÆÉÂèØ‰ª•Ë∑ü‰∏ä `Hyper`„ÄÅ`Actix` ÊàñÁîöËá≥ÊòØ `ThrusterServer`Ôºà‰∏Ä‰∏™Ëá™‰∫ßÁöÑ `HTTP` ÂºïÊìéÔºâÁöÑÊúÄÊñ∞ÂíåÊúÄÂ•ΩÁöÑÂèòÂåñ„ÄÇ

### Áõ¥ËßÇ

Âü∫‰∫éÂÉè `Koa` Âíå `Express` ËøôÊ†∑ÁöÑÊ°ÜÊû∂Ôºå`Thruster` Êó®Âú®Êàê‰∏∫‰∏Ä‰∏™ÊÑâÂø´ÁöÑÂºÄÂèë‰ΩìÈ™å„ÄÇ

### Á§∫‰æã

Ë¶ÅËøêË°åÁ§∫‰æãÔºåËØ∑‰ΩøÁî® `cargo run --example <Á§∫‰æãÂêçÁß∞>`„ÄÇ ‰æãÂ¶ÇÔºå`cargo run --example hello_world` Âπ∂ÊâìÂºÄ **http://localhost:4321/**[10]

#### ‰∏≠Èó¥‰ª∂Âü∫Á°Ä

‰ΩøÊñ∞ÁöÑÂºÇÊ≠•Á≠âÂæÖ‰ª£Á†ÅÂ∑•‰ΩúÁöÑÊ†∏ÂøÉÈÉ®ÂàÜÊòØ‰ΩøÁî® `#[middleware_fn]` Â±ûÊÄßÊåáÂÆö‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÔºàËøôÊ†áÂøóÁùÄ‰∏≠Èó¥‰ª∂‰∏é Thruster ÊûÑÂª∫ÁöÑÁ®≥ÂÆöÁâà futures ÁâàÊú¨ÂÖºÂÆπÔºâÔºåÁÑ∂ÂêéÂú®ÂÆûÈôÖË∑ØÁî±‰∏≠ÁöÑ `m!` ÂÆè„ÄÇ

‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ΩøÁî®ÂºÇÊ≠•Á≠âÂæÖÁöÑÁ§∫‰æãÊòØÔºö

```rust
use std::boxed::Box;
use std::future::Future;
use std::pin::Pin;
use std::time::Instant;

use thruster::{App, BasicContext as Ctx, Request};
use thruster::{m, middleware_fn, MiddlewareNext, MiddlewareResult, Server, ThrusterServer};

#[middleware_fn]
async fn profile(context: Ctx, next: MiddlewareNext<Ctx>) -> MiddlewareResult<Ctx> {
    let start_time = Instant::now();

    context = next(context).await;

    let elapsed_time = start_time.elapsed();
    println!(
        "[{}Œºs] {} -- {}",
        elapsed_time.as_micros(),
        context.request.method(),
        context.request.path()
    );

    Ok(context)
}

#[middleware_fn]
async fn plaintext(mut context: Ctx, _next: MiddlewareNext<Ctx>) -> MiddlewareResult<Ctx> {
    let val = "Hello, World!";
    context.body(val);
    Ok(context)
}

#[middleware_fn]
async fn four_oh_four(mut context: Ctx, _next: MiddlewareNext<Ctx>) -> MiddlewareResult<Ctx> {
    context.status(404);
    context.body("Whoops! That route doesn't exist!");
    Ok(context)
}

#[tokio::main]
fn main() {
    println!("Starting server...");

    let mut app = App::<Request, Ctx, ()>::new_basic();

    app.get("/plaintext", m![profile, plaintext]);
    app.set404(m![four_oh_four]);

    let server = Server::new(app);
    server.build("0.0.0.0", 4321).await;
}
```

#### ÈîôËØØÂ§ÑÁêÜ

ËøôÈáåÊúâ‰∏Ä‰∏™‰∏çÈîôÁöÑÁ§∫‰æã

```rust
use thruster::errors::ThrusterError as Error;
use thruster::proc::{m, middleware_fn};
use thruster::{map_try, App, BasicContext as Ctx, Request};
use thruster::{MiddlewareNext, MiddlewareResult, MiddlewareReturnValue, Server, ThrusterServer};

#[middleware_fn]
async fn plaintext(mut context: Ctx, _next: MiddlewareNext<Ctx>) -> MiddlewareResult<Ctx> {
    let val = "Hello, World!";
    context.body(val);
    Ok(context)
}

#[middleware_fn]
async fn error(mut context: Ctx, _next: MiddlewareNext<Ctx>) -> MiddlewareResult<Ctx> {
    let res = "Hello, world".parse::<u32>()
        .map_err(|_| {
            let mut context = Ctx::default();

            context.status(400);

            ThrusterError {
                context,
                message: "Custom error message".to_string(),
                cause: None,
            }
        }?;

    context.body(&format!("{}", non_existent_param));

    Ok(context)
}

#[tokio::main]
fn main() {
    println!("Starting server...");

    let app = App::<Request, Ctx, ()>::new_basic()
        .get("/plaintext", m![plaintext])
        .get("/error", m![error]);

    let server = Server::new(app);
    server.build("0.0.0.0", 4321).await;
}
```

### ÊµãËØï

Thruster Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊµãËØïÂ•ó‰ª∂Êù•ÊµãËØïÊÇ®ÁöÑÁ´ØÁÇπÔºåÂè™ÈúÄÂ¶Ç‰∏ãÂåÖÂê´ `testing` Ê®°ÂùóÔºö

```rust
let mut app = App::<Request, Ctx, ()>::new_basic();

...

app.get("/plaintext", m![plaintext]);

...

let result = testing::get(app, "/plaintext");

assert!(result.body == "Hello, World!");
```

### Âà∂‰ΩúÊÇ®Ëá™Â∑±ÁöÑ‰∏≠Èó¥‰ª∂Ê®°Âùó

Âà∂‰Ωú‰∏≠Èó¥‰ª∂ÈùûÂ∏∏ÁÆÄÂçïÔºÅÂè™ÈúÄÂàõÂª∫‰∏Ä‰∏™ÂáΩÊï∞Âπ∂Â∞ÜÂÖ∂ÂØºÂá∫‰∏∫Ê®°ÂùóÁ∫ßÂà´„ÄÇ‰∏ãÈù¢ÔºåÊÇ®Â∞ÜÁúãÂà∞‰∏Ä‰∏™ÂÖÅËÆ∏ÂØπËØ∑Ê±ÇËøõË°åÂàÜÊûêÁöÑ‰∏≠Èó¥‰ª∂Ôºö

```rust
#[middleware_fn]
async fn profiling<C: 'static + Context + Send>(
    mut context: C,
    next: MiddlewareNext<C>,
) -> MiddlewareResult<C> {
    let start_time = Instant::now();

    context = next(context).await?;

    let elapsed_time = start_time.elapsed();
    info!("[{}Œºs] {}", elapsed_time.as_micros(), context.route());

    Ok(context)
}
```

ÊÇ®ÂèØËÉΩ‰ºöÂèëÁé∞ÊÇ®ÊÉ≥Ë¶ÅÂú®‰∏ä‰∏ãÊñá‰∏≠Â≠òÂÇ®Êõ¥ÂÖ∑‰ΩìÁöÑÊï∞ÊçÆÔºå‰æãÂ¶ÇÔºå‰πüËÆ∏ÊÇ®ÊÉ≥Ë¶ÅÂ∞ÜÊü•ËØ¢ÂèÇÊï∞Ê≥®ÂÖ•Âà∞‰∏Ä‰∏™ÂìàÂ∏åÊò†Â∞Ñ‰∏≠Ôºå‰æõÂÖ∂‰ªñ‰∏≠Èó¥‰ª∂ÂêéÁª≠‰ΩøÁî®„ÄÇ‰∏∫‰∫ÜÂÅöÂà∞Ëøô‰∏ÄÁÇπÔºåÊÇ®ÂèØ‰ª•‰∏∫‰∏ä‰∏ãÊñáÂàõÂª∫‰∏Ä‰∏™È¢ùÂ§ñÁöÑÁâπË¥®Ôºå‰∏ãÊ∏∏ÁöÑ‰∏≠Èó¥‰ª∂ÂøÖÈ°ªÈÅµÂÆà„ÄÇÊü•ÁúãÊèê‰æõÁöÑ **query_params ‰∏≠Èó¥‰ª∂**[11] ‰Ωú‰∏∫Á§∫‰æã„ÄÇ

### ÂÖ∂‰ªñÊàñËá™ÂÆö‰πâÂêéÁ´Ø

Thruster ËÉΩÂ§ü‰ªÖÂú®ÊüêÁßçÊúçÂä°Âô®‰πã‰∏äÊèê‰æõË∑ØÁî±Â±ÇÔºå‰æãÂ¶Ç‰∏äÈù¢ÁöÑ Hyper ‰ª£Á†ÅÁâáÊÆµ„ÄÇÂè™Ë¶ÅÊúçÂä°Âô®ÂÆûÁé∞‰∫Ü `ThrusterServer`ÔºåËøôÂèØ‰ª•ÂπøÊ≥õÂú∞Â∫îÁî®‰∫é‰ªª‰ΩïÂêéÁ´Ø„ÄÇ

```rust
use async_trait::async_trait;

#[async_trait]
pub trait ThrusterServer {
    type Context: Context + Send;
    type Response: Send;
    type Request: RequestWithParams + Send;

    fn new(App<Self::Request, Self::Context>) -> Self;
    async fn build(self, host: &str, port: u16);
}
```

ÈúÄË¶ÅÊúâÔºö

- ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñπÊ≥ïÊù•ÂàõÂª∫‰∏Ä‰∏™ÊúçÂä°Âô®„ÄÇ
- ‰∏Ä‰∏™ÂáΩÊï∞Êù•ÊûÑÂª∫ÊúçÂä°Âô®Âà∞‰∏Ä‰∏™ÂèØ‰ª•Âä†ËΩΩÂà∞ÂºÇÊ≠•ËøêË°åÊó∂‰∏≠ÁöÑÊú™Êù•„ÄÇ

Âú® `build` ÂáΩÊï∞ÂÜÖÔºåÊúçÂä°Âô®ÂÆûÁé∞Â∫îËØ•Ôºö

- ÂêØÂä®ÊüêÁßçËøûÊé•ÁõëÂê¨Âô®
- Ë∞ÉÁî® `let matched = app.resolve_from_method_and_path(<some method>, <some path>);`ÔºàËøôÊòØÊèê‰æõÂÆûÈôÖË∑ØÁî±„ÄÇÔºâ
- Ë∞ÉÁî® `app.resolve(<incoming request>, matched)`ÔºàËøôËøêË°å‰∫ÜÈìæÂºè‰∏≠Èó¥‰ª∂„ÄÇÔºâ

### ‰∏∫‰ªÄ‰πà‰Ω†Â∫îËØ•‰ΩøÁî® Thruster

- ÈöèÊÑèÊõ¥Êç¢ÊÇ®ÁöÑÂêéÁ´Ø„ÄÇThruster Áé∞Âú®ÂèØ‰ª•‰∏é **actix-web**[12], **hyper**[13], Êàñ **Ëá™ÂÆö‰πâÂêéÁ´Ø**[14] ‰∏ÄËµ∑‰ΩøÁî®„ÄÇ
- Thruster ‰ªéÊ°ÜÊû∂Á∫ßÂà´ÊîØÊåÅ **ÊµãËØï**[15]„ÄÇ
- @trezm ÂΩìÊ≤°Êúâ‰∫∫ÂÅö PR ÊàñÊâìÂºÄÈóÆÈ¢òÊó∂‰ºöÊÑüÂà∞Â≠§Áã¨„ÄÇ
- Thruster ÂØπ‰∫éÊõ¥‰ª•‰∏≠Èó¥‰ª∂‰∏∫‰∏≠ÂøÉÁöÑÊ¶ÇÂøµÊõ¥Âä†ÁÆÄÊ¥Å‚Äî‚ÄîÂÉè‰∏Ä‰∏™Ë∑ØÁî±ÂÆàÂç´„ÄÇ‰ª•Ëøô‰∏™ actix ÁöÑÁ§∫‰æã‰∏∫‰æãÔºåÈôêÂà∂ IPÔºö

```rust
fn ip_guard(head: &RequestHead) -> bool {
    // Ê£ÄÊü• Cloudflare ÁöÑ IP Â§¥
    let ip = if let Some(val) = head.headers().get(CF_IP_HEADER) {
        val.to_str().unwrap_or("").to_owned()
    } else if let Some(val) = head.peer_addr {
        val.to_string()
    } else {
        return false;
    };

    "1.2.3.4".contains(&ip)
}

#[actix_web::post("/ping")]
async fn ping() -> Result<HttpResponse, UserPersonalError> {
    Ok(HttpResponse::Ok().body("pong"))
}

...
        web::scope("/*")
            // ËøôÂèØËÉΩ‰ºö‰ª§‰∫∫Âõ∞ÊÉëÔºå‰ΩÜÊàë‰ª¨ÊçïÊçâÂà∞ÊâÄÊúâÊ≤°Êúâ
            // IP ÂÆàÂç´ÁöÑË∑ØÁî±Âπ∂ËøîÂõûÈîôËØØ„ÄÇ
            .guard(guard::Not(ip_guard))
            .route("/*", web::to(HttpResponse::Forbidden)),
    )
    .service(ping);
...
```

ËøôÈáåÊòØ Thruster ÁöÑ‰ª£Á†ÅÔºö

```rust
#[middleware_fn]
async fn ip_guard(mut context: Ctx, next: MiddlewareNext<Ctx>) -> MiddlewareResult<Ctx> {
    if "1.2.3.4".contains(&context.headers().get("Auth-Token").unwrap_or("")) {
        context = next(context).await?;

        Ok(context)
    } else {
        Err(Error::unauthorized_error(context))
    }

}

#[middleware_fn]
async fn ping(mut context: Ctx, _next: MiddlewareNext<Ctx>) -> MiddlewareResult<Ctx> {
    context.body("pong");
    Ok(context)
}

...
    app.get("/ping", m![ip_guard, plaintext]);
...
```

Êõ¥Áõ¥Êé•‰∏ÄÁÇπÂæà‰∏çÈîôÔºÅ

### ‰∏∫‰ªÄ‰πà‰Ω†‰∏çÂ∫îËØ•‰ΩøÁî® Thruster

- ÂÆÉÁöÑÁª¥Êä§ËÄÖÂæàÂ∞ëÔºàÂá†‰πéÂè™Êúâ‰∏Ä‰∏™„ÄÇÔºâ
- ÊúâÂÖ∂‰ªñÈ°πÁõÆÁªèËøá‰∫ÜÊõ¥Â§öÁöÑÂÆûÊàòÊµãËØï„ÄÇThruster Âú®Áîü‰∫ß‰∏≠‰ΩøÁî®Ôºå‰ΩÜ‰∏çÊòØÂú®‰Ω†Áü•ÈÅìÊàñÈáçË¶ÅÁöÑÂú∞Êñπ„ÄÇ
- ÂÆÉËøòÊ≤°ÊúâË¢´ÈùûÂ∏∏ËÅ™ÊòéÁöÑ‰∫∫‰ºòÂåñ„ÄÇ@trezm Â∞ΩÂäõËÄå‰∏∫Ôºå‰ΩÜÊÄªÊòØË¢´‰ªñÁöÑÁãóÂàÜÊï£Ê≥®ÊÑèÂäõ„ÄÇ
- ‰∏•ËÇÉÂú∞ËØ¥ÔºåËøô‰∏™Ê°ÜÊû∂ ~ÂèØËÉΩ~ ÊòØÂæàÊ£íÁöÑÔºå‰ΩÜÂÆÉËÇØÂÆöÊ≤°ÊúâÂÉèÂÖ∂‰ªñÊ°ÜÊû∂ÈÇ£Ê†∑Ë¢´Ê∑±ÂÖ•Êé¢Á¥¢ÂíåÊµãËØï„ÄÇ‰Ω†ÁöÑÂ∏ÆÂä©ÂèØ‰ª•‰ΩøÂÆÉÂèòÂæóÊõ¥ÂÆâÂÖ®„ÄÅÊõ¥ÂÅ•Â£ÆÔºå‰ΩÜÊàë‰ª¨ÂèØËÉΩËøòÊ≤°ÊúâÂÆåÂÖ®ËææÂà∞ÈÇ£‰∏™Ê∞¥Âπ≥„ÄÇ

### Ë∑ØÁî±Ëß£ÊûêÁÆóÊ≥ï

Ë∑ØÁî±Ëß£ÊûêÁÆóÊ≥ïÂ∫îËØ•ÊòØÁõ∏ÂΩìÊ∏ÖÊô∞ÁöÑ„ÄÇÂÆÉÁöÑÂ∑•‰ΩúÊµÅÁ®ãÂ¶Ç‰∏ãÔºö

#### ÊûÑÂª∫

1. ÁßªÈô§Êü•ËØ¢ÂèÇÊï∞ÔºåÂ∞ÜÂÖ∂ÈôÑÂä†Âà∞ËØ∑Ê±ÇÂØπË±°‰∏äÔºàÊàñÁ®çÂêéÂèØËÆøÈóÆÁöÑÊüêÂ§ÑÔºâ
2. ÊåâÊñúÊù†Â∞ÜË∑ØÁî±ÊãÜÂàÜÔºåÁé∞Âú®‰Ω†Êúâ‰∫Ü‰∏Ä‰∏™ÁªÑ‰ª∂ÂàóË°®
3. Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞Ê†ë‰∏≠ÔºåÂ∞Ü `*` Âíå `:param` ËßÜ‰∏∫ÈÄöÈÖçÁ¨¶ ‰æãÂ¶ÇÔºö`get("/a/b")` Âíå `get(":id")` Â∫îËØ•ÁîüÊàêÂ¶Ç‰∏ãÊ†ëÁä∂ÁªìÊûÑ

```
Ê†πËäÇÁÇπ (/)
|\
| \
a  *  // ÈÄöÈÖçÁ¨¶ËäÇÁÇπ
|
|
b
```

#### Ëß£Êûê

1. ‰∏éÊûÑÂª∫ÊúüÈó¥Áõ∏ÂêåÔºåÊãÜÂàÜ‰º†ÂÖ•ÁöÑË∑ØÁî±

2. ËÆæÁΩÆ `current_node = Ê†πËäÇÁÇπ`

3. Â¶ÇÊûú `split.get(0)` ‰∏çÂ≠òÂú®ÔºåËß£ÊûêÂÆåÊàêÔºåËøîÂõûÁ¥ØÁßØÁöÑ‰∏≠Èó¥‰ª∂

4. Ê£ÄÊü•Á¨¨‰∏ÄÈÉ®ÂàÜÔºà`split.get(0)`ÔºâÊòØÂê¶‰∏é `current_node` ÂåπÈÖç

5. 1. Ê£ÄÊü•ÊòØÂê¶ÊúâÈÄöÈÖçÁ¨¶ËäÇÁÇπÔºåÂ¶ÇÊûúÊúâÂàô `current_node = current_node.wildcard`
   2. Â¶ÇÊûúÊ≤°ÊúâÈÄöÈÖçÁ¨¶ÔºåÂàôË∑ØÁî±Êú™ÊâæÂà∞ÔºåË∞ÉÁî® 404 Â§ÑÁêÜÂô®
   3. ËÆæÁΩÆ `current_node = Â≠êËäÇÁÇπ`
   4. Á¥ØÁßØËØ•ËäÇÁÇπÈôÑÂä†ÁöÑ‰ªª‰Ωï‰∏≠Èó¥‰ª∂
   5. Â¶ÇÊûúÂåπÈÖç
   6. Â¶ÇÊûú‰∏çÂåπÈÖç

6. ÁßªÈô§ÊãÜÂàÜÂêéÁöÑÁ¨¨‰∏ÄÊÆµÔºàÊàñÂ¢ûÂä†Á¥¢ÂºïÔºâ

7. ËøîÂõûÊ≠•È™§ 3

Ëøô‰∏™ÁÆóÊ≥ïÁ°Æ‰øù‰∫ÜË∑ØÁî±ËØ∑Ê±ÇÂèØ‰ª•È´òÊïàÂú∞‰∏éÈ¢ÑÂÆö‰πâÁöÑË∑ØÁî±Ê†ëËøõË°åÂåπÈÖçÔºåÂêåÊó∂ÂÖÅËÆ∏‰ΩøÁî®ÈÄöÈÖçÁ¨¶Êù•ÂåπÈÖçÂä®ÊÄÅË∑ØÂæÑÊÆµ„ÄÇÈÄöËøáÁ¥ØÁßØ‰∏≠Èó¥‰ª∂ÔºåÂÆÉËøòÊîØÊåÅÂú®Ë∑ØÁî±Â±ÇÁ∫ßÁªìÊûÑ‰∏≠ÁöÑ‰∏çÂêåÁÇπÊ∑ªÂä†Â§ÑÁêÜÈÄªËæë„ÄÇÂ¶ÇÊûúË∑ØÁî±ÂåπÈÖçÂ§±Ë¥•ÔºåÂàôË∞ÉÁî®ÂÆö‰πâÁöÑ 404 ÈîôËØØÂ§ÑÁêÜÁ®ãÂ∫è„ÄÇ

### ÊäÄÊúØË∑ØÁ∫ø

#### ÁõÆÊ†á

- ÂèØÈÄâÁöÑ‰æùËµñÊ≥®ÂÖ•
- ÂºÇÊ≠• Diesel/Diesel 2.0
- ÊîπËøõÁöÑ WebSocket ÊîØÊåÅ
- ÊîπËøõÁöÑ gRPC ÊîØÊåÅ

#### Âª∂‰º∏ÁõÆÊ†á

- ÊîπËøõ Socket.IO ÊîØÊåÅ
- Êòì‰∫é‰ΩøÁî®ÁöÑ Askama ‰∏≠Èó¥‰ª∂
- Êòì‰∫é‰ΩøÁî®ÁöÑÂâçÁ´ØÂ∫ìÔºàÂ¶Ç Yew„ÄÅLeptos Á≠âÔºâ

### Âä®Êú∫

Èöæ‰ª•ÁΩÆ‰ø°ÔºåÊàëÂ∑≤ÁªèÂú®Ëøô‰∏™È°πÁõÆ‰∏äÂ∑•‰Ωú‰∫ÜËøô‰πàÈïøÊó∂Èó¥‚Äî‚ÄîÂà∞Áé∞Âú®Â∑≤Áªè‰∫îÂπ¥Âçä‰∫Ü„ÄÇÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÔºåÂÆÉÁªèÂéÜ‰∫ÜËÆ∏Â§öËø≠‰ª£ÔºåAPI ÂèëÁîü‰∫ÜÂèòÂåñÔºåÂ∫ïÂ±ÇÁÆóÊ≥ï‰πüÂèëÁîü‰∫ÜÂèòÂåñÔºå‰ΩÜÁõÆÊ†áÂßãÁªà‰∏çÂèòÔºõÂà∂‰Ωú‰∏Ä‰∏™Êòì‰∫é‰ΩøÁî®„ÄÅÊÄßËÉΩ‰ºòË∂äÁöÑÊ°ÜÊû∂ÔºåÂÖ∑ÊúâÂêåÊûÑÁöÑ‰∏≠Èó¥‰ª∂/ËØ∑Ê±ÇÂ§ÑÁêÜÂô®„ÄÇÂú®Ëøô‰∏™ÊÑè‰πâ‰∏äÔºåÊàëËÆ§‰∏∫ Thruster Â∑≤ÁªèÂü∫Êú¨ÂÆûÁé∞‰∫ÜËøô‰∫õÁõÆÊ†á„ÄÇ

ËØùËôΩÂ¶ÇÊ≠§Ôºå‰∏Ä‰∏™Ê°ÜÊû∂‰πãÊâÄ‰ª•Êàê‰∏∫‰∏Ä‰∏™Ê°ÜÊû∂ÔºåÊòØÂõ†‰∏∫ÂÆÉÊâÄÊîØÊåÅÁöÑÁîüÊÄÅÁ≥ªÁªüÂíåÂ∫ì„ÄÇÂ§öÂπ¥Êù•ÔºåThruster Â∑≤ÁªèË¢´Áî®‰∫éËÆ∏Â§ö‰∏çÂêåÁöÑÂ∫îÁî®Á®ãÂ∫èÂíå‰∫ßÂìÅÔºå‰ΩÜÂÆÉÁº∫‰πè‰∏Ä‰∏™ÂùöÂÆûÁöÑÊâ©Â±ï/Ëß£ÂÜ≥ÊñπÊ°àÂü∫Á°ÄÔºåÁî®‰∫éËß£ÂÜ≥Â∏∏ËßÅÈóÆÈ¢òÂíåÁî®‰æã„ÄÇÊàëÈáçÂÜôÊï∞ÊçÆÂ∫ìÈõÜÊàêÊàñÈáçÊñ∞ÈõÜÊàêÊ®°ÊùøÂºïÊìéÁöÑÊ¨°Êï∞Â∑≤ÁªèÂà∞‰∫ÜÊàëÁ°Æ‰ø°ÊàëÂèØ‰ª•Âú®ËíôÁúºÁöÑÊÉÖÂÜµ‰∏ãÂÆåÊàêÂÆÉ‰ª¨ÁöÑÂú∞Ê≠•‚Äî‚Äî‰∏∫‰ªÄ‰πàÂÆÉ‰ª¨‰∏ç‰Ωú‰∏∫Ê°ÜÊû∂ÁöÑ‰∏Ä‰∏™Êòì‰∫é‰ΩøÁî®ÁöÑÁªÑÊàêÈÉ®ÂàÜÂ≠òÂú®Âë¢Ôºü

ÊÄªÁöÑÊù•ËØ¥ÔºåThruster ÈúÄË¶ÅÊõ¥Â•ΩÂú∞„ÄÅÊõ¥ÂÆπÊòìÂú∞ÊîØÊåÅÂ§ßÂ§öÊï∞ÂºÄÂèë‰∫∫ÂëòÈù¢‰∏¥ÁöÑÂ∏∏ËßÅÁî®‰æã„ÄÇËøô‰∏™Ë∑ØÁ∫øÂõæÂ∫îËØ•‰Ωú‰∏∫‰∏Ä‰∏™ËøëÊúüÂà∞‰∏≠ÊúüÁöÑÈáåÁ®ãÁ¢ëÊ∏ÖÂçïÔºå‰ª•ÂÆûÁé∞Êõ¥ÂÆπÊòìÁöÑÈõÜÊàêÂíåÂØπÂ∏∏ËßÅÂºÄÂèë‰∫∫ÂëòÁî®‰æãÁöÑÊõ¥Â•ΩÊîØÊåÅ„ÄÇ

### ÁõÆÊ†á

#### ÂåÖÂê´ÂèØÈÄâÁöÑ‰æùËµñÊ≥®ÂÖ•ÔºàJabÔºâ

Thruster Êã•Êúâ‰∏Ä‰∏™ÂæàÊ£íÁöÑÊµãËØïÂ•ó‰ª∂‚Äî‚ÄîÂèØ‰ª•ËΩªÊùæÂú∞ÂØπ `App` ËøõË°åÊµãËØïÔºåÂêåÊó∂ËøòËÉΩÈÄêÊ≠•Ë∞ÉËØï‰ª£Á†Å„ÄÇËØùËôΩÂ¶ÇÊ≠§ÔºåÊã•ÊúâÂ§ñÈÉ® API ÈõÜÊàêÂíå‰æùËµñÂèØËÉΩÊÑèÂë≥ÁùÄ‰ª£Á†ÅÈúÄË¶ÅÁºñËØëÊó∂Ê†áÂøóÔºå‰ª•‰æøÂçïÂÖÉÊµãËØï‰∏ç‰ºöË∞ÉÁî®Â§ñÈÉ®Êèê‰æõÂïÜÔºàÊàñÊÇ®Êû∂ÊûÑ‰∏≠ÁöÑÂÖ∂‰ªñÊúçÂä°ÔºÅÔºâ„ÄÇËÄÉËôëÂà∞Ëøô‰∏ÄÁÇπÔºåÂæà‰πÖ‰ª•ÂâçÔºåJabDI ËØûÁîü‰∫Ü„ÄÇ

ÂèØÈÄâÂåÖÂê´ Jab Â∞ÜÂáèËΩªËøôÊñπÈù¢ÁöÑÊãÖÂøß„ÄÇÂºÄÂèë‰∫∫ÂëòÂ∞ÜËÉΩÂ§üÂú®‰∏çÈúÄË¶ÅÁºñËØëÊó∂Ê†áÂøóÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ª•ÂÆâÂÖ®„ÄÅÂº∫Á±ªÂûãÁöÑÊñπÂºèÂä®ÊÄÅ‰∫§Êç¢Ê®°ÂùóÁöÑËôöÊãüÁâàÊú¨ËøõË°åÊµãËØï„ÄÇ

#### ÂåÖÂê´ÂèØÈÄâÁöÑ Diesel 2.0 ÊîØÊåÅ

Diesel ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Ê£íÁöÑ ORMÔºåÁúüÁöÑ„ÄÇÂ§öÂπ¥Êù•ÔºåÊàëÊûÑÂª∫‰∫Ü‰∏Ä‰∫õ **ORM Á±ª‰ººÁöÑÂåÖ**[16]Ôºå‰ΩÜ‰∏é Diesel Áõ∏ÊØîÔºåÂÆÉ‰ª¨ÁöÑËåÉÂõ¥ÂíåËÉΩÂäõÈÉΩÁõ∏ÂΩ¢ËßÅÁªå„ÄÇÈöèÁùÄÂºÇÊ≠• Diesel Â∫ìÂíå Diesel 2.0 ÁöÑÂá∫Áé∞ÔºåÊòØÊó∂ÂÄôËÆ© Thruster Âà∂‰Ωú‰∏Ä‰∏™Êòì‰∫é‰ΩøÁî®ÁöÑÊ®°ÂùóÊàñ‰∏ÄÁªÑÊ®°ÂùóÊù•ÂåÖÂê´ÂÆÉ‰∫Ü„ÄÇËøôÈáåÁöÑÁõÆÊ†áÊòØÊèê‰æõ‰∏ÄÁßçÊñπÊ≥ïÔºåËΩªÊùæÂú∞Â∞Ü Diesel ËûçÂÖ•Êñ∞ÁöÑÂü∫‰∫é Thruster ÁöÑÈ°πÁõÆ‰∏≠„ÄÇ

#### ÊîπËøõ WebSocket ÊîØÊåÅ

WebSocket ÂØπ‰∫é Thruster ÁöÑÂêåÊûÑ‰∏≠Èó¥‰ª∂ËÆæËÆ°Êù•ËØ¥ÊòØ‰∏Ä‰∏™Áªù‰Ω≥ÁöÑÁî®‰æã„ÄÇÂÆÉ‰ª¨‰πüÊòØÁé∞‰ª£ Web ‰∏≠ÂÆûÊó∂ÂèëÂ∏É/ËÆ¢ÈòÖÈÄö‰ø°ÁöÑÈáçË¶ÅÁªÑÊàêÈÉ®ÂàÜ„ÄÇÁõÆÂâçÊúâ‰∏Ä‰∫õÂÆûÈ™åÊÄßÁöÑ crates ‰∏∫ Thruster ‰ΩøÁî®ÂÆÉ‰ª¨Ôºå‰æãÂ¶Ç Socket.IO ÂÆûÁé∞Ôºå‰ΩÜËøòÊ≤°Êúâ‰∏Ä‰∏™ÁÆÄÂçïÊö¥Èú≤ÁöÑ‰ªÖ WebSocket ÁöÑÂÆûÁé∞„ÄÇ

#### ÊîπËøõ GRPC ÊîØÊåÅ

GRPC Â∑≤ÁªèÂ≠òÂú®ÂæàÈïøÊó∂Èó¥‰∫ÜÔºå‰ΩÜ‰ªçÁÑ∂Âú®Êó•ÁõäÊµÅË°å„ÄÇÂÆÉÂø´ÈÄü„ÄÅÁ±ªÂûãÂÆâÂÖ®ÔºåÂπ∂‰∏îÂú®ËÆ∏Â§ö‰∏çÂêåÁöÑÂπ≥Âè∞‰∏äÈÉΩÊúâÂÆûÁé∞„ÄÇÂΩìÂâçÁöÑ GRPC ÊîØÊåÅÂú® **thruster-grpc**[17] ‰∏≠ÔºåÈúÄË¶Å‰∏Ä‰∫õÊîπËøõÔºå‰ª•‰ΩøÂÖ∂Êõ¥Âø´„ÄÅÊõ¥Êòì‰∫é‰ΩøÁî®„ÄÇ

### Âª∂‰º∏ÁõÆÊ†á

#### ÊîπËøõ Socket.IO ÊîØÊåÅ

Ëá≥Â∞ëÊúâ‰∏§‰∏™Áîü‰∫ßÁ∫ßÂà´ÁöÑÊúçÂä°Ê≠£Âú®ÁßØÊûÅ‰ΩøÁî® **socket.io**[18] Â∫ìÔºå‰ΩÜËØ•Â∫ìÊú¨Ë∫´Âπ∂‰∏çÊîØÊåÅ Socket.IO ÁöÑ‰∏Ä‰∫õÂÖ≥ÈîÆÁâπÊÄßÔºåÂ¶ÇËΩÆËØ¢ÂõûÈÄÄ„ÄÇÂÆÉ‰Ωú‰∏∫‰∏Ä‰∏™Ê¶ÇÂøµÈ™åËØÅÈùûÂ∏∏Âº∫Â§ßÔºå‰ΩÜÁêÜÊÉ≥ÁöÑÊÉÖÂÜµÊòØÂà∂‰Ωú‰∏Ä‰∏™Êõ¥ÂÆåÊï¥ÁöÑ„ÄÅÁ¨¶ÂêàËßÑËåÉÁöÑÂÆûÁé∞„ÄÇ

‰ª£Á†ÅÊú¨Ë∫´‰πü‰∏çÊòØÂæàÂ•ΩÔºåÂ∫îËØ•ËøõË°åÊ∏ÖÁêÜ„ÄÇ

#### ÂåÖÂê´ÂèØÈÄâÁöÑ Askama ÊîØÊåÅ

Askama ÊòØ‰∏Ä‰∏™ÂæàÊ£íÁöÑÂü∫‰∫é Jinja ÁöÑÊ®°ÊùøÂ∫ì„ÄÇÂÆÉÂø´ÈÄüÔºåAPI ÂæàÊ£í„ÄÇThruster Â∫îËØ•Êúâ‰∏Ä‰∏™ÂÜÖÁΩÆÁöÑÊàñÊòì‰∫é‰ΩøÁî®ÁöÑÊ®°ÂùóÔºåÁî®‰∫éÂåÖÂê´ AskamaÔºåËÄå‰∏çÈúÄË¶ÅÈáçÂÜôÊ†∑Êùø‰ª£Á†Å„ÄÇÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÔºåËøôÂ∞ÜÊòØ‰∏Ä‰∏™ÁâπÂÆöÁöÑ Askama ‰∏≠Èó¥‰ª∂ÔºåÂèØ‰ª•ËΩªÊùæÂú∞Ê∑ªÂä†Âà∞‰ªª‰Ωï Thruster Â∫îÁî®Á®ãÂ∫è‰∏≠„ÄÇ

#### ÂåÖÂê´ÂâçÁ´ØÂä®ÊÄÅÊ∏≤ÊüìÂ∫ì

Èô§‰∫Ü Askama Êèê‰æõÊúçÂä°Âô®Á´ØÊ∏≤Êüì‰πãÂ§ñÔºåÊîØÊåÅÂÉè **Yew**[19] Êàñ **Leptos**[20] ËøôÊ†∑ÁöÑÂâçÁ´ØÂ∫ì‰πüÂ∞ÜÊòØÊûÅÂ•ΩÁöÑ„ÄÇÂØπ‰∫éÈÇ£‰∫õÂ∏åÊúõÂÆûÁé∞Êõ¥ "express-like" ÁîüÊÄÅÁ≥ªÁªüÁöÑ‰∫∫Êù•ËØ¥ÔºåËøôÊòØÁêÜÊÉ≥ÁöÑÔºå‰ªñ‰ª¨ÂèØ‰ª•ËΩªÊùæÂú∞Âú®Êï¥‰∏™Ê†à‰∏≠‰ΩøÁî®‰∏ÄÁßçËØ≠Ë®ÄÔºåËÄå‰∏çÂøÖÊãÖÂøÉÔºàÂ§™Â§öÔºâÁºñËØëÊ≠•È™§„ÄÅCDN Âíå CORS„ÄÇ

### ÊÄªÁªì

Â¶ÇÊûú‰Ω†ËØªÂà∞ËøôÈáåÔºåÈÇ£ÊàëÂæà‰Ω©ÊúçÔºÅÊàëËá™Â∑±ÂèØËÉΩ‰∏ç‰ºöÂÆåÊï¥Âú∞ÈòÖËØªÊï¥ÁØáÊñáÁ´†‚Äî‚ÄîÊàëÂèØËÉΩ‰ºöË∑≥ËøáÈ°∂ÈÉ®ÁöÑÈ°πÁõÆÁ¨¶Âè∑ÁÑ∂ÂêéÁªßÁª≠„ÄÇËøô‰∏™Â§ßÁ∫≤Â∞Ü‰∏∫ÊàëËá™Â∑±Ôºà‰ª•Âèä‰ªª‰ΩïÂÖ∂‰ªñÊÑøÊÑèË¥°ÁåÆÁöÑ‰∫∫ÔºÅÔºâÊèê‰æõÊòéÂπ¥ÁöÑÂ§ßÈáèÂ∑•‰Ωú„ÄÇÂ¶ÇÊûúÊàëÈÅóÊºè‰∫Ü‰Ω†ËÆ§‰∏∫ÈúÄË¶ÅÁöÑÂäüËÉΩÔºåËØ∑ÈöèÊó∂ÊèêÂá∫ÈóÆÈ¢ò„ÄÇÊ¨¢Ëøé‰ªª‰ΩïÂΩ¢ÂºèÁöÑÊñ∞Ë¥°ÁåÆÔºåÂç≥‰ΩøÊòØ‰øÆÂ§ç‰∏Ä‰∏™ÈîôÂà´Â≠ó„ÄÇ

Á•ù‰Ω†Êúâ‰∏Ä‰∏™Â•ΩÁöÑ‰∏ÄÂπ¥ÔºåÂπ∂Âª∫ÈÄ†‰∏Ä‰∫õÂæàÈÖ∑ÁöÑ‰∏úË•øÔºåÊàëÁöÑÊúãÂèã‰ª¨„ÄÇ

### ÂèÇËÄÉËµÑÊñô

[1] ËÄÉËôëÂà∞ÂºÇÊ≠•/Á≠âÂæÖÁöÑÊûÑÂª∫: *https://github.com/thruster-rs/Thruster/blob/master/thruster/examples/profiling.rs#L11*

[2] ‰∏é Hyper ÂÖºÂÆπ: *https://github.com/thruster-rs/Thruster/blob/master/thruster/examples/hyper_most_basic.rs*

[3] ÊîØÊåÅ SSL: *https://github.com/thruster-rs/Thruster/tree/master/thruster/examples/hyper_most_basic_ssl*

[4] ÂèØÊµãËØï: _#ÊµãËØï_

[5] ÈùôÊÄÅÊñá‰ª∂ÊúçÂä°: *https://github.com/thruster-rs/Thruster/tree/master/thruster/examples/static_file*

[6] SocketIO: *https://github.com/thruster-rs/thruster-socketio*

[7] gRPC: *https://github.com/thruster-rs/Thruster/tree/master/thruster/examples/grpc*

[8] Èùû Tonic Âü∫Á°ÄÁöÑ gRPC: *https://github.com/thruster-rs/thruster-grpc*

[9] ‰æùËµñÊ≥®ÂÖ•: *https://github.com/thruster-rs/thruster-jab*

[10] http://localhost:4321/: _http://localhost:4321/_

[11] query_params ‰∏≠Èó¥‰ª∂: *https://github.com/thruster-rs/Thruster/blob/master/thruster/src/middleware/query_params.rs*

[12] actix-web: *https://github.com/thruster-rs/Thruster/blob/master/thruster/examples/actix_most_basic.rs*

[13] hyper: *https://github.com/thruster-rs/Thruster/blob/master/thruster/examples/hyper_most_basic.rs*

[14] Ëá™ÂÆö‰πâÂêéÁ´Ø: *https://github.com/thruster-rs/Thruster/blob/master/thruster/examples/hello_world.rs*

[15] ÊµãËØï: _#ÊµãËØï_

[16] ORM Á±ª‰ººÁöÑÂåÖ: https://github.com/trezm/usual

[17] thruster-grpc: https://github.com/thruster-rs/thruster-grpc

[18] socket.io: https://github.com/thruster-rs/thruster-socketio

[19] Yew: https://github.com/yewstack/yew

[20] Leptos: https://github.com/leptos-rs/leptos

## Salvo(ËµõÈ£é)ÔºöRust Web ÂêéÁ´ØÊ°ÜÊû∂ Ê†∏ÂøÉÂäüËÉΩËØ¶Ëß£

Salvo(ËµõÈ£é) ÊòØ‰∏Ä‰∏™ÊûÅÂÖ∂ÁÆÄÂçï‰∏îÂäüËÉΩÂº∫Â§ßÁöÑ Rust Web ÂêéÁ´ØÊ°ÜÊû∂. ‰ªÖ‰ªÖÈúÄË¶ÅÂü∫Á°Ä Rust Áü•ËØÜÂç≥ÂèØÂºÄÂèëÂêéÁ´ØÊúçÂä°„ÄÇ

ÁâπËâ≤Ôºö

- ÊúâÁùÄÊØî axum Á≠âÊõ¥‰∏∞ÂØåÁöÑÂäüËÉΩÔºå‰ΩÜÂç¥Êõ¥Êòì‰∫é‰∏äÊâã„ÄÇ
- Ë∑ü go Á≠âÂÖ∂‰ªñËØ≠Ë®ÄÊ°ÜÊû∂Êõ¥Êé•ËøëÔºåÊØî Rust ËØ≠Ë®ÄÂêÑ‰∏™ Web Ê°ÜÊû∂Êõ¥Â∞ëÁöÑÁ±ªÂûãÁ≥ªÁªüÁöÑÁÉ¶ÊÅº„ÄÇ
- ÊîØÊåÅ HTTP1, HTTP2 and HTTP3;
- Áªü‰∏ÄÁöÑ‰∏≠Èó¥‰ª∂Âíå Handler Êé•Âè£ÔºåÊó†ÈúÄ‰ªª‰ΩïÂ§çÊùÇËØ≠Ë®ÄÂè™ÊòØÔºåËΩªÊùæÂÆûÁé∞‰∏≠Èó¥‰ª∂„ÄÇÁÅµÊ¥ªÈ´òÊïà„ÄÇ
- ÂÜÖÁΩÆË°®ÂçïÂ§ÑÁêÜÔºåÂº∫Â§ßÁöÑÊèêÂèñÂô®ÔºåËΩªÊùæÂèçÂ∫èÂàóËØ∑Ê±ÇÊï∞ÊçÆÂà∞ÁªìÊûÑ‰Ωì„ÄÇ
- ÊîØÊåÅ WebSocket, WebTransport
- ÂØπ OpenAPI ÊúÄÂÆåÁæéÁöÑÊîØÊåÅÔºå‰∏îÂÜÖÁΩÆÂ§öÁßçÂºÄÊ∫ê OpenAPI Â±ïÁ§∫ÁïåÈù¢
- ÊîØÊåÅ AcmeÔºå ÂèØ‰ª•ËΩªÊùæËé∑ÂèñÂπ∂Ëá™Âä®Êõ¥Êñ∞ÂÖçË¥πÁöÑ TLS ËØÅ‰π¶
- ÈÄÇÈÖç Tower ÁîüÊÄÅ

ÊñáÁ´†ÊïôÁ®ãÔºö[Salvo(ËµõÈ£é) Rust Web ÂêéÁ´ØÊ°ÜÊû∂ Ê†∏ÂøÉÂäüËÉΩÊïôÁ®ãËØ¶Ëß£ (qq.com)](https://mp.weixin.qq.com/s/qK3gua-3IqhSGiwWpXnNAw)

### ÂèÇËÄÉËµÑÊñô

[1] Hyper1Ôºöhttps://crates.io/crates/hyper

[2] TokioÔºöhttps://crates.io/crates/tokio

[3] let's encryptÔºöhttps://letsencrypt.org/

[4] ÂÆû‰æã‰ª£Á†ÅÔºöhttps://github.com/salvo-rs/salvo/tree/main/examples

[5] ÂÆòÁΩëÔºöhttps://salvo.rs

[6] salvo-cliÔºöhttps://github.com/salvo-rs/salvo-cli

[7] ÂÆåÊï¥Ê∫êÁ†ÅÔºöhttps://github.com/salvo-rs/salvo/blob/main/examples/middleware-add-header/src/main.rs

[8] ÂÆåÊï¥Ê∫êÁ†ÅÔºöhttps://github.com/salvo-rs/salvo/blob/main/examples/routing-guid/src/main.rs

[9] ÂÆåÊï¥Ê∫êÁ†ÅÔºöhttps://github.com/salvo-rs/salvo/blob/main/examples/extract-nested/src/main.rs

[10] MultiMapÔºöhttps://docs.rs/multimap/latest/multimap/struct.MultiMap.html

[11] extract-nestedÔºöhttps://github.com/salvo-rs/salvo/blob/main/examples/extract-nested/src/main.rs

[12] code rustÔºö`../../../../codes/custom-error-page/src/main.rs`

[13] code tomlÔºö`../../../../codes/custom-error-page/Cargo.toml`

[14] code rustÔºö`../../../../codes/use-depot/src/main.rs`

[15] code tomlÔºö`../../../../codes/use-depot/Cargo.toml`

[16] ÊúÄÊñ∞ÊñáÊ°£Ôºöhttps://docs.rs/salvo_core/latest/salvo_core/test/index.html

## Warp Ê°ÜÊû∂ÔºöÊûÑÂª∫È´òÊïà Web ÊúçÂä°ÁöÑÊñ∞ÈÄâÊã©

> ‚ùù
>
> Âú®Áé∞‰ª£ Web ÂºÄÂèë‰∏≠ÔºåÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄßÊòØ‰∏§‰∏™Ëá≥ÂÖ≥ÈáçË¶ÅÁöÑÂõ†Á¥†„ÄÇRust ËØ≠Ë®Ä‰ª•ÂÖ∂ÂÜÖÂ≠òÂÆâÂÖ®ÂíåÂπ∂ÂèëÊÄßËÉΩËÄåÈóªÂêçÔºåËÄå Warp Ê°ÜÊû∂ÂàôÊòØ Rust ÁîüÊÄÅ‰∏≠‰∏Ä‰∏™È´òÊÄßËÉΩÁöÑ Web ÊúçÂä°Âô®Ê°ÜÊû∂„ÄÇÊú¨ÊñáÂ∞Ü‰ªãÁªç Warp Ê°ÜÊû∂ÁöÑÂü∫Êú¨Ê¶ÇÂøµ„ÄÅÁâπÊÄß‰ª•ÂèäÂ¶Ç‰ΩïÂà©Áî®ÂÆÉÊù•ÊûÑÂª∫È´òÊïàÁöÑ Web ÊúçÂä°„ÄÇ
>
> ‚ùû

### ‰ªÄ‰πàÊòØ WarpÔºü

`Warp` ÊòØ‰∏Ä‰∏™Âü∫‰∫é Rust ËØ≠Ë®ÄÁöÑ Web ÊúçÂä°Âô®Ê°ÜÊû∂ÔºåÂÆÉÂª∫Á´ãÂú® Hyper Â∫ì‰πã‰∏äÔºåÂõ†Ê≠§Â§©ÁîüÊîØÊåÅÂºÇÊ≠•Â§ÑÁêÜ„ÄÅHTTP/2 ÂçèËÆÆÔºå‰ª•ÂèäÊèê‰æõ‚ÄúÊ≠£Á°ÆÁöÑ HTTP ÂÆûÁé∞‚Äù„ÄÇWarp ÁöÑËÆæËÆ°Âì≤Â≠¶ÊòØÁÆÄÂçïÊòìÁî®ÂíåÈ´òÂ∫¶ÂèØÁªÑÂêàÔºåÂÆÉÈÄöËøá‰∏Ä‰∏™Âº∫Â§ßÁöÑ Filter Á≥ªÁªüÔºåÊèê‰æõ‰∫ÜÁÅµÊ¥ªÁöÑ HTTP Â§ÑÁêÜÊñπÂºè„ÄÇ

### Warp ÁöÑÊ†∏ÂøÉÁâπÊÄß

1. **„ÄåÂºÇÊ≠•ÊîØÊåÅ„Äç**ÔºöWarp Âü∫‰∫é Tokio ËøêË°åÊó∂ÔºåÂèØ‰ª•Â§ÑÁêÜÂºÇÊ≠•‰ªªÂä°ÔºåËøô‰ΩøÂæóÂÆÉÂú®Â§ÑÁêÜÈ´òÂπ∂ÂèëËØ∑Ê±ÇÊó∂Ë°®Áé∞Âá∫Ëâ≤„ÄÇ
2. **„ÄåHTTP/2 ÊîØÊåÅ„Äç**ÔºöWarp ÊîØÊåÅ HTTP/2ÔºåËøôÊÑèÂë≥ÁùÄÊõ¥Âø´ÁöÑÊï∞ÊçÆ‰º†ËæìÂíåÊõ¥‰ºòÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇ
3. **„ÄåFilter Á≥ªÁªü„Äç**ÔºöWarp ÁöÑ Filter Á≥ªÁªüÂÖÅËÆ∏ÂºÄÂèëËÄÖ‰ª•Â£∞ÊòéÂºèÁöÑÊñπÂºèÊûÑÂª∫Ë∑ØÁî±Âíå‰∏≠Èó¥‰ª∂ÈÄªËæëÔºåËøôÊûÅÂ§ßÂú∞ÊèêÈ´ò‰∫Ü‰ª£Á†ÅÁöÑÂèØËØªÊÄßÂíåÁª¥Êä§ÊÄß„ÄÇ
4. **„ÄåÂÆâÂÖ®ÊÄß„Äç**ÔºöRust ËØ≠Ë®ÄÁöÑËÆæËÆ°‰øùËØÅ‰∫ÜÂÜÖÂ≠òÂÆâÂÖ®ÔºåWarp Ê°ÜÊû∂‰πüÁªßÊâø‰∫ÜËøô‰∏ÄÁâπÊÄßÔºåÊèê‰æõ‰∫ÜÂÆâÂÖ®ÁöÑ Web ÊúçÂä°ÊûÑÂª∫‰øùÈöú„ÄÇ

Warp ÁöÑÊ†∏ÂøÉÊûÑ‰ª∂ÊòØ‚ÄúËøáÊª§Âô®‚Äù(Filter)ÔºåÂÆÉ‰ª¨ËÉΩÂ§üÁÅµÊ¥ªÁªÑÂêàÔºå‰ª•Á≤æÂáÜÂÆö‰πâÂØπËØ∑Ê±ÇÁöÑÂêÑÈ°πË¶ÅÊ±Ç„ÄÇ

ÂÄüÂä©ÂÖ∂ÂÜÖÁΩÆÁöÑËøáÊª§Âô®Á≥ªÁªüÔºå`Warp` Ê°ÜÊû∂Êèê‰æõ‰∫Ü‰ª•‰∏ãÂÜÖÁΩÆÂäüËÉΩÔºö

- Ë∑ØÂæÑË∑ØÁî±‰∏éÂèÇÊï∞ÊäΩÂèñ
- ËØ∑Ê±ÇÂ§¥Ë¶ÅÊ±Ç‰∏éÊäΩÂèñ
- Êü•ËØ¢Â≠óÁ¨¶‰∏≤ÁöÑÂèçÂ∫èÂàóÂåñ
- `JSON` ÂíåË°®ÂçïÊï∞ÊçÆÁöÑÂ§ÑÁêÜ
- Â§öÈÉ®ÂàÜË°®ÂçïÊï∞ÊçÆÂ§ÑÁêÜ
- ÈùôÊÄÅÊñá‰ª∂‰∏éÁõÆÂΩïÁöÑÂø´ÈÄüËÆøÈóÆ
- `WebSockets` ÊîØÊåÅ
- ËÆøÈóÆÊó•ÂøóËÆ∞ÂΩï
- ÊîØÊåÅ `Gzip`„ÄÅ`Deflate` ‰∏é `Brotli` ÂéãÁº©ÁÆóÊ≥ï
- Warp Ê°ÜÊû∂ÊûÑÂª∫‰∫é Hyper Â∫ì‰πã‰∏äÔºåÂõ†Ê≠§ÂÆÉÂ§©ÁîüÂÖ∑Â§á‰ª•‰∏ãÁâπÊÄßÔºö
- ÊîØÊåÅ HTTP/1 Âíå HTTP/2 ÂçèËÆÆ
- ÂºÇÊ≠•Â§ÑÁêÜËÉΩÂäõ
- ‰Ωú‰∏∫ÊúÄÂø´ÈÄüÁöÑ HTTP ÂÆûÁé∞‰πã‰∏Ä
- ÁªèËøá‰∏•Ê†ºÊµãËØïÔºåÁ°Æ‰øùÊ≠£Á°ÆÊÄß
- Warp Ê°ÜÊû∂‰ª•ÂÖ∂ÁÆÄÊ¥Å„ÄÅÈ´òÊïàÂíåÂº∫Â§ßÁöÑÂäüËÉΩÈõÜÔºå‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∫Ü‰∏Ä‰∏™Âø´ÈÄüÊûÑÂª∫È´òÊÄßËÉΩ Web ÊúçÂä°ÁöÑÁêÜÊÉ≥ÈÄâÊã©„ÄÇ

### ÂÆâË£Ö‰∏é‰ΩøÁî®

Âú® Rust È°πÁõÆ‰∏≠ÂÆâË£Ö Warp ÈùûÂ∏∏ÁÆÄÂçïÔºåÂè™ÈúÄË¶ÅÂú®`Cargo.toml`Êñá‰ª∂‰∏≠Ê∑ªÂä† Warp ‰Ωú‰∏∫‰æùËµñÂç≥ÂèØ„ÄÇ‰æãÂ¶ÇÔºö

```rust
[dependencies]
tokio = { version = "1", features = ["full"] }
warp = "0.3"
```

‰πãÂêéÔºåÂèØ‰ª•ÈÄöËøáÁªÑÂêà‰∏çÂêåÁöÑ Filter Êù•ÂÆö‰πâË∑ØÁî±ÂíåÂ§ÑÁêÜËØ∑Ê±Ç„ÄÇ‰∏Ä‰∏™Âü∫Êú¨ÁöÑ‚ÄúHello, World‚ÄùÁ§∫‰æãÂèØ‰ª•ËøôÊ†∑ÂÆûÁé∞Ôºö

```rust
use warp::Filter;

#[tokio::main]
async fn main() {
    let hello = warp::path!("hello" / String)
        .map(|name| format!("Hello, {}!", name));

    warp::serve(hello).run(([127, 0, 0, 1], 3030)).await;
}
```

ÈÄöËøáËøêË°å‰∏äËø∞‰ª£Á†ÅÔºå‰Ω†ÂèØ‰ª•Âú®Êú¨Âú∞ÂêØÂä®‰∏Ä‰∏™ Web ÊúçÂä°Âô®ÔºåÈÄöËøáËÆøÈóÆ`http://127.0.0.1:3030/hello/warp`Êù•ÊµãËØï‚ÄúHello, World‚ÄùÊúçÂä°„ÄÇ

### ËøáÊª§Âô®

Âú® Warp ‰∏≠Ôºå‰∏ªË¶ÅÊ¶ÇÂøµÊòØ‚ÄúËøáÊª§Âô®‚ÄùÔºàFilterÔºâÔºåÂÆÉÂÖÅËÆ∏ÁªÑÂêàÂ§ö‰∏™Êù°‰ª∂Êù•ÊèèËø∞ÊÇ®ÁöÑ Web ÊúçÂä°‰∏≠ÁöÑÂêÑÁßçÁ´ØÁÇπ„ÄÇÈô§‰∫ÜËøô‰∏ÄÂº∫Â§ßÁöÑÁâπÊÄßÔºåWarp ËøòËá™Â∏¶‰∫ÜÂ§ö‰∏™ÂÜÖÁΩÆÁöÑËøáÊª§Âô®ÔºåÂèØ‰ª•Ê†πÊçÆÊÇ®ÁöÑÁâπÂÆöÈúÄÊ±ÇËøõË°åÁªÑÂêà„ÄÇ

‰ª•‰∏Ä‰∏™ÂÖ∑ÊúâË∑ØÂæÑÂíåÂ§¥ÈÉ®Ë¶ÅÊ±ÇÁöÑÁ´ØÁÇπ‰∏∫‰æãÔºö

```rust
use warp::Filter;

let hi = warp::path("hello")
    .and(warp::path::param())
    .and(warp::header("user-agent"))
    .map(|param: String, agent: String| {
        format!("Hello {}, whose agent is {}", param, agent)
    });
```

Ëøô‰∏™‰æãÂ≠ê‰ΩøÁî®`and`ÊñπÊ≥ïÂ∞ÜÂ§ö‰∏™ËøáÊª§Âô®ÁªÑÂêàÂú®‰∏ÄËµ∑Ôºö

- ‚Äúhello‚Äù‰Ωú‰∏∫Ë∑ØÂæÑÂâçÁºÄ
- ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑË∑ØÂæÑÂèÇÊï∞
- Ëß£Êûê‰∏∫Â≠óÁ¨¶‰∏≤ÁöÑ`user-agent`ËØ∑Ê±ÇÂ§¥

Ëøô‰∫õÁâπÂÆöÁöÑËøáÊª§Âô®‰ºöÊãíÁªù‰∏çÁ¨¶ÂêàÂÆÉ‰ª¨Ë¶ÅÊ±ÇÁöÑËØ∑Ê±Ç„ÄÇ

ÊúÄÁªàÔºåÂÆÉ‰ºöÂåπÈÖçÂ¶Ç‰∏ãËØ∑Ê±ÇÔºö

```bash
GET /hello/sean HTTP/1.1
Host: hyper.rs
User-Agent: reqwest/v0.8.6
```

Âπ∂ËøîÂõûÁ±ª‰ººËøôÊ†∑ÁöÑÂìçÂ∫îÔºö

```bash
HTTP/1.1 200 OK
Content-Length: 41
Date: ...

Hello sean, whose agent is reqwest/v0.8.6
```

Êü•ÁúãÂÆåÊï¥ÁöÑËøáÊª§Âô®ÂàóË°®Ôºå‰∫ÜËß£ÊÇ®ÂèØ‰ª•ÊûÑÂª∫ÁöÑÂäüËÉΩ„ÄÇ

ÊµãËØï ËΩªÊùæÊµãËØïÊÇ®ÁöÑ Web ÊúçÂä°ÊûÅÂÖ∂ÈáçË¶ÅÔºåWarp Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÊµãËØïÊ®°ÂùóÔºåÂ∏ÆÂä©ÊÇ®ÈÄöËøáÊúçÂä°ÂèëÈÄÅÊ®°ÊãüËØ∑Ê±Ç„ÄÇ

Ê®°Âùó

- `filters`ÔºöÂÜÖÁΩÆÁöÑËøáÊª§Âô®„ÄÇ
- `redirect`ÔºöÂ∞ÜËØ∑Ê±ÇÈáçÂÆöÂêëÂà∞Êñ∞‰ΩçÁΩÆ„ÄÇ
- `reject`ÔºöÊãíÁªùËØ∑Ê±Ç„ÄÇ
- `reply`ÔºöÂìçÂ∫îËØ∑Ê±Ç„ÄÇ
- `test`ÔºöÊµãËØïÂ∑•ÂÖ∑ÔºåÁî®‰∫éÊµãËØïÊÇ®ÁöÑËøáÊª§Âô®„ÄÇ

ÂÆè

- `path`ÔºöÊñπ‰æøÂú∞ÁªÑÂêàÂ§ö‰∏™Ë∑ØÂæÑËøáÊª§Âô®„ÄÇ

ÁªìÊûÑ‰Ωì

- `Error`ÔºöWarp ÂÜÖÈÉ®ÂèØËÉΩÂèëÁîüÁöÑÈîôËØØ„ÄÇ
- `Server`ÔºöÂáÜÂ§áÂ∞±Áª™ÁöÑ Warp ÊúçÂä°Âô®ÔºåÁî®‰∫éËøáÊª§ËØ∑Ê±Ç„ÄÇ
- `TlsServer`ÔºöÂáÜÂ§áÂ∞±Áª™ÁöÑ Warp ÊúçÂä°Âô®ÔºåÁî®‰∫éÈÄöËøá TLS ËøáÊª§ËØ∑Ê±Ç„ÄÇ

ÁâπÂæÅ

- `Filter`ÔºöÂèØÁªÑÂêàÁöÑËØ∑Ê±ÇËøáÊª§Âô®„ÄÇ

ÂáΩÊï∞

- `serve`Ôºö‰ΩøÁî®Êèê‰æõÁöÑËøáÊª§Âô®ÂàõÂª∫‰∏Ä‰∏™ÊúçÂä°Âô®„ÄÇ
- `service`ÔºöÂ∞ÜËøáÊª§Âô®ËΩ¨Êç¢‰∏∫ÊúçÂä°„ÄÇ
- `wrap_fn`ÔºöÂ∞ÜÊé•Êî∂Âà∞ÁöÑËøáÊª§Âô®‰∏éÂâçÁΩÆÂíåÂêéÁΩÆËøáÊª§Âô®ÁªÑÂêà„ÄÇ

### Ê®°Âùó

`warp::filters` ‰∏ªË¶Å‰Ωú‰∏∫ÊñáÊ°£Â≠òÂú®ÔºåÁî®‰∫éÊ±áÊÄªÂÜÖÁΩÆËøáÊª§Âô®ÁöÑÂàóË°®„ÄÇËøô‰∫õËøáÊª§Âô®Â§ßÂ§öÊï∞Âú®Êõ¥Êñπ‰æøÁöÑË∑ØÂæÑ‰∏äÂèØÁî®„ÄÇ

#### Ê®°ÂùóÊ¶ÇËßà

- **„Äåaddr„Äç**ÔºöÁî®‰∫éÂ§ÑÁêÜ Socket Âú∞ÂùÄÁöÑËøáÊª§Âô®„ÄÇ
- **„Äåany„Äç**Ôºö‰∏Ä‰∏™ÂåπÈÖç‰ªª‰ΩïË∑ØÁî±ÁöÑËøáÊª§Âô®„ÄÇ
- **„Äåbody„Äç**ÔºöÂ§ÑÁêÜËØ∑Ê±Ç‰ΩìÁöÑËøáÊª§Âô®„ÄÇ
- **„Äåcompression„Äç**ÔºöÂéãÁº©ËøáÊª§Âô®ÔºåÁî®‰∫éÂéãÁº©ÂìçÂ∫î‰Ωì„ÄÇ
- **„Äåcookie„Äç**ÔºöÂ§ÑÁêÜ HTTP ËØ∑Ê±Ç‰∏≠ Cookie ÁöÑËøáÊª§Âô®„ÄÇ
- **„Äåcors„Äç**ÔºöË∑®Ê∫êËµÑÊ∫êÂÖ±‰∫´ÔºàCORSÔºâËøáÊª§Âô®ÔºåÁî®‰∫éÂ§ÑÁêÜË∑®ÂüüËØ∑Ê±Ç„ÄÇ
- **„Äåext„Äç**ÔºöËØ∑Ê±ÇÊâ©Â±ïËøáÊª§Âô®ÔºåÁî®‰∫éÂ§ÑÁêÜ HTTP ËØ∑Ê±ÇÁöÑÊâ©Â±ïÈÉ®ÂàÜ„ÄÇ
- **„Äåfs„Äç**ÔºöÊñá‰ª∂Á≥ªÁªüËøáÊª§Âô®ÔºåÁî®‰∫éËØªÂèñÊú¨Âú∞Êñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑÊñá‰ª∂„ÄÇ
- **„Äåheader„Äç**ÔºöÂ§ÑÁêÜ HTTP ËØ∑Ê±ÇÂ§¥ÁöÑËøáÊª§Âô®„ÄÇ
- **„Äåhost„Äç**ÔºöÂ§ÑÁêÜ HTTP ËØ∑Ê±Ç‰∏≠ÁöÑ‚Äú‰∏ªÊú∫‚ÄùÔºàauthorityÔºâÈÉ®ÂàÜÁöÑËøáÊª§Âô®„ÄÇ
- **„Äålog„Äç**ÔºöÊó•ÂøóËÆ∞ÂΩïËøáÊª§Âô®ÔºåÁî®‰∫éËÆ∞ÂΩïËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÊó•Âøó„ÄÇ
- **„Äåmethod„Äç**ÔºöHTTP ÊñπÊ≥ïËøáÊª§Âô®ÔºåÊ†πÊçÆ HTTP ËØ∑Ê±ÇÊñπÊ≥ïËøõË°åÂåπÈÖç„ÄÇ
- **„Äåmultipart„Äç**ÔºöÂ§öÈÉ®ÂàÜËØ∑Ê±Ç‰ΩìËøáÊª§Âô®ÔºåÁî®‰∫éÂ§ÑÁêÜÂ§öÈÉ®ÂàÜËØ∑Ê±Ç„ÄÇ
- **„Äåpath„Äç**ÔºöË∑ØÂæÑËøáÊª§Âô®ÔºåÁî®‰∫éÂåπÈÖç URL Ë∑ØÂæÑÂπ∂ÊèêÂèñË∑ØÂæÑÂèÇÊï∞„ÄÇ
- **„Äåquery„Äç**ÔºöÊü•ËØ¢Â≠óÁ¨¶‰∏≤ËøáÊª§Âô®ÔºåÁî®‰∫éËß£ÊûêÂíåÂ§ÑÁêÜÊü•ËØ¢Â≠óÁ¨¶‰∏≤„ÄÇ
- **„Äåreply„Äç**ÔºöÂìçÂ∫îËøáÊª§Âô®ÔºåÁî®‰∫éÊûÑÈÄ† HTTP ÂìçÂ∫î„ÄÇ
- **„Äåsse„Äç**ÔºöÊúçÂä°Âô®ÂèëÈÄÅ‰∫ã‰ª∂ÔºàSSEÔºâËøáÊª§Âô®ÔºåÁî®‰∫éÂàõÂª∫ SSE ËøûÊé•„ÄÇ
- **„Äåtrace„Äç**ÔºöËøΩË∏™ËøáÊª§Âô®ÔºåÁî®‰∫éÁõëÊéßÂíåËøΩË∏™ËØ∑Ê±ÇÂ§ÑÁêÜËøáÁ®ã„ÄÇ
- **„Äåws„Äç**ÔºöWebSocket ËøáÊª§Âô®ÔºåÁî®‰∫éÂ§ÑÁêÜ WebSocket ËøûÊé•ÂçáÁ∫ß„ÄÇ

Warp Ê°ÜÊû∂ÈÄöËøáËøô‰∫õÂÜÖÁΩÆÁöÑËøáÊª§Âô®Êèê‰æõ‰∫ÜÂº∫Â§ßÁöÑË∑ØÁî±ÂíåËØ∑Ê±ÇÂ§ÑÁêÜËÉΩÂäõÔºå‰ΩøÂæóÂºÄÂèëËÄÖËÉΩÂ§üÁÅµÊ¥ªÂú∞ÊûÑÂª∫Â§çÊùÇÁöÑ Web ÊúçÂä°„ÄÇÊØè‰∏™ËøáÊª§Âô®ÈÉΩÂèØ‰ª•ÂçïÁã¨‰ΩøÁî®Êàñ‰∏éÂÖ∂‰ªñËøáÊª§Âô®ÁªÑÂêà‰ΩøÁî®Ôºå‰ª•Êª°Ë∂≥ÂÖ∑‰ΩìÁöÑ‰∏öÂä°ÈúÄÊ±Ç„ÄÇ

### ÁªìÊûÑ‰Ωì

#### `warp::filters::BoxedFilter`

```
pub struct BoxedFilter<T: Tuple> { /* private fields */ }
```

‰ª£Ë°®‰∏Ä‰∏™Â∞ÅË£Ö‰∫Ü `Filter` trait ÂØπË±°ÁöÑÁ±ªÂûã„ÄÇ

Ëøô‰∏™ÁªìÊûÑ‰ΩìÂÜÖÈÉ®ÊòØ‰∏Ä‰∏™Âä®ÊÄÅÁöÑ trait ÂØπË±°„ÄÇÂÆÉÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÁÆÄÂåñ‰ªéÂÖ∂‰ªñÂáΩÊï∞ËøîÂõûËøáÊª§Âô®„ÄÇ

#### ÂàõÂª∫ `BoxedFilter`

Ë¶ÅÂàõÂª∫ `BoxedFilter`ÔºåÂèØ‰ª•Âú®‰ªª‰ΩïËøáÊª§Âô®‰∏äË∞ÉÁî® `Filter::boxed` ÊñπÊ≥ï„ÄÇ

#### Á§∫‰æã

```rust
use warp::{Filter, filters::BoxedFilter, Reply};

pub fn assets_filter() -> BoxedFilter<(impl Reply,)> {
    warp::path("assets")
        .and(warp::fs::dir("./assets"))
        .boxed()
}
```

#### ÁâπÂæÅÂÆûÁé∞ (Trait Implementations)

- `Clone`Ôºö‰∏∫ `BoxedFilter<T>` ÂÆûÁé∞‰∫Ü `Clone` ÁâπÂæÅÔºåÂÖÅËÆ∏ÂÖãÈöÜ `BoxedFilter` ÂØπË±°„ÄÇ
- `Debug`Ôºö‰∏∫ `BoxedFilter<T>` ÂÆûÁé∞‰∫Ü `Debug` ÁâπÂæÅÔºåÂÖÅËÆ∏‰ΩøÁî®Ê†ºÂºèÂåñË∞ÉËØïËæìÂá∫„ÄÇ

#### Ëá™Âä®ÁâπÂæÅÂÆûÁé∞ (Auto Trait Implementations)

- `Freeze`ÔºöÂÆûÁé∞‰∫Ü `Freeze`ÔºåË°®Êòé `BoxedFilter<T>` ÂèØ‰ª•Ë¢´ÂÜªÁªìÔºåÂç≥ÂÆÉÁöÑÂÜÖÈÉ®Êï∞ÊçÆ‰∏çÂèØÂèò„ÄÇ
- `Send`ÔºöÂÆûÁé∞‰∫Ü `Send`ÔºåË°®Êòé `BoxedFilter<T>` ÂèØ‰ª•ÂÆâÂÖ®Âú∞Âú®Â§öÁ∫øÁ®ãÈó¥‰º†ÈÄí„ÄÇ
- `Sync`ÔºöÂÆûÁé∞‰∫Ü `Sync`ÔºåË°®ÊòéÂ§ö‰∏™Á∫øÁ®ãÂèØ‰ª•ÂêåÊó∂ËÆøÈóÆ `BoxedFilter<T>`„ÄÇ
- `Unpin`ÔºöÂÆûÁé∞‰∫Ü `Unpin`ÔºåË°®Êòé `BoxedFilter<T>` ‰∏çÊòØÂõ∫ÂÆöÔºàpinnedÔºâÁä∂ÊÄÅÔºåÂèØ‰ª•Ëá™Áî±ÁßªÂä®„ÄÇ
- `!UnwindSafe`ÔºöÂÆûÁé∞‰∫Ü `!UnwindSafe`ÔºåË°®Êòé `BoxedFilter<T>` Âú® Rust ÁöÑÊ†àÂ±ïÂºÄÔºàunwindingÔºâËøáÁ®ã‰∏≠ÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ

#### ÈÄöÁî®ÁâπÂæÅÂÆûÁé∞ (Blanket Implementations)

- `Any`Ôºö‰∏∫ÊâÄÊúâ `'static + ?Sized` Á±ªÂûãÂÆûÁé∞‰∫Ü `Any` ÁâπÂæÅÔºåÂÖÅËÆ∏‰ΩøÁî® `as_any` Âíå `downcast_ref` ÊñπÊ≥ï„ÄÇ
- `Borrow<T>` Âíå `BorrowMut<T>`Ôºö‰∏∫ÊâÄÊúâ `?Sized` Á±ªÂûãÂÆûÁé∞‰∫ÜÂÄüÁî®ÁâπÂæÅÔºåÂÖÅËÆ∏ÂÄüÁî®ÂíåÂÄüÁî®Á™ÅÂèò„ÄÇ
- `Filter`Ôºö‰∏∫ÊâÄÊúâÂÆûÁé∞‰∫Ü `FilterBase` ÁöÑ `T` ÂÆûÁé∞‰∫Ü `Filter` ÁâπÂæÅ„ÄÇ
- `From<T>`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫Ü `From` ÁâπÂæÅÔºåÂÖÅËÆ∏ËøõË°åÁ±ªÂûãËΩ¨Êç¢„ÄÇ
- `Instrument`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫Ü `Instrument` ÁâπÂæÅÔºåÁî®‰∫éÁõëÊéßÂíåË∑üË∏™„ÄÇ
- `Same`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫Ü `Same` ÁâπÂæÅÔºåÁî®‰∫éÊØîËæÉ‰∏§‰∏™Á±ªÂûãÊòØÂê¶Áõ∏Âêå„ÄÇ
- `ToOwned`Ôºö‰∏∫ÊâÄÊúâÂÆûÁé∞‰∫Ü `Clone` ÁöÑ `T` ÂÆûÁé∞‰∫Ü `ToOwned` ÁâπÂæÅÔºåÂÖÅËÆ∏ÂàõÂª∫Á±ªÂûãÁöÑÊâÄÊúâÊùÉÂâØÊú¨„ÄÇ
- `TryFrom<U>` Âíå `TryInto<U>`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫ÜÂ∞ùËØï‰ªé `U` ËΩ¨Êç¢ÂíåÂ∞ùËØïËΩ¨Êç¢‰∏∫ `U` ÁöÑÁâπÂæÅ„ÄÇ
- `VZip<V>`Ôºö‰∏∫ÊâÄÊúâ `V: MultiLane<T>` ÁöÑ `T` ÂÆûÁé∞‰∫Ü `VZip` ÁâπÂæÅÔºåÂÖÅËÆ∏Â§öËΩ¶ÈÅìÁöÑÂéãÁº©„ÄÇ
- `WithSubscriber`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫Ü `WithSubscriber` ÁâπÂæÅÔºåÂÖÅËÆ∏‰∏éÁõëÊéßËÆ¢ÈòÖËÄÖ‰∏ÄËµ∑‰ΩøÁî®„ÄÇ

`BoxedFilter` ÁªìÊûÑ‰ΩìÊèê‰æõ‰∫Ü‰∏ÄÁßçÁÅµÊ¥ªÁöÑÊñπÂºèÔºåÂÖÅËÆ∏Â∞ÜËøáÊª§Âô®‰Ωú‰∏∫Âä®ÊÄÅÁ±ªÂûã‰º†ÈÄíÂíåËøîÂõûÔºåËøôÂú®ÊûÑÂª∫Ê®°ÂùóÂåñÂíåÂèØÈáçÁî®ÁöÑ Web ÊúçÂä°Êó∂ÈùûÂ∏∏ÊúâÁî®„ÄÇ

#### ÂÆè `warp::path`

```rust
macro_rules! path {
    ($($pieces:tt)*) => { ... };
}
```

`warp::path`ÂÆèÊèê‰æõ‰∫Ü‰∏ÄÁßçÊñπ‰æøÁöÑÊñπÊ≥ïÊù•ÈìæÊé•Â§ö‰∏™Ë∑ØÂæÑËøáÊª§Âô®„ÄÇ

ÂèØ‰ª•‰º†ÈÄí‰ªªÊÑèÊï∞ÈáèÁöÑÁ±ªÂûãÊ†áËØÜÁ¨¶ÊàñÂ≠óÁ¨¶‰∏≤Ë°®ËææÂºèÔºåÊØè‰∏™Ë°®ËææÂºè‰πãÈó¥Áî®Ê≠£ÊñúÊù† (/) ÂàÜÈöî„ÄÇÂ≠óÁ¨¶‰∏≤Áî®‰∫éÁ≤æÁ°ÆÂåπÈÖçË∑ØÂæÑÊÆµÔºåËÄåÁ±ªÂûãÊ†áËØÜÁ¨¶ÁöÑÁî®Ê≥ï‰∏é `param` ËøáÊª§Âô®Áõ∏Âêå„ÄÇ

#### Á§∫‰æã

```rust
use warp::Filter;

// ÂåπÈÖç `/sum/:a/:b`
let route = warp::path!("sum" / u32 / u32)
    .map(|a, b| {
        format!("{} + {} = {}", a, b, a + b)
    });
```

Â¶ÇÊûú‰∏ç‰ΩøÁî® `path!` ÂÆèÔºåÁ≠âÊïàÁöÑËøáÊª§Âô®ÈìæÁúãËµ∑Êù•Â¶Ç‰∏ãÔºö

```rust
use warp::Filter;

let route = warp::path("sum")
    .and(warp::path::param::<u32>())
    .and(warp::path::param::<u32>())
    .and(warp::path::end())
    .map(|a, b| {
        format!("{} + {} = {}", a, b, a + b)
    });
```

#### Ë∑ØÂæÑÂâçÁºÄ

`path!` ÂÆèËá™Âä®ÂÅáÂÆöË∑ØÂæÑÂ∫îËØ•ÂåÖÂê´‰∏Ä‰∏™ `end()` ËøáÊª§Âô®„ÄÇË¶ÅÊûÑÂª∫‰∏Ä‰∏™Ë∑ØÂæÑËøáÊª§Âô®ÂâçÁºÄÔºå‰ΩøÂæó‰∏çÂåÖÂê´ `end()`ÔºåÂèØ‰ª•‰ΩøÁî® `/ ..` ËØ≠Ê≥ï„ÄÇ

```rust
use warp::Filter;

let prefix = warp::path!("math" / "sum" / ..);

let sum = warp::path!(u32 / u32)
    .map(|a, b| {
        format!("{} + {} = {}", a, b, a + b)
    });

let help = warp::path::end()
    .map(|| "This API returns the sum of two u32's");

let api = prefix.and(sum.or(help));
```

Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠Ôºå`prefix` ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Ë∑ØÂæÑÂâçÁºÄ `"math" / "sum"`ÔºåÂπ∂‰∏îÊ≤°ÊúâËá™Âä®Ê∑ªÂä† `end()` ËøáÊª§Âô®„ÄÇËøôÂÖÅËÆ∏Âú®ÂâçÁºÄÁöÑÂü∫Á°Ä‰∏äËøõ‰∏ÄÊ≠•Ê∑ªÂä†Êõ¥Â§öÁöÑË∑ØÂæÑËøáÊª§Âô®ÔºåÊàñËÄÖ‰ΩøÁî® `sum` Âíå `help` ËøôÊ†∑ÁöÑÁã¨Á´ãË∑ØÁî±„ÄÇÊúÄÁªàÔºå`api` Â∞Ü `sum` Ë∑ØÁî±Âíå `help` Ë∑ØÁî±ÁªÑÂêàÂú®Áî± `prefix` ÂÆö‰πâÁöÑË∑ØÂæÑÂâçÁºÄ‰∏ã„ÄÇ

#### ÁªìÊûÑ‰Ωì `warp::Error`

```rust
pub struct Error { /* private fields */ }
```

Ë°®Á§∫Âú® Warp ‰∏≠ÂèØËÉΩÂèëÁîüÁöÑÈîôËØØ„ÄÇ

#### ÁâπÂæÅÂÆûÁé∞ (Trait Implementations)

- `Debug`Ôºö‰∏∫ `Error` ÂÆûÁé∞‰∫Ü `Debug` ÁâπÂæÅÔºåÂÖÅËÆ∏‰ΩøÁî®Ê†ºÂºèÂåñË∞ÉËØïËæìÂá∫„ÄÇ
- `Display`Ôºö‰∏∫ `Error` ÂÆûÁé∞‰∫Ü `Display` ÁâπÂæÅÔºåÊèê‰æõ‰∫ÜÈîôËØØ‰ø°ÊÅØÁöÑÂ≠óÁ¨¶‰∏≤Ë°®Á§∫ÂΩ¢Âºè„ÄÇ
- `Error`Ôºö‰∏∫ `Error` ÂÆûÁé∞‰∫Ü `Error` ÁâπÂæÅÔºåËøôÊòØ Rust Ê†áÂáÜÂ∫ì‰∏≠ÁöÑÈîôËØØÂ§ÑÁêÜ traitÔºåÊèê‰æõ‰∫ÜÂØπÈîôËØØÁöÑ‰ΩéÁ∫ßÊ∫êÁöÑËÆøÈóÆÔºåÂ¶ÇÊûúÂ≠òÂú®ÁöÑËØù„ÄÇ

##### Â∑≤ÂºÉÁî®ÁöÑÊñπÊ≥ï

- `description`ÔºöÊ≠§ÊñπÊ≥ïÂ∑≤Ë¢´ÂºÉÁî®ÔºåÂª∫ËÆÆ‰ΩøÁî® `Display` ÂÆûÁé∞Êàñ `to_string()` ÊñπÊ≥ï„ÄÇ
- `cause`ÔºöÊ≠§ÊñπÊ≥ïÂ∑≤Ë¢´ÂºÉÁî®ÔºåË¢´ `Error::source` Êõø‰ª£ÔºåÂêéËÄÖÊîØÊåÅÂêë‰∏ãËΩ¨Âûã„ÄÇ

##### ÂÆûÈ™åÊÄß API

- `provide`ÔºöËøôÊòØ‰∏Ä‰∏™‰ªÖÂú®Â§úÈó¥ÁâàÊú¨‰∏≠ÂèØÁî®ÁöÑÂÆûÈ™åÊÄß APIÔºåÂÆÉÂü∫‰∫éÈîôËØØÊä•ÂëäÊèê‰æõ‰∫ÜÂü∫‰∫éÁ±ªÂûãÁöÑ‰∏ä‰∏ãÊñáËÆøÈóÆ„ÄÇ

#### ‰ªéÂÖ∂‰ªñÁ±ªÂûãËΩ¨Êç¢

- `From<Infallible>`ÔºöÂÆûÁé∞‰∫Ü‰ªé `Infallible`Ôºà‰∏ÄÁßçÊ∞∏Ëøú‰∏ç‰ºöÂèëÁîüÈîôËØØÁöÑÁ±ªÂûãÔºâËΩ¨Êç¢‰∏∫ `Error`„ÄÇ

#### Ëá™Âä®ÁâπÂæÅÂÆûÁé∞ (Auto Trait Implementations)

- `Freeze`ÔºöÂÆûÁé∞‰∫Ü `Freeze`ÔºåË°®Êòé `Error` ÂèØ‰ª•Ë¢´ÂÜªÁªìÔºåÂç≥ÂÆÉÁöÑÂÜÖÈÉ®Êï∞ÊçÆ‰∏çÂèØÂèò„ÄÇ
- `Send`ÔºöÂÆûÁé∞‰∫Ü `Send`ÔºåË°®Êòé `Error` ÂèØ‰ª•ÂÆâÂÖ®Âú∞Âú®Â§öÁ∫øÁ®ãÈó¥‰º†ÈÄí„ÄÇ
- `Sync`ÔºöÂÆûÁé∞‰∫Ü `Sync`ÔºåË°®ÊòéÂ§ö‰∏™Á∫øÁ®ãÂèØ‰ª•ÂêåÊó∂ËÆøÈóÆ `Error`„ÄÇ
- `Unpin`ÔºöÂÆûÁé∞‰∫Ü `Unpin`ÔºåË°®Êòé `Error` ‰∏çÊòØÂõ∫ÂÆöÔºàpinnedÔºâÁä∂ÊÄÅÔºåÂèØ‰ª•Ëá™Áî±ÁßªÂä®„ÄÇ
- `!UnwindSafe`ÔºöÂÆûÁé∞‰∫Ü `!UnwindSafe`ÔºåË°®Êòé `Error` Âú® Rust ÁöÑÊ†àÂ±ïÂºÄÔºàunwindingÔºâËøáÁ®ã‰∏≠ÂèØËÉΩ‰∏çÂÆâÂÖ®„ÄÇ

#### ÈÄöÁî®ÁâπÂæÅÂÆûÁé∞ (Blanket Implementations)

- `Any`Ôºö‰∏∫ÊâÄÊúâ `'static + ?Sized` Á±ªÂûãÂÆûÁé∞‰∫Ü `Any` ÁâπÂæÅÔºåÂÖÅËÆ∏‰ΩøÁî® `as_any` Âíå `downcast_ref` ÊñπÊ≥ï„ÄÇ
- `Borrow<T>` Âíå `BorrowMut<T>`Ôºö‰∏∫ÊâÄÊúâ `?Sized` Á±ªÂûãÂÆûÁé∞‰∫ÜÂÄüÁî®ÁâπÂæÅÔºåÂÖÅËÆ∏ÂÄüÁî®ÂíåÂÄüÁî®Á™ÅÂèò„ÄÇ
- `From<T>`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫Ü `From` ÁâπÂæÅÔºåÂÖÅËÆ∏ËøõË°åÁ±ªÂûãËΩ¨Êç¢„ÄÇ
- `Instrument`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫Ü `Instrument` ÁâπÂæÅÔºåÁî®‰∫éÁõëÊéßÂíåË∑üË∏™„ÄÇ
- `Same`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫Ü `Same` ÁâπÂæÅÔºåÁî®‰∫éÊØîËæÉ‰∏§‰∏™Á±ªÂûãÊòØÂê¶Áõ∏Âêå„ÄÇ
- `ToString`Ôºö‰∏∫ÊâÄÊúâÂÆûÁé∞‰∫Ü `Display` ÁöÑÁ±ªÂûãÂÆûÁé∞‰∫Ü `ToString` ÁâπÂæÅÔºåÂÖÅËÆ∏ËΩ¨Êç¢‰∏∫Â≠óÁ¨¶‰∏≤„ÄÇ
- `TryFrom<U>` Âíå `TryInto<U>`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫ÜÂ∞ùËØï‰ªé `U` ËΩ¨Êç¢ÂíåÂ∞ùËØïËΩ¨Êç¢‰∏∫ `U` ÁöÑÁâπÂæÅ„ÄÇ
- `VZip<V>`Ôºö‰∏∫ÊâÄÊúâ `V: MultiLane<T>` ÁöÑ `T` ÂÆûÁé∞‰∫Ü `VZip` ÁâπÂæÅÔºåÂÖÅËÆ∏Â§öËΩ¶ÈÅìÁöÑÂéãÁº©„ÄÇ
- `WithSubscriber`Ôºö‰∏∫ÊâÄÊúâÁ±ªÂûãÂÆûÁé∞‰∫Ü `WithSubscriber` ÁâπÂæÅÔºåÂÖÅËÆ∏‰∏éÁõëÊéßËÆ¢ÈòÖËÄÖ‰∏ÄËµ∑‰ΩøÁî®„ÄÇ

`warp::Error` ÁªìÊûÑ‰ΩìÊòØ Warp Ê°ÜÊû∂‰∏≠ÈîôËØØÂ§ÑÁêÜÁöÑÊ†∏ÂøÉÔºåÂÆÉÈÄöËøáÂ§öÁßçÁâπÂæÅÂÆûÁé∞‰∫ÜÁÅµÊ¥ªÁöÑÈîôËØØÂ§ÑÁêÜÂíå‰∏ä‰∏ãÊñáÊèê‰æõ„ÄÇ

### ÂáΩÊï∞`warp::service`

```rust
pub fn service<F>(filter: F) -> FilteredService<F>
where
    F: Filter,
    <F::Future as TryFuture>::Ok: Reply,
    <F::Future as TryFuture>::Error: IsReject,
```

Â∞Ü‰∏Ä‰∏™ `Filter` ËΩ¨Êç¢Êàê `Service`„ÄÇ

Âú® Warp ‰∏≠ÔºåAPI ÈÄöÂ∏∏ÊòØÂü∫‰∫é `Filter` ÊûÑÂª∫ÁöÑ„ÄÇÁÑ∂ËÄåÔºåÂ∞Ü `Filter` ËΩ¨Êç¢Êàê `Service` ÂèØËÉΩ‰ºöÂæàÊúâÁî®ÔºåÊØîÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥Ë¶ÅËøõ‰∏ÄÊ≠•Ëá™ÂÆö‰πâ `hyper::Service`ÔºåÊàñËÄÖÊÉ≥Ë¶ÅÂà©Áî® Tower Êèê‰æõÁöÑÊõ¥ÂπøÊ≥õÁöÑ‰∏≠Èó¥‰ª∂ÈõÜÂêà„ÄÇ

#### Á§∫‰æã

Âú®Â∏∏ËßÑÁöÑ `hyper::Server` ‰∏äËøêË°å `warp::Filter`Ôºö

```rust
use std::convert::Infallible;
use warp::Filter;

// ÂÆö‰πâ‰∏Ä‰∏™ Filter...
let route = warp::any().map(|| "Hello From Warp!");

// Â∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ `Service`...
let svc = warp::service(route);

// ÂÖ∏ÂûãÁöÑ hyper ÊúçÂä°Âô®ËÆæÁΩÆ...
let make_svc = hyper::service::make_service_fn(move |_| async move {
    Ok::<_, Infallible>(svc)
});

// ÂêØÂä®ÊúçÂä°Âô®...
let server = hyper::Server::bind(&([127, 0, 0, 1], 3030).into())
    .serve(make_svc);

// ÂºÇÊ≠•ËøêË°åÊúçÂä°Âô®...
server.await?;
```

Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨È¶ñÂÖàÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ Warp `Filter`ÔºåÂÆÉÂØπ‰ªª‰ΩïËØ∑Ê±ÇÈÉΩÊò†Â∞ÑÊàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ "Hello From Warp!"„ÄÇÁÑ∂ÂêéÔºåÊàë‰ª¨‰ΩøÁî® `warp::service` ÂáΩÊï∞Â∞ÜËøô‰∏™ `Filter` ËΩ¨Êç¢Êàê‰∏Ä‰∏™ `Service`„ÄÇÊé•ÁùÄÔºåÊàë‰ª¨‰ΩøÁî® `hyper::service::make_service_fn` ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ `make_svc`ÔºåÂÆÉ‰∏∫ÊØè‰∏™‰º†ÂÖ•ÁöÑËØ∑Ê±ÇÁîüÊàêÊàë‰ª¨ÁöÑ Warp `Service`„ÄÇÊúÄÂêéÔºåÊàë‰ª¨ÁªëÂÆöÂà∞Êú¨Âú∞ÁöÑ 3030 Á´ØÂè£Âπ∂ÂêØÂä® `hyper::Server`ÔºåÂÆÉÂ∞Ü‰ΩøÁî®Êàë‰ª¨ÁöÑ Warp `Service` Êù•Â§ÑÁêÜËØ∑Ê±Ç„ÄÇ

ÈÄöËøáËøôÁßçÊñπÂºèÔºåWarp `Filter` ÂèØ‰ª•ËΩªÊùæÂú∞ÈõÜÊàêÂà∞Âü∫‰∫é Hyper ÁöÑÂºÇÊ≠•ÊúçÂä°Âô®‰∏≠ÔºåÂêåÊó∂ËøòËÉΩÂà©Áî® Hyper ÁöÑÁâπÊÄßÂíåÁîüÊÄÅ„ÄÇËøô‰∏∫ÊûÑÂª∫ÂíåÊâ©Â±ï Rust ‰∏≠ÁöÑÂºÇÊ≠• Web ÊúçÂä°Êèê‰æõ‰∫ÜÊûÅÂ§ßÁöÑÁÅµÊ¥ªÊÄß„ÄÇ

#### Á§∫‰æã

Ê¨¢Ëøé‰ΩøÁî®Á§∫‰æãÔºÅËøô‰∫õÁ§∫‰æãÂ±ïÁ§∫‰∫Ü `warp` ÁöÑÂäüËÉΩÔºåÂπ∂Ëß£Èáä‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî®ÂÆÉ„ÄÇ

ÂºÄÂßãÂÖ•Èó®

Ë¶ÅÂºÄÂßãÔºåËØ∑ËøêË°å `examples/hello.rs`Ôºö

```bash
cargo run --example hello
```

ËøôÂ∞ÜÂú®ÊÇ®ÁöÑÊú¨Âú∞‰∏ªÊú∫Á´ØÂè£ 3030 ‰∏äÂêØÂä®‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‚ÄúHello World‚ÄùÊúçÂä°„ÄÇ

ÊâìÂºÄÂè¶‰∏Ä‰∏™ÁªàÁ´ØÂπ∂ËøêË°åÔºö

```bash
curl http://localhost:3030/hi
```

Hello, World!

ÊÅ≠Âñú‰Ω†Ôºå‰Ω†ÂàöÂàöËøêË°å‰∫Ü‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Warp ÊúçÂä°ÔºÅ

‰Ω†ÂèØ‰ª•‰ΩøÁî® `cargo run --example [example name]` ËøêË°åÂÖ∂‰ªñÁ§∫‰æãÔºö

- `hello.rs`[1] - Âè™ÊòØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑ‚ÄúHello World‚ÄùAPI
- `routing.rs`[2] - ÊûÑÂª∫Êõ¥Â§çÊùÇÁöÑË∑ØÁî±ÈõÜÂêàÔºåÂπ∂Â±ïÁ§∫Â¶Ç‰ΩïÁªÑÂêàËøáÊª§Âô®
- `body.rs`[3] - Ê≤°ÊúâËß£ÊûêËØ∑Ê±Ç‰ΩìÊï∞ÊçÆÁöÑ API ÁÆó‰ªÄ‰πàÂ•Ω APIÔºü
- `headers.rs`[4] - ‰ªéËØ∑Ê±ÇÂ§¥‰∏≠Ëß£ÊûêÊï∞ÊçÆ
- `rejections.rs`[5] - ‰Ω†ÁöÑ API ÊòæÁÑ∂ÂæàÂÆåÁæéÔºå‰ΩÜÂØπ‰∫é‰ª•ÈîôËØØÊñπÂºèË∞ÉÁî®ÂÆÉ‰ª¨ÁöÑ‰∫∫Êù•ËØ¥Ôºå‰Ω†‰ºöÊÉ≥‰∏∫‰ªñ‰ª¨ÂÆö‰πâÈîôËØØ
- `futures.rs`[6] - Á≠âÁ≠âÔºÅ...ÊàñËÄÖËØ¥Â¶Ç‰ΩïÂ∞Ü futures ÈõÜÊàêÂà∞ËøáÊª§Âô®‰∏≠
- `todos.rs`[7] - Â∞ÜËøô‰∫õÊï¥ÂêàÂú®‰∏ÄËµ∑ÊûÑÂª∫‰∏Ä‰∏™ÂêàÈÄÇÁöÑÂ∫îÁî®

#### Êõ¥Â§öÁî®‰æã

##### ÊúçÂä° HTML ÂíåÂÖ∂‰ªñÊñá‰ª∂

- `file.rs`[8] - ÊúçÂä°ÈùôÊÄÅÊñá‰ª∂
- `dir.rs`[9] - ÊàñÊï¥‰∏™ÁõÆÂΩïÁöÑÊñá‰ª∂
- `handlebars_template.rs`[10] - ‰ΩøÁî® Handlebars Â°´ÂÖÖ HTML Ê®°Êùø

##### WebSockets

‰∏áÂ≤ÅÔºÅ`warp` ‰πüÂÜÖÁΩÆ‰∫ÜÂØπ WebSockets ÁöÑÊîØÊåÅ

- `websockets.rs`[11] - WebSocket ÂçáÁ∫ßÁöÑÂü∫Êú¨Â§ÑÁêÜ
- `websockets_chat.rs`[12] - ÂÆåÊï¥ÁöÑ WebSocket Â∫îÁî®

##### ÊúçÂä°Âô®Á´Ø‰∫ã‰ª∂ (Server-Side Events)

- `sse.rs`[13] - Âü∫Êú¨ÁöÑÊúçÂä°Âô®Á´Ø‰∫ã‰ª∂
- `sse_chat.rs`[14] - ÂÆåÊï¥ÁöÑ SSE Â∫îÁî®

##### TLS

- `tls.rs`[15] - ÊàëÂèØ‰ª•Êã•ÊúâÂÆâÂÖ®ÊÄßÂêóÔºü

##### Ëá™Âä®ÈáçËΩΩ

- `autoreload.rs`[16] - Êõ¥Êîπ‰∏Ä‰∫õ‰ª£Á†ÅÂπ∂ËßÇÂØüÊúçÂä°Âô®Ëá™Âä®ÈáçËΩΩÔºÅ

##### Ë∞ÉËØï

- `tracing.rs`[17] - Warp ÂÜÖÁΩÆ‰∫Ü‰∏∞ÂØåÁöÑËØäÊñ≠ÊîØÊåÅÔºå‰ΩøÁî® `tracing`[18]ÔºÅ

##### Ëá™ÂÆö‰πâ HTTP ÊñπÊ≥ï

- `custom_methods.rs`[19] - ‰πüÂèØ‰ª•‰ΩøÁî® Warp ‰∏éËá™ÂÆö‰πâ HTTP ÊñπÊ≥ï„ÄÇ

### ÈÉ®ÁΩ≤‰∏éÊÄßËÉΩ

`Warp` ‰Ωú‰∏∫‰∏Ä‰∏™ÂÆåÊï¥ÁöÑ `HTTP` ÊúçÂä°Âô®Ôºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂä®ÊÄÅÊúçÂä°Âô®ÊîØÊåÅÔºåÂèØ‰ª•ÂæàÂÆπÊòìÂú∞ÈÉ®ÁΩ≤Âú®ÂêÑÁßçÁéØÂ¢É‰∏≠„ÄÇÁî±‰∫éÂÖ∂È´òÊïàÁöÑÂ§ÑÁêÜËÉΩÂäõÔºå`Warp` Â∞§ÂÖ∂ÈÄÇÂêàÈúÄË¶ÅÈ´òÊÄßËÉΩÁöÑ `Web` Â∫îÁî®Âú∫ÊôØ„ÄÇ

### ÁªìËØ≠

`Warp` Ê°ÜÊû∂‰ª•ÂÖ∂È´òÊïà„ÄÅÂÆâÂÖ®ÂíåÊòìÁî®ÊÄßÔºåÂú® `Rust` ÁöÑ `Web` ÂºÄÂèëÈ¢ÜÂüü‰∏≠Âç†ÊçÆ‰∫Ü‰∏ÄÂ∏≠‰πãÂú∞„ÄÇÂØπ‰∫éËøΩÊ±ÇÈ´òÊÄßËÉΩ Web ÊúçÂä°ÁöÑÂºÄÂèëËÄÖÊù•ËØ¥Ôºå`Warp` Êó†ÁñëÊòØ‰∏Ä‰∏™ÂÄºÂæóËÄÉËôëÁöÑÈÄâÊã©„ÄÇÈöèÁùÄ `Rust` ËØ≠Ë®ÄÂíåÁîüÊÄÅÁ≥ªÁªüÁöÑ‰∏çÊñ≠ÂèëÂ±ïÔºå`Warp` Ê°ÜÊû∂‰πüÂ∞ÜÊåÅÁª≠ÊºîËøõÔºå‰∏∫ÂºÄÂèëËÄÖÊèê‰æõÊõ¥Âä†Âº∫Â§ßÁöÑÂ∑•ÂÖ∑ÂíåÊõ¥‰ºòÁöÑ‰ΩìÈ™å„ÄÇ

---

**„ÄåÂèÇËÄÉÊñáÁåÆ„Äç**Ôºö

warp - Rust - Docs.rsÔºöhttps://docs.rs/warp/latest/warp/

### Reference

[1] `hello.rs`:./hello.rs

[2] `routing.rs`:./routing.rs

[3] `body.rs`:./body.rs

[4] `headers.rs`:./headers.rs

[5] `rejections.rs`:./rejections.rs

[6] `futures.rs`:./futures.rs

[7] `todos.rs`:./todos.rs

[8] `file.rs`:./file.rs

[9] `dir.rs`:./dir.rs

[10] `handlebars_template.rs`:./handlebars_template.rs

[11] `websockets.rs`:./websockets.rs

[12] `websockets_chat.rs`:./websockets_chat.rs

[13] `sse.rs`:./sse.rs

[14] `sse_chat.rs`:./sse_chat.rs

[15] `tls.rs`:./tls.rs

[16] `autoreload.rs`:./autoreload.rs

[17] `tracing.rs`:./tracing.rs

[18] `tracing`:https://docs.rs/tracing

[19] `custom_methods.rs`:./custom_methods.rs

[20] warp - Rust - Docs.rs:https://docs.rs/warp/latest/warp/

## TrilliumÔºöRust Web Ê°ÜÊû∂ÂÆûÊàòÊåáÂçó

ÊïôÁ®ãÔºåÂºÇÊ≠•„ÄÅÊ®°ÂùóÂåñ„ÄÅÂèØÊâ©Â±ï

### `Trillium` Rust Web Ê°ÜÊû∂ÂÆûÊàòÊåáÂçó

#### ÁÆÄ‰ªã

> `Trillium` ÊòØ‰∏Ä‰∏™Áé∞‰ª£ÂåñÁöÑ Rust Web Ê°ÜÊû∂Ôºå‰ª•ÂÖ∂ÂºÇÊ≠•„ÄÅÊ®°ÂùóÂåñÂíåÂèØÊâ©Â±ïÊÄßËëóÁß∞„ÄÇÂÆÉ‰∏ç‰ªÖÊîØÊåÅÂø´ÈÄüÂºÄÂèëÁÆÄÂçïÁöÑ Web Â∫îÁî®ÔºåËøòËÉΩÊûÑÂª∫Â§çÊùÇÁöÑÂÖ®Ê†àÊúçÂä°„ÄÇ

#### ÂÆâË£Ö‰∏éÈÖçÁΩÆ

ÂºÄÂßã‰πãÂâçÔºåÁ°Æ‰øù‰Ω†Â∑≤ÁªèÂÆâË£Ö‰∫Ü `Rust` ÁºñËØëÂô®Âíå `Cargo`„ÄÇÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ Rust È°πÁõÆÔºåÂπ∂ÈÄöËøá `Cargo.toml` Êñá‰ª∂ÂºïÂÖ• TrilliumÔºö

```bash
[dependencies]
trillium = "0.2"
```

#### Âø´ÈÄüÂÖ•Èó®

`Trillium` ÁöÑÂÖ•Èó®ÈùûÂ∏∏ÁÆÄÂçï„ÄÇ‰ª•‰∏ãÊòØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑÊúçÂä°Âô®Á§∫‰æãÔºåÂÆÉ‰ΩøÁî® `trillium_smol` ËøêË°åÊó∂Êù•ÂêØÂä®‰∏Ä‰∏™ÁÆÄÂçïÁöÑ HTTP ÊúçÂä°Âô®Ôºö

```rust
fn main() {
    trillium_smol::run(|conn: trillium::Conn| async move {
        conn.ok("hello from trillium!")
    });
}
```

#### Ê†∏ÂøÉÊ¶ÇÂøµ

Trillium ÁöÑÊ†∏ÂøÉÊòØ `Conn` Á±ªÂûãÔºåÂÆÉ‰ª£Ë°®‰∫Ü‰∏Ä‰∏™ HTTP ËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑËøûÊé•„ÄÇËÄå `Handler` trait ÂÖÅËÆ∏‰Ω†ÂÆö‰πâÂ¶Ç‰ΩïÂ§ÑÁêÜËøô‰∫õËøûÊé•„ÄÇ

```rust
use trillium::{Conn, Handler};

struct MyHandler;

impl Handler for MyHandler {
    fn handle(&self, conn: Conn) -> Conn {
        // Âú®ËøôÈáåÂ§ÑÁêÜËØ∑Ê±ÇÂπ∂ËøîÂõûÂìçÂ∫î
        conn.ok("Hello from MyHandler!")
    }
}
```

#### ËøõÈò∂ÁâπÊÄß

Trillium Êèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÁâπÊÄßÔºåÂ¶Ç Router„ÄÅWebSockets ÂíåÈùôÊÄÅÊñá‰ª∂ÊúçÂä°ÔºåËøô‰∫õÈÉΩÂèØ‰ª•ÈÄöËøáÊ∑ªÂä†Áõ∏Â∫îÁöÑ‰æùËµñÂπ∂ÂÆûÁé∞Áõ∏Â∫îÁöÑÂäüËÉΩÊù•ÂêØÁî®„ÄÇ

#### ÂºÇÊ≠•ÊîØÊåÅ

Trillium ÂÆåÂÖ®ÊîØÊåÅÂºÇÊ≠• RustÔºåËøôÊÑèÂë≥ÁùÄ‰Ω†ÂèØ‰ª•ËΩªÊùæÂú∞ÁºñÂÜôÈùûÈòªÂ°û‰ª£Á†ÅÔºåÂ§ßÂπÖÊèêÂçáÂ∫îÁî®Á®ãÂ∫èÁöÑÊÄßËÉΩ„ÄÇ

```rust
use trillium::{async_trait, Conn, Handler};

#[async_trait]
impl Handler for MyAsyncHandler {
    async fn handle(&self, conn: Conn) -> Conn {
        // ÂºÇÊ≠•Â§ÑÁêÜÈÄªËæë
        conn.ok("Hello from an async handler!")
    }
}
```

Â•ΩÁöÑÔºåËÆ©Êàë‰ª¨ÈíàÂØπÂÆâÂÖ®ÊÄß„ÄÅÊÄßËÉΩÊµãËØïÂíåÈÉ®ÁΩ≤Á≠âÂÖ≥ÈîÆÁéØËäÇÔºåËøõ‰∏ÄÊ≠•Ë°•ÂÖÖÁªÜËäÇ„ÄÇ

### ÂÆâÂÖ®ÊÄß

Trillium Êèê‰æõ‰∫ÜÂ§öÁßçÊú∫Âà∂Êù•Á°Æ‰øùÂ∫îÁî®ÁöÑÂÆâÂÖ®ÊÄßÔºö

1. **HTTPS ÊîØÊåÅ**ÔºöÈÄöËøá `trillium-rustls` ÈõÜÊàêÔºåÂèØ‰ª•ËΩªÊùæÂú∞‰∏∫Â∫îÁî®Ê∑ªÂä† TLS ÊîØÊåÅ„ÄÇ

   ```rust
   use trillium::Conn;
   use trillium_rustls::TlsHandler;

   let handler = TlsHandler::new(/* ÈÖçÁΩÆËØÅ‰π¶ÂíåÂØÜÈí• */)
       .and_then(/* ÂÖ∂‰ªñ handler Èìæ */);
   ```

2. **ÂÆâÂÖ®Â§¥**ÔºöTrillium ÂÖÅËÆ∏‰Ω†ËÆæÁΩÆ HTTP ÂÆâÂÖ®Â§¥ÔºåÂ¶Ç `Content-Security-Policy`Ôºå‰ª•Èò≤Ê≠¢Ë∑®Á´ôËÑöÊú¨ÊîªÂáªÔºàXSSÔºâÂíåÊï∞ÊçÆÊ≥ÑÈú≤„ÄÇ

   ```rust
   use trillium::conn::Handler;
   use trillium::headers::{HeaderName, HeaderValue};
   
   let secure_headers = |conn: Conn| {
       let mut response = conn.response_builder();
       response.header(HeaderName::from_static("Content-Security-Policy"), HeaderValue::from_static("default-src 'self'"));
       response.into_inner()
   };
   ```

### ÊÄßËÉΩÊµãËØï

ÊÄßËÉΩÊµãËØïÊòØÁ°Æ‰øùÂ∫îÁî®ËÉΩÂ§üÊâøÂèóÈ´òË¥üËΩΩÁöÑÂÖ≥ÈîÆÊ≠•È™§Ôºö

1. **Âü∫ÂáÜÊµãËØï**ÔºöRust Êèê‰æõ‰∫ÜÂÜÖÁΩÆÁöÑÂü∫ÂáÜÊµãËØïÊ°ÜÊû∂ÔºåÂèØ‰ª•Áî®Êù•ÊµãËØï Handler ÁöÑÊÄßËÉΩ„ÄÇ

   ```rust
   #[cfg(test)]
   mod tests {
       use super::*;

       #[bench]
       fn bench_handler(b: &mut test::Bencher) {
           let handler = MyHandler;
           b.iter(|| async {
               // Ê®°ÊãüËØ∑Ê±ÇÂπ∂Â§ÑÁêÜ
               let _ = handler.handle(/* Ê®°Êãü Conn */).await;
           });
       }
   }
   ```

2. **ÂéãÂäõÊµãËØï**Ôºö‰ΩøÁî®ÂÉè `wrk` Êàñ `hyperfine` ËøôÊ†∑ÁöÑÂ∑•ÂÖ∑ÂØπÂ∫îÁî®ËøõË°åÂéãÂäõÊµãËØïÔºåÊ®°ÊãüÂ§öÁî®Êà∑ÂêåÊó∂ËÆøÈóÆÁöÑÂú∫ÊôØ„ÄÇ

### ÈÉ®ÁΩ≤

Trillium Â∫îÁî®ÂèØ‰ª•ÈÉ®ÁΩ≤Âà∞Â§öÁßçÁéØÂ¢É‰∏≠Ôºö

1. **Êú¨Âú∞ÈÉ®ÁΩ≤**ÔºöÂØπ‰∫éÂºÄÂèëÂíåÊµãËØïÔºåÂèØ‰ª•Áõ¥Êé•Âú®Êú¨Âú∞ËøêË°å Trillium Â∫îÁî®„ÄÇ

   ```bash
   cargo run
   ```

2. **Áîü‰∫ßÈÉ®ÁΩ≤**ÔºöÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®ÂÆπÂô®ÂåñÊäÄÊúØÂ¶Ç DockerÔºåÊàñËÄÖÈÄöËøá‰∏ì‰∏öÁöÑ Rust Â∫îÁî®ÈÉ®ÁΩ≤ÊúçÂä°„ÄÇ

   ```bash
   FROM rust:latest AS build
   WORKDIR /usr/src/myapp
   COPY . .
   RUN cargo install --path .

   FROM rust:latest AS run
   WORKDIR /usr/src/myapp
   COPY --from=build /usr/local/cargo/bin/myapp /usr/local/bin/myapp
   CMD ["myapp"]
   ```

3. **‰∫ëÊúçÂä°**ÔºöÂèØ‰ª•Âà©Áî®‰∫ëÊúçÂä°ÂïÜÂ¶Ç AWS„ÄÅAzure Êàñ Google Cloud Platform Êèê‰æõÁöÑÂÆπÂô®ÊúçÂä°Êù•ÈÉ®ÁΩ≤ Trillium Â∫îÁî®„ÄÇ

### Ê†∏ÂøÉÊ¶ÇÂøµÔºöÂ§ÑÁêÜÂô®„ÄÅËøûÊé•ÂíåÈÄÇÈÖçÂô®

ÊûÑÂª∫ `Trillium` Â∫îÁî®Á®ãÂ∫èÊó∂ÊúÄÈáçË¶ÅÁöÑÊ¶ÇÂøµÊòØ `Conn` Á±ªÂûãÂíå `Handler` ÁâπÊÄß„ÄÇÊØè‰∏™ `Conn` ‰ª£Ë°®Âçï‰∏™ `HTTP` ËØ∑Ê±Ç/ÂìçÂ∫îÂØπÔºåËÄå `Handler` ÊòØÊâÄÊúâÂ∫îÁî®Á®ãÂ∫è„ÄÅ‰∏≠Èó¥‰ª∂ÂíåÁ´ØÁÇπÂÆûÁé∞ÁöÑÁâπÊÄß„ÄÇ

ËÆ©Êàë‰ª¨ÂÖà‰ªéÁÆÄÂçïÁöÑ `Trillium` Â∫îÁî®Á®ãÂ∫èÊ¶ÇËßàÂºÄÂßãÔºåÁÑ∂ÂêéÊõ¥Ê∑±ÂÖ•Âú∞Êé¢ËÆ®Ëøô‰∫õÊ¶ÇÂøµ„ÄÇ

```rust
fn main() {
    trillium_smol::run(|conn: trillium::Conn| async move {
        conn.ok("hello from trillium!")
    });
}
```

Âú®Ëøô‰∏™Á§∫‰æã‰∏≠Ôºå`trillium_smol::run` ÊòØËøêË°åÊó∂ÈÄÇÈÖçÂô®ÔºåÈó≠ÂåÖÊòØ‰∏Ä‰∏™Â§ÑÁêÜÂô®ÔºåÂÆÉÂØπÂÆÉÊé•Êî∂Âà∞ÁöÑ‰ªª‰Ωï Web ËØ∑Ê±ÇÈÉΩÂìçÂ∫î "hello from trillium!"„ÄÇËøôÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑ„ÄÅÂäüËÉΩÂÆåÂ§áÁöÑÁ§∫‰æãÔºå‰Ω†Âè™ÈúÄË¶Å‰ª•‰∏ã‰æùËµñÂç≥ÂèØËøêË°åÔºö

```rust
[dependencies]
trillium = "0.2"
trillium-smol = "0.2"
```

Â¶ÇÊûúÊàë‰ª¨ËøêË°å `cargo run` Ëøô‰∏™Á§∫‰æãÔºåÁÑ∂ÂêéÂèØ‰ª•Âú®ÊµèËßàÂô®‰∏≠ËÆøÈóÆ http://localhost:8080 ÊàñËÄÖÂØπÈÇ£‰∏™ URL ÂèëÈÄÅ curl ËØ∑Ê±ÇÔºåÂ∞±ÂèØ‰ª•ÁúãÂà∞ "hello from trillium!" ‰Ωú‰∏∫ÂìçÂ∫î‰Ωì„ÄÇËØ∑Ê≥®ÊÑèÔºåÊàë‰ª¨‰∏ç‰ºöÂú®ÁªàÁ´ØÁúãÂà∞‰ªª‰ΩïËæìÂá∫ÔºåÂõ†‰∏∫ Trillium ÈªòËÆ§ÊòØÈùôÈªòÁöÑ„ÄÇ

#### Â§ÑÁêÜÂô®

Â§ÑÁêÜÂô®ÊúÄÁÆÄÂçïÁöÑÂΩ¢ÂºèÊòØ‰ªª‰ΩïÊé•Âèó Conn Âπ∂ËøîÂõû Conn ÁöÑÂºÇÊ≠•ÂáΩÊï∞„ÄÇËøô‰∏™Á§∫‰æãËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™ 200 Ok Áä∂ÊÄÅÂπ∂ËÆæÁΩÆ‰∫ÜÂ≠óÁ¨¶‰∏≤Ê≠£Êñá„ÄÇ

```rust
use trillium::Conn;
async fn hello_world(conn: Conn) -> Conn {
    conn.ok("hello world!")
}
```

Êó†ÈúÄËøõ‰∏ÄÊ≠•‰øÆÊîπÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Â∞ÜËøô‰∏™Â§ÑÁêÜÂô®ÊîæÂÖ• Trillium ÊúçÂä°Âô®‰∏≠ÔºåÂÆÉÂ∞Ü‰∏∫Êàë‰ª¨ÂìçÂ∫î HTTP ËØ∑Ê±Ç„ÄÇËøôÈáåÊàë‰ª¨‰ΩøÁî®ÁöÑÊòØÂü∫‰∫é smol-runtime ÁöÑÊúçÂä°Âô®ÈÄÇÈÖçÂô®„ÄÇ

```rust
pub fn main() {
    trillium_smol::run(hello_world);
}
```

Êàë‰ª¨‰πüÂèØ‰ª•Â∞ÜÊ≠§ÂÆö‰πâ‰∏∫Èó≠ÂåÖÔºö

```rust
pub fn main() {
    trillium_smol::run(|conn: trillium::Conn| async move {
        conn.ok("hello world")
    });
}
```

Ëøô‰∏™Â§ÑÁêÜÂô®Â∞ÜÂìçÂ∫î‰ªª‰ΩïË∑ØÂæÑÁöÑËØ∑Ê±ÇÔºåÂπ∂‰∏îÂÆÉÂ∞ÜÂßãÁªàÂèëÈÄÅ‰∏Ä‰∏™Â∏¶Êúâ "hello world" Ê≠£ÊñáÁöÑ 200 Ok HTTP Áä∂ÊÄÅ„ÄÇ

#### Áä∂ÊÄÅÂ§ÑÁêÜÂô®

Trillium Âú®‰∏ª trillium crate ‰∏≠Âè™Êèê‰æõ‰∫Ü‰∏Ä‰∏™Â§ÑÁêÜÂô®ÔºöState Â§ÑÁêÜÂô®ÔºåÂÆÉÂ∞ÜÊÇ®Êèê‰æõÁöÑ‰ªª‰ΩïÁ±ªÂûãÁöÑÂâØÊú¨ÊîæÁΩÆÂà∞ÊØè‰∏™ÈÄöËøáÂÆÉÁöÑ conn ÁöÑÁä∂ÊÄÅÈõÜ‰∏≠„ÄÇÊúâÂÖ≥Á§∫‰æã‰ΩøÁî®ÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇËßÅ State ÁöÑ rustdocs„ÄÇ

#### ÂÖÉÁªÑÂ§ÑÁêÜÂô®

‰πãÂâçÔºåÊàë‰ª¨ËÆ®ËÆ∫‰∫ÜÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Áä∂ÊÄÅÂú®Â§ÑÁêÜÂô®‰πãÈó¥ÂèëÈÄÅÊï∞ÊçÆÔºåÂπ∂‰∏îÂ§ÑÁêÜÂô®ÊÄªÊòØÂèØ‰ª•Â∞Ü conn ÂéüÊ†∑‰º†ÈÄí„ÄÇ‰∏∫‰∫Ü‰ΩøÁî®Ê≠§ÂäüËÉΩÔºåÊàë‰ª¨ÈúÄË¶ÅÂºïÂÖ•ÂÖÉÁªÑÂ§ÑÁêÜÂô®ÁöÑÊ¶ÇÂøµ„ÄÇ

ÂÖÉÁªÑÂ§ÑÁêÜÂô®‰∏≠ÁöÑÊØè‰∏™Â§ÑÁêÜÂô®‰ªéÂ∑¶Âà∞Âè≥Ë¢´Ë∞ÉÁî®ÔºåÁõ¥Âà∞ conn Ë¢´ÂÅúÊ≠¢„ÄÇ

üîå ÁÜüÊÇâ Elixir Plug ÁöÑËØªËÄÖ‰ºöËÆ§ËØÜÂà∞Ëøô‰∏™Ê¶ÇÂøµ‰∏éÊµÅÊ∞¥Á∫øÂÆåÂÖ®Áõ∏ÂêåÔºåËÄåÊúØËØ≠ "halt" ÊòØÂèóÂà∞ Plug ÁöÑÂêØÂèëËÄåÂÄüÁî®ÁöÑ

```rust
env_logger::init();
use trillium_logger::Logger;
run((
    Logger::new(),
    |conn: Conn| async move { conn.ok("tuple!") }
));
```

ËøôÊÆµ‰ª£Á†ÅÁâáÊÆµ‰∏∫Êàë‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫èÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™ HTTP Êó•ÂøóËÆ∞ÂΩïÂô®ÔºåÂõ†Ê≠§Â¶ÇÊûúÊàë‰ª¨‰ΩøÁî® `RUST_LOG=info cargo run` ÊâßË°åÂ∫îÁî®Á®ãÂ∫èÂπ∂Âêë `http://localhost:8000` ÂèëÈÄÅËØ∑Ê±ÇÔºåÊàë‰ª¨Â∞ÜÂú®Ê†áÂáÜËæìÂá∫‰∏äÁúãÂà∞Êó•ÂøóËæìÂá∫„ÄÇ

- üßë‚Äçüéì‚ùì ‰∏∫‰ªÄ‰πà‰∏çÊòØÂêëÈáèÊàñÊï∞ÁªÑÔºü

`Rust` ÂêëÈáèÂíåÊï∞ÁªÑÊòØÁ±ªÂûãÂêåË¥®ÁöÑÔºåÂõ†Ê≠§‰∏∫‰∫ÜÂú®‰∏äËø∞Á§∫‰æã‰∏≠ÁöÑÊï∞ÁªÑÊàñÂêëÈáè‰∏≠Â≠òÂÇ® `Logger` ÂíåÈó≠ÂåÖÁ±ªÂûãÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÆÉ‰ª¨ÂàÜÈÖçÂà∞Â†Ü‰∏äÔºåÂπ∂‰∏îÂÆûÈôÖ‰∏äÂú®ÂêåË¥®ÈõÜÂêà‰∏≠Â≠òÂÇ®‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíà„ÄÇ`Trillium` ÊúÄÂàùÊòØÂõ¥Áªï "Â∫èÂàó" ÁöÑÊ¶ÇÂøµÊûÑÂª∫ÁöÑÔºåÂÆÉ‰ª¨ÊòØ `Vec<Box<dyn Handler + 'static>>`ÁöÑÂåÖË£ÖÂô®„ÄÇÂõ†‰∏∫ÂÖÉÁªÑÂØπÂÆÉ‰ª¨ÁöÑÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÊòØÈÄöÁî®ÁöÑÔºåÊâÄ‰ª•ÂÆÉ‰ª¨ÂèØ‰ª•ÂåÖÂê´‰∏çÂêåÂ§ßÂ∞èÁöÑÂºÇË¥®ÂÖÉÁ¥†ÔºåËÄåÊó†ÈúÄÂ†ÜÂàÜÈÖçÊàñÊô∫ËÉΩÊåáÈíà„ÄÇ

#### ÂÆûÁé∞Â§ÑÁêÜÂô®

`Handler` ÁöÑ `rustdocs` ÂåÖÂê´‰∫ÜÂ∫ì‰ΩúËÄÖÁöÑ `Handler` Êé•Âè£ÁöÑÂÆåÊï¥ËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇÂØπ‰∫éËÆ∏Â§öÂ∫îÁî®Á®ãÂ∫èÔºåÈô§‰∫ÜÂºÇÊ≠•ÂáΩÊï∞ÊàñÈó≠ÂåÖ‰πãÂ§ñÔºå‰ΩøÁî®‰ªª‰ΩïÂÖ∂‰ªñ‰∏úË•øÂèØËÉΩÈÉΩ‰∏çÊòØÂøÖË¶ÅÁöÑÔºå‰ΩÜÊòØ `Handler` ÂèØ‰ª•ÂåÖÂê´Ëá™Â∑±ÁöÑÁä∂ÊÄÅÔºåÂπ∂‰∏îÂèØ‰ª•‰∏∫‰ªª‰ΩïÊÇ®ÁºñÂÜôÁöÑÁ±ªÂûãÂÆûÁé∞„ÄÇ

Áî± `trillium crate` Êèê‰æõÁöÑÂêÑÁßçÂÆûÁé∞ ÊÇ®ÂèØËÉΩ‰ºöÂú®ÊµãËØïÂíåÁ§∫‰æã‰∏≠ÁúãÂà∞‰∏Ä‰∫õÂÖ∂‰ªñÁ±ªÂûã„ÄÇ

- `()`ÔºöÊó†Êìç‰ΩúÂ§ÑÁêÜÂô®Ôºå‰∏é `|conn: Conn| async move { conn }` Áõ∏Âêå„ÄÇ
- `&'static str Âíå StringÔºö`Ëøô‰∏™ÁÆÄÂçïÁöÑÂ§ÑÁêÜÂô®ÈÄöËøáÂÅúÊ≠¢„ÄÅËÆæÁΩÆ 200-ok Áä∂ÊÄÅÔºåÂπ∂Â∞ÜÂ≠óÁ¨¶‰∏≤ÂÜÖÂÆπ‰Ωú‰∏∫ÂìçÂ∫îÊ≠£ÊñáÊù•ÂìçÂ∫îÊâÄÊúâ `conn`„ÄÇ`trillium_smol::run("hello")` ‰∏é `trillium_smol::run(|conn: Conn| async move { conn.ok("hello") })` Áõ∏Âêå„ÄÇ
- `Option<impl Handler>`ÔºöÂ¶ÇÊûú Option Âèò‰ΩìÊòØ noneÔºåËøô‰∏™Â§ÑÁêÜÂô®Â∞ÜÊó†Êìç‰Ωú„ÄÇËøôÂú®Ê†πÊçÆÈÖçÁΩÆÊàñÁéØÂ¢ÉÊù°‰ª∂Âú∞Âú®ËøêË°åÊó∂ÂåÖÂê´Â§ÑÁêÜÂô®Êó∂ÈùûÂ∏∏ÊúâÁî®„ÄÇ

### Conn

Âú®Êàë‰ª¨Ëøõ‰∏ÄÊ≠•Êé¢Á¥¢Â§ÑÁêÜÂô®ÁöÑÊ¶ÇÂøµ‰πãÂâçÔºåÂÖàÊù•ÁúãÁúã Conn„ÄÇÂ¶Ç‰∏äÊâÄËø∞ÔºåConn ‰ª£Ë°®ËØ∑Ê±ÇÂíåÂìçÂ∫îÔºå‰ª•ÂèäÂ∫îÁî®Á®ãÂ∫è‰∏éËØ•ËØ∑Ê±Ç-ÂìçÂ∫îÂë®ÊúüÁõ∏ÂÖ≥ËÅîÁöÑ‰ªª‰ΩïÊï∞ÊçÆ„ÄÇ

#### È´òÁ∫ßËØ¥Êòé

ËôΩÁÑ∂ Conn ÁöÑÂëΩÂêçÁõ¥Êé•ÂÄüÈâ¥Ëá™ `Elixir` ÁöÑ `Plug`ÔºåÂõ†Ê≠§‰πüÁî®‰∫é `Phoenix`Ôºå‰ΩÜÂÆÉÂÆûÈôÖ‰∏äÔºàÂú® Rust ÁöÑÊÑè‰πâ‰∏äÔºâ‰πüÊã•ÊúâË°®Á§∫‰∏é HTTP ÂÆ¢Êà∑Á´ØËøûÊé•ÁöÑÂçï‰∏Ä `TcpStream`Ôºå‰∏¢ÂºÉ `Conn` ‰πüÂ∞ÜÂØºËá¥ÂÆ¢Êà∑Á´ØÊñ≠ÂºÄËøûÊé•„ÄÇ

`Conn` ÁöÑ `rustdocs` ÂåÖÂê´‰∫Ü‰Ω†ÂèØ‰ª•Áî® conn ÂÅöÁöÑÊâÄÊúâ‰∫ãÊÉÖÁöÑÂÆåÊï¥ËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ

#### ËøîÂõû Conn

ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂõ†‰∏∫‰Ω†Â∞Ü‰ªéÂ§ÑÁêÜÂô®ËøîÂõû ConnÔºåÂÆÉÊîØÊåÅ‰∏Ä‰∏™ÂèØÈìæÂºèÔºàÊµÅÁïÖÁöÑÔºâÊé•Âè£Êù•ËÆæÁΩÆÂ±ûÊÄßÔºå‰æãÂ¶ÇÔºö

```rust
conn.with_status(202)
    .with_response_header("content-type", "application/something-custom")
    .with_body("this is my custom body")
```

#### ËÆøÈóÆ `HTTP` ËØ∑Ê±ÇÂ±ûÊÄß

Conn ËøòÂåÖÂê´Âè™ËØªÂ±ûÊÄßÔºåÂ¶ÇËØ∑Ê±ÇÂ§¥„ÄÅËØ∑Ê±ÇË∑ØÂæÑÂíåËØ∑Ê±ÇÊñπÊ≥ïÔºåÊØè‰∏™Â±ûÊÄßÈÉΩÊúâ‰∏é‰πãÂÖ≥ËÅîÁöÑËé∑ÂèñÂô®ÂáΩÊï∞„ÄÇ

#### ÈªòËÆ§ÂìçÂ∫î

Conn ÁöÑÈªòËÆ§ÂìçÂ∫îÊòØ 404ÔºåÊ≤°ÊúâÂìçÂ∫î‰ΩìÔºåÂõ†Ê≠§‰ªéÂ§ÑÁêÜÂô®ËøîÂõûÊú™Áªè‰øÆÊîπÁöÑ Conn ÊÄªÊòØÊúâÊïàÁöÑÔºà`|conn: Conn| async move { conn }` ÊòØÊúÄÁÆÄÂçïÁöÑÊúâÊïàÂ§ÑÁêÜÂô®Ôºâ„ÄÇ

#### Áä∂ÊÄÅ

Èô§‰∫ÜÊåÅÊúâËØ∑Ê±ÇÂ±ûÊÄßÂíåÁ¥ØÁßØÂ∫îÁî®Á®ãÂ∫èÂ∞ÜË¶ÅÂèëÈÄÅÁöÑÂìçÂ∫î‰πãÂ§ñÔºåConn Ëøò‰Ωú‰∏∫Êï∞ÊçÆÁªìÊûÑÔºåÁî®‰∫éÂ≠òÂÇ®Â∫îÁî®Á®ãÂ∫èÈúÄË¶Å‰∏éËØ•ËØ∑Ê±ÇÂÖ≥ËÅîÁöÑ‰ªª‰Ωï‰ø°ÊÅØ„ÄÇËøôÂØπ‰∫éÂ§ÑÁêÜÂô®‰πãÈó¥ÁöÑÈÄö‰ø°ÁâπÂà´Êúâ‰ª∑ÂÄºÔºåÂ§ßÂ§öÊï∞Ê†∏ÂøÉÂ§ÑÁêÜÂô®ÈÉΩÊòØ‰ΩøÁî® conn Áä∂ÊÄÅÂÆûÁé∞ÁöÑ„ÄÇ‰∏Ä‰∏™ÈáçË¶ÅÁöÑÊ≥®ÊÑè‰∫ãÈ°πÊòØÔºåÊØè‰∏™ Conn Âè™ËÉΩÂåÖÂê´ÊØèÁßçÁ±ªÂûãÊÅ∞Â•Ω‰∏Ä‰∏™ÂÆû‰æãÔºåÂõ†Ê≠§Âº∫ÁÉàÂª∫ËÆÆ‰ªÖÂú®Áä∂ÊÄÅ‰∏≠Â≠òÂÇ®‰Ω†ÂÆö‰πâÁöÑÁ±ªÂûã„ÄÇ

#### ‰∏é `Tide` ÁöÑÊØîËæÉ

Tide Êúâ‰∏âÁßç‰∏çÂêåÁ±ªÂûãÁöÑÁä∂ÊÄÅÔºöÊúçÂä°Âô®Áä∂ÊÄÅ„ÄÅËØ∑Ê±ÇÁä∂ÊÄÅÂíåÂìçÂ∫îÁä∂ÊÄÅ„ÄÇÂú® Trillium ‰∏≠ÔºåÊúçÂä°Âô®Áä∂ÊÄÅÊòØÈÄöËøá trillium::State Â§ÑÁêÜÂô®ÂÆûÁé∞ÁöÑÔºåËØ•Â§ÑÁêÜÂô®ÊåÅÊúâ‰ªª‰ΩïÂèØ‰ª•ÂÖãÈöÜÁöÑÁ±ªÂûãÔºåÂπ∂Â∞ÜËØ•Á±ªÂûãÁöÑ‰∏Ä‰∏™ÂâØÊú¨ÊîæÂÖ•ÈÄöËøáÂ§ÑÁêÜÂô®ÁöÑÊØè‰∏™ Conn ÁöÑÁä∂ÊÄÅ‰∏≠„ÄÇ

#### Êâ©Â±ï `Conn`

Âú® trillium ‰∏≠ÔºåÂ∫ìÊâ©Â±ï Conn ‰ª•Êèê‰æõÈ¢ùÂ§ñÂäüËÉΩÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Â∏∏ËßÅÁöÑÊ®°Âºè„ÄÇConn Êé•Âè£‰∏çÊîØÊåÅ‰ºöËØù„ÄÅCookie„ÄÅË∑ØÁî±ÂèÇÊï∞ÊàñÂÖ∂‰ªñËÆ∏Â§öÂÖ∂‰ªñÊ°ÜÊû∂ÊûÑÂª∫Âà∞Ê†∏ÂøÉÁ±ªÂûã‰∏≠ÁöÑÊûÑÂª∫Âùó„ÄÇÁõ∏ÂèçÔºå‰ª•‰ºöËØù‰∏∫‰æãÔºåtrillium_sessions Êèê‰æõ‰∫Ü‰∏Ä‰∏™ SessionConnExt traitÔºå‰∏∫ Conn Êèê‰æõ‰∫ÜÊèê‰æõ‰ºöËØùÊîØÊåÅÁöÑÂÖ≥ËÅîÂáΩÊï∞„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÂ∞ÜÊï∞ÊçÆÊîæÂÖ• conn Áä∂ÊÄÅÁöÑÂ§ÑÁêÜÂô®‰πü‰ºöÊèê‰æõÊñπ‰æøÁöÑÂáΩÊï∞Êù•ËÆøÈóÆËØ•Áä∂ÊÄÅÔºåÂπ∂‰ºöÂØºÂá∫‰∏Ä‰∏™ [Something]ConnExt trait„ÄÇ

#### Á§∫‰æã

Ë¶ÅÊü•ÁúãËøô‰∫õÊ®°Âºè‰πã‰∏ÄÁöÑÁ§∫‰æãÔºåËØ∑ÂèÇËßÅ library_patternsÔºå‰∫ÜËß£Â¶Ç‰ΩïÁºñÂÜôËøô‰∫õÂ∫ì‰πã‰∏Ä„ÄÇ

### ËøêË°åÊó∂ÈÄÇÈÖçÂô®Âíå TLS

#### ËøêË°åÊó∂ÈÄÇÈÖçÂô®

ËÆ©Êàë‰ª¨Êõ¥ËØ¶ÁªÜÂú∞ËÆ®ËÆ∫Êàë‰ª¨‰∏ÄÁõ¥Âú®ÂÜôÁöÑ trillium_smol::run Ë°å„ÄÇTrillium Êú¨Ë∫´ÊòØÂª∫Á´ãÂú®Êú™Êù•ÔºàÂÖ∑‰ΩìÊù•ËØ¥ÔºåÊòØ future-liteÔºâ‰πã‰∏äÁöÑ„ÄÇ‰∏∫‰∫ÜËøêË°åÂÆÉÔºåÂÆÉÈúÄË¶Å‰∏Ä‰∏™ÈÄÇÈÖçÂô®Êù•ËøûÊé•ÂºÇÊ≠•ËøêË°åÊó∂„ÄÇÁõÆÂâçÊúâÂõõ‰∏™ËøôÊ†∑ÁöÑÈÄÇÈÖçÂô®Ôºö

- trillium_smol
- trillium_async_std
- trillium_tokio
- trillium_aws_lambda

Â∞ΩÁÆ°Êàë‰ª¨Âú®Ëøô‰∫õÊñáÊ°£‰∏≠‰∏ÄÁõ¥‰ΩøÁî® smol ÈÄÇÈÖçÂô®Ôºå‰ΩÜ‰Ω†Â∫îËØ•‰ΩøÁî®‰Ω†Êõ¥ÂñúÊ¨¢ÁöÑ‰ªª‰ΩïËøêË°åÊó∂„ÄÇÂ¶ÇÊûú‰Ω†È¢ÑËÆ°‰ºöÊúâÂØπ async-std Êàñ tokio ÁöÑ‰æùËµñÔºåÈÇ£‰πàÊúÄÂ•Ω‰ΩøÁî®ÈÇ£‰∏™ËøêË°åÊó∂ÁöÑÈÄÇÈÖçÂô®„ÄÇÂ¶ÇÊûú‰Ω†ÊòØÂºÇÊ≠• Rust ÁöÑÊñ∞ÊâãÊàñÊ≤°ÊúâÂÅèÂ•ΩÔºåÊàëÂª∫ËÆÆ‰ªé trillium_smol ÂºÄÂßã„ÄÇÂú®‰ªª‰ΩïÊó∂ÂÄôÂàáÊç¢ Trillium Âà∞‰∏çÂêåÁöÑËøêË°åÊó∂ÈÉΩÂæàÂÆπÊòì„ÄÇ

#### ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÈÅµÂæ™ 12 Âõ†Á¥†ÂéüÂàôÔºå‰ΩÜÂèØË¶ÜÁõñ

Trillium ÂäõÊ±ÇÈÅµÂæ™ÈÖçÁΩÆÁöÑ 12 Âõ†Á¥†ÊñπÊ≥ïÔºåÂ∞ΩÂèØËÉΩÂú∞‰ªéÁéØÂ¢ÉÊé•ÂèóÈÖçÁΩÆ„ÄÇÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáèËá™ÂÆö‰πâÁöÑÈÖçÁΩÆÁÇπÊï∞ÈáèÂèØËÉΩ‰ºöÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªËÄåÂ¢ûÂä†„ÄÇ

Ë¶Å‰ΩøÁî®‰∏çÂêåÁöÑ‰∏ªÊú∫ÊàñÁ´ØÂè£ËøêË°å TrilliumÔºåÂèØ‰ª•Êèê‰æõ HOST Âíå/Êàñ PORT ÁéØÂ¢ÉÂèòÈáèÔºåÊàñËÄÖÂ∞ÜÁâπÂÆöÂÄºÁºñËØëÂà∞Â∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö

```rust
pub fn main() {
    trillium_smol::config()
        .with_port(1337)
        .with_host("127.0.0.1")
        .run(|conn: trillium::Conn| async move { conn.ok("hello world") })
}
```

Èô§‰∫Ü‰ªéÁéØÂ¢ÉÊé•Âèó HOST Âíå PORT ÈÖçÁΩÆÂ§ñÔºåÂú® cfg(unix) Á≥ªÁªü‰∏äÔºåTrillium Ëøò‰ºö‰ΩøÁî® LISTEN_FD ÁéØÂ¢ÉÂèòÈáè‰∏é catflap/systemfd ‰∏ÄËµ∑‰ΩøÁî®„ÄÇÂú® cfg(unix) Á≥ªÁªü‰∏äÔºåÂ¶ÇÊûú HOST ‰ª• .„ÄÅ/ Êàñ ~ ÂºÄÂ§¥ÔºåÂÆÉË¢´Ëß£Èáä‰∏∫Ë∑ØÂæÑÂπ∂‰Ωú‰∏∫ Unix ÂüüÂ•óÊé•Â≠óÁªëÂÆö„ÄÇ

ÊúâÂÖ≥ÈªòËÆ§ÂÄºÁöÑÊõ¥Â§öÊñáÊ°£‰ª•ÂèäÂèØ‰ª•ÈìæÊé•Âà∞ config() ‰∏äÁöÑÈÖçÁΩÆÔºåËØ∑ÂèÇÈòÖ trillium_server_common::Config„ÄÇ

#### TLS / HTTPS

Èô§‰∫Ü aws lambdaÔºàÂú®Ë¥üËΩΩÂπ≥Ë°°Âô®Â§ÑÊèê‰æõËá™Â∑±ÁöÑ tls ÁªàÊ≠¢Ôºâ‰πãÂ§ñÔºå‰∏äËø∞ÊØè‰∏™ÊúçÂä°Âô®ÈÉΩÂèØ‰ª•‰∏é rustls Êàñ native-tls ÁªìÂêà‰ΩøÁî®ÔºåÊàñËÄÖ‰∏é trillium-acme ÁªìÂêà‰ΩøÁî®Ôºå‰ª•Ëá™Âä®‰ΩøÁî® Let's Encrypt Á≠â ACME ËØÅ‰π¶Êèê‰æõÂïÜÊ≥®ÂÜåËØÅ‰π¶„ÄÇ

##### Rustls:

```rust
use trillium::Conn;
use trillium_rustls::RustlsAcceptor;

const KEY: &[u8] = include_bytes!("./key.pem");
const CERT: &[u8] = include_bytes!("./cert.pem");

pub fn main() {
    env_logger::init();
    trillium_smol::config()
        .with_acceptor(RustlsAcceptor::from_single_cert(CERT, KEY))
        .run(|conn: Conn| async move { conn.ok("ok") });
}
```

##### ÂéüÁîü tls:

```rust
use trillium::Conn;
use trillium_native_tls::NativeTlsAcceptor;

pub fn main() {
    env_logger::init();
    let acceptor = NativeTlsAcceptor::from_pkcs12(include_bytes!("./identity.p12"), "changeit");
    trillium_smol::config()
        .with_acceptor(acceptor)
        .run(|conn: Conn| async move { conn.ok("ok") });
}
```

##### ÈÄöËøá Let's Encrypt Ëá™Âä® HTTPS:

Êü•Áúã trillium-acme ÊñáÊ°£‰∏≠ÁöÑÁ§∫‰æã„ÄÇ

### Ë∑ØÁî±Âô®

Trillium ÁöÑË∑ØÁî±Âô®Âü∫‰∫é routefinder„ÄÇËøô‰∏™Ë∑ØÁî±Âô®ÊîØÊåÅ‰∏§ÁßçÁ±ªÂûãÁöÑÊ®°ÂºèÔºöÊú™Á±ªÂûãÂåñÁöÑÂèÇÊï∞ÂíåÂçï‰∏™ÈÄöÈÖçÁ¨¶„ÄÇÂëΩÂêçÂèÇÊï∞Ë¢´ÊçïËé∑Âú®‰∏Ä‰∏™Á±ª‰ººÊò†Â∞ÑÁöÑÊé•Âè£‰∏≠„ÄÇ‰ªª‰ΩïÂ§ÑÁêÜÂô®ÈÉΩÂèØ‰ª•ÂÆâË£ÖÂú®Ë∑ØÁî±Âô®ÔºàÂåÖÊã¨ÂÖ∂‰ªñË∑ØÁî±Âô®ÔºâÂÜÖÈÉ®ÔºåÂÖÅËÆ∏Êï¥‰∏™Â∫îÁî®Á®ãÂ∫èË¢´ÂÆâË£ÖÂú®Ë∑ØÂæÑ‰∏äÔºåÂπ∂ÂÖÅËÆ∏ÁªôÂÆöË∑ØÁî±‰∏äËøêË°åÂÖÉÁªÑÂ§ÑÁêÜÂô®„ÄÇÂú®ÂåÖÂê´ `*` ÁöÑË∑ØÁî±ÂÜÖÂÆâË£ÖÁöÑ‰ªª‰ΩïÂ§ÑÁêÜÂô®ÈÉΩÂ∞Ü‰Ωø URL Ë¢´ÈáçÂÜô‰∏∫ËØ•ÊòüÂè∑ÁöÑÂÜÖÂÆπ„ÄÇ

Âü∫‰∫é routefinder ÁöÑÊõø‰ª£Ë∑ØÁî±Âô®ÊòØÂàõÊñ∞ÂíåÊé¢Á¥¢ÁöÑÁªù‰Ω≥Êú∫‰ºö„ÄÇ

‰ª•‰∏ãÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂ∫îÁî®Á®ãÂ∫èÁ§∫‰æãÔºåÂÆÉÂìçÂ∫îËØ∑Ê±Ç `http://localhost:8000/greet/earth` Êó∂ËøîÂõû "hello earth"ÔºåÂìçÂ∫î `http://localhost:8000/greet/mars` Êó∂ËøîÂõû "hello mars"ÔºåÂìçÂ∫î `http://localhost:8000` Êó∂ËøîÂõû "hello everyone"Ôºö

```rust
use trillium::Conn;
use trillium_router::{Router, RouterConnExt};

pub fn main() {
    trillium_smol::run(
        Router::new()
            .get("/", |conn: Conn| async move { conn.ok("hello everyone") })
            .get("/hello/:planet", |conn: Conn| async move {
                let planet = conn.param("planet").unwrap();
                let response_body = format!("hello {planet}");
                conn.ok(response_body)
            }),
    );
}
```

### ÂµåÂ•ó

Trillium ËøòÊîØÊåÅË∑ØÁî±Âô®ÁöÑÂµåÂ•óÔºå‰ΩøÂæóÂèØ‰ª•Ë°®ËææÂ§çÊùÇÁöÑÂ≠êÂ∫îÁî®Á®ãÂ∫èÔºåÁ±ª‰ºº‰∫é Rails ÂºïÊìé„ÄÇÂΩìÂ≠òÂú®ÂÖ∂‰ªñÁ±ªÂûãÁöÑË∑ØÁî±Âô®Êó∂Ôºå‰ΩøÁî®‰∏ÄÁßçÁ±ªÂûãÁöÑË∑ØÁî±Âô®ÊûÑÂª∫ÁöÑÂ∫îÁî®Á®ãÂ∫èÂ∞ÜÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™ crate ÂèëÂ∏ÉÔºåÂπ∂ÂµåÂ•óÂú®Âè¶‰∏Ä‰∏™Ë∑ØÁî±Âô®ÂÜÖÈÉ®ÔºåÂè™Ë¶ÅÂÆÉ‰ª¨‰æùËµñ‰∫é trillium crate ÁöÑÂÖºÂÆπÁâàÊú¨„ÄÇ

```rust
use trillium::{conn_try, conn_unwrap, Conn, Handler};
use trillium_logger::Logger;
use trillium_router::{Router, RouterConnExt};

struct User {
    id: usize,
}

mod nested_app {
    use super::*;
    async fn load_user(conn: Conn) -> Conn {
        let id = conn_try!(conn.param("user_id").unwrap().parse(), conn);
        let user = User { id }; // ÂÅáËÆæÊàë‰ª¨ÊòØ‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Âä†ËΩΩÁî®Êà∑
        conn.with_state(user)
    }

    async fn greeting(mut conn: Conn) -> Conn {
        let user = conn_unwrap!(conn.take_state::<User>(), conn);
        conn.ok(format!("hello user {}", user.id))
    }

    async fn post(mut conn: Conn) -> Conn {
        let user = conn_unwrap!(conn.take_state::<User>(), conn);
        let body = conn_try!(conn.request_body_string().await, conn);
        conn.ok(format!("hello user {}, {}", user.id, body))
    }

    async fn some_other_route(conn: Conn) -> Conn {
        conn.ok("this is an uninspired example")
    }

    pub fn handler() -> impl Handler {
        (
            load_user,
            Router::new()
                .get("/greeting", greeting)
                .get("/some/other/route", some_other_route)
                .post("/post", post),
        )
    }
}

pub fn main() {
    env_logger::init();
    trillium_smol::run((
        Logger::new(),
        Router::new()
            .get("/", |conn: Conn| async move { conn.ok("hello everyone") })
            .any(&["get", "post"], "/users/:user_id/*", nested_app::handler()),
    ));
}
```

### Ê®°ÊùøÂºïÊìé

Trillium ÁõÆÂâçÊîØÊåÅ‰∏âÁßçÊ®°ÊùøÂºïÊìéÔºåËôΩÁÑ∂ÂÆÉ‰ª¨Âπ∂‰∏ç‰∫íÊñ•Ôºå‰ΩÜÂ§ßÂ§öÊï∞Â∫îÁî®Á®ãÂ∫èÈÄöÂ∏∏ÊúÄÂ§öÂè™‰ºöÈÄâÊã©ÂÖ∂‰∏≠‰∏ÄÁßç„ÄÇ

#### Askama

Askama ÊòØ‰∏Ä‰∏™Âü∫‰∫é Jinja ÁöÑÊ®°ÊùøÂºïÊìéÔºåÂÆÉÂú®ÁºñËØëÊó∂È¢ÑÂ§ÑÁêÜÊ®°ÊùøÔºåÁîüÊàêÈ´òÊïà‰∏îÁ±ªÂûãÂÆâÂÖ®ÁöÑÊ®°ÊùøÔºåÂπ∂ÁºñËØëÂà∞Â∫îÁî®Á®ãÂ∫èÁöÑ‰∫åËøõÂà∂Êñá‰ª∂‰∏≠„ÄÇ‰ª•‰∏ãÊòØ Askama ÁöÑÁ§∫‰æãÔºö

Âú® `Ôºàcargo rootÔºâ/templates/examples/hello.html` Êñá‰ª∂‰∏≠ÁªôÂÆö‰ª•‰∏ãÂÜÖÂÆπÔºö

```rust
Hello, {{ name }}!
use trillium::Conn;
use trillium_askama::{AskamaConnExt, Template};

#[derive(Template)]
#[template(path = "examples/hello.html")]
struct HelloTemplate<'a> {
    name: &'a str,
}

fn main() {
    trillium_smol::run(|conn: Conn| async move {
        conn.render(HelloTemplate { name: "world" })
    });
}
```

#### Ructe

Ructe ÊòØ‰∏Ä‰∏™‰∏é Askama Á±ª‰ººÁöÑÁºñËØëÊó∂Á±ªÂûãÊ®°ÊùøÁ≥ªÁªüÔºå‰ΩÜÂÆÉ‰ΩøÁî®ÊûÑÂª∫ËÑöÊú¨ËÄå‰∏çÊòØÂÆè„ÄÇ

- **Crate**: **https://crates.io/crates/trillium-ructe**[1]
- **Repository**: **https://github.com/prabirshrestha/trillium-ructe**[2]
- **Docs**: **https://docs.rs/trillium-ructe/latest/trillium_ructe/**[3]

Ructe ÁöÑ‰ΩøÁî®Á§∫‰æãÂèØ‰ª•Âú®Êèê‰æõÁöÑ GitHub ‰ªìÂ∫ìÊàñÂÆòÊñπÊñáÊ°£‰∏≠ÊâæÂà∞„ÄÇ

#### Tera

Tera Êèê‰æõËøêË°åÊó∂Ê®°ÊùøÊ∏≤Êüì„ÄÇTrillium ÁöÑ Tera ÈõÜÊàêÊèê‰æõ‰∫Ü‰∏Ä‰∏™‰∏é Phoenix Êàñ Rails ÈùûÂ∏∏Áõ∏‰ººÁöÑÊé•Âè£ÔºåÂú®Ê∏≤Êüì‰πãÂâçÂ∞ÜËµãÂÄºËÆæÁΩÆÂú® Conn ‰∏ä„ÄÇ

Âú®‰∏é `main.rs` Áõ∏ÂêåÁõÆÂΩï‰∏ãÁöÑ `examples` Êñá‰ª∂Â§π‰∏≠ÁªôÂÆö‰ª•‰∏ãÊñá‰ª∂Ôºö

```rust
Hello, {{ name }}!
use trillium::Conn;
use trillium_tera::{TeraConnExt, TeraHandler};

fn main() {
    trillium_smol::run((TeraHandler::new("**/*.html"), |conn: Conn| async move {
        conn.assign("name", "hi").render("examples/hello.html")
    }));
}
```

#### Handlebars

Handlebars ‰πüÊèê‰æõËøêË°åÊó∂Ê®°ÊùøÊ∏≤Êüì„ÄÇ

Âú® `examples/templates/hello.hbs` Êñá‰ª∂‰∏≠ÁªôÂÆö‰ª•‰∏ãÂÜÖÂÆπÔºö

```rust
hello {{name}}!
use trillium::Conn;
use trillium_handlebars::{HandlebarsConnExt, HandlebarsHandler};

fn main() {
    env_logger::init();
    trillium_smol::run((
        HandlebarsHandler::new("./examples/templates/*.hbs"),
        |conn: Conn| async move {
            conn.assign("name", "world")
                .render("examples/templates/hello.hbs")
        },
    ));
}
```

ÈÄâÊã©Âì™ÁßçÊ®°ÊùøÂºïÊìéÂèñÂÜ≥‰∫é‰Ω†ÁöÑ‰∏™‰∫∫ÂÅèÂ•ΩÂíåÂ∫îÁî®Á®ãÂ∫èÁöÑÂÖ∑‰ΩìÈúÄÊ±Ç„ÄÇÊØèÁßçÂºïÊìéÈÉΩÊúâÂÖ∂ÁâπÁÇπÂíå‰ºòÂäøÔºå‰æãÂ¶Ç Askama Âíå Ructe Êèê‰æõÁºñËØëÊó∂Ê£ÄÊü•ÔºåËÄå Tera Âíå Handlebars Êèê‰æõ‰∫ÜÊõ¥ÁÅµÊ¥ªÁöÑËøêË°åÊó∂Ê®°ÊùøÊ∏≤Êüì„ÄÇ

### Êó•Âøó

```rust
use trillium::{Conn, State};
use trillium_logger::{apache_combined, Logger};

#[derive(Clone, Copy)]
struct User(&'static str);

impl User {
    pub fn name(&self) -> &'static str {
        self.0
    }
}

fn user_id(conn: &Conn, _color: bool) -> &'static str {
    conn.state::<User>().map(User::name).unwrap_or("-")
}

pub fn main() {
    trillium_smol::run((
        State::new(User("jacob")),
        Logger::new().with_formatter(apache_combined("-", user_id)),
        "ok",
    ));
}
```

### Cookies

```rust
use trillium::Conn;
use trillium_cookies::{CookiesConnExt, CookiesHandler};

pub fn main() {
    env_logger::init();

    trillium_smol::run((CookiesHandler::new(), |conn: Conn| async move {
        if let Some(cookie_value) = conn.cookies().get("some_cookie") {
            println!("current cookie value: {}", cookie_value.value());
        }

        conn.with_cookie(("some_cookie", "some-cookie-value"))
            .ok("ok!")
    }));
}
```

### ‰ºöËØùÔºàSessionsÔºâ

Âú® Web Ê°ÜÊû∂‰∏≠Ôºå‰ºöËØùÊòØ‰∏ÄÁßçÂ∏∏ËßÅÁ∫¶ÂÆöÔºåÂÆÉÂÖÅËÆ∏‰ª•‰∏ÄÁßçÂÆâÂÖ®ÁöÑÊñπÂºèÂÖ≥ËÅîÊúçÂä°Âô®Á´ØÊï∞ÊçÆ‰∏éÁâπÂÆöÁöÑ HTTP ÂÆ¢Êà∑Á´ØÔºàÊµèËßàÂô®Ôºâ„ÄÇTrillium ÁöÑ‰ºöËØùÂ≠òÂÇ®Âª∫Á´ãÂú® `async-session` crate ‰πã‰∏äÔºåËøôÂÖÅËÆ∏Êàë‰ª¨‰∏é Tide ÂàÜ‰∫´‰ºöËØùÂ≠òÂÇ®„ÄÇÁõÆÂâçÔºåÂ≠òÂú®‰ª•‰∏ã‰ºöËØùÂ≠òÂÇ®Ôºö

1. **MemoryStore**Ôºà‰Ωú‰∏∫ `trillium_sessions::MemoryStore` ÈáçÊñ∞ÂØºÂá∫Ôºâ
2. **CookieStore**Ôºà‰Ωú‰∏∫ `trillium_sessions::CookieStore` ÈáçÊñ∞ÂØºÂá∫Ôºâ
3. **PostgresSessionStore** Âíå **SqliteSessionStore** Êù•Ëá™ `async-sqlx-session`
4. **RedisSessionStore** Êù•Ëá™ `async-redis-session`
5. **MongodbSessionStore** Êù•Ëá™ `async-mongodb-session`

‚ö†Ô∏è **Ê≥®ÊÑè**ÔºöÁîü‰∫ßÂ∫îÁî®‰∏≠Â∫îÈÅøÂÖç‰ΩøÁî®ÂÜÖÂ≠òÂ≠òÂÇ®Âíå Cookie Â≠òÂÇ®„ÄÇÂÜÖÂ≠òÂ≠òÂÇ®Âú®ÊúçÂä°Âô®ËøõÁ®ãÈáçÂêØÊó∂Â∞Ü‰∏¢Â§±ÊâÄÊúâ‰ºöËØùÁä∂ÊÄÅÔºåËÄå Cookie Â≠òÂÇ®‰∏éÊï∞ÊçÆÂ∫ìÊîØÊåÅÁöÑÂ≠òÂÇ®Áõ∏ÊØîÔºåÊ∂âÂèä‰∏çÂêåÁöÑÂÆâÂÖ®ÊùÉË°°„ÄÇÂ¶ÇÊûúÂèØËÉΩÔºå‰ΩøÁî®Êï∞ÊçÆÂ∫ì„ÄÇ

‚ùó**‰ºöËØùÂ§ÑÁêÜÂô®ÂøÖÈ°ª‰∏é Cookie Â§ÑÁêÜÂô®‰∏ÄËµ∑‰ΩøÁî®ÔºåÂπ∂‰∏îÂøÖÈ°ªÂú® Cookie Â§ÑÁêÜÂô®‰πãÂêéËøêË°å**„ÄÇËøôÁßçÁâπÂÆöÁöÑ‰∫§‰∫í‰πüÂ≠òÂú®‰∫éÂÖ∂‰ªñÊ°ÜÊû∂‰∏≠ÔºåËøôÊòØÂõ†‰∏∫Êó†ËÆ∫‰ΩøÁî®Âì™Áßç‰ºöËØùÂ≠òÂÇ®Ôºå‰ºöËØùÈÉΩ‰ΩøÁî®ÂÆâÂÖ® Cookie ‰Ωú‰∏∫ÂîØ‰∏ÄÊ†áËØÜÁ¨¶„ÄÇ

```rust
use trillium::Conn;
use trillium_cookies::CookiesHandler;
use trillium_sessions::{MemoryStore, SessionConnExt, SessionHandler};

pub fn main() {
    env_logger::init();

    trillium_smol::run((
        CookiesHandler::new(),
        SessionHandler::new(MemoryStore::new(), "01234567890123456789012345678901123"),
        |conn: Conn| async move {
            let count: usize = conn.session().get("count").unwrap_or_default();
            conn.with_session("count", count + 1)
                .ok(format!("count: {count}"))
        },
    ));
}
```

Âú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî® `MemoryStore` ÂàõÂª∫‰∫Ü‰∏Ä‰∏™‰ºöËØùÂ§ÑÁêÜÂô®ÔºåÂπ∂ÈÄöËøá `SessionHandler` ËÆæÁΩÆ‰∫Ü‰∏Ä‰∏™Âä†ÂØÜÂØÜÈí•„ÄÇÁÑ∂ÂêéÔºåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂ§ÑÁêÜÂô®ÔºåÁî®‰∫éÂ¢ûÂä†‰ºöËØù‰∏≠ÁöÑËÆ°Êï∞Âô®Âπ∂ËøîÂõûÊñ∞ÁöÑËÆ°Êï∞ÂÄº„ÄÇÊ≥®ÊÑèÔºå‰ºöËØùÂ§ÑÁêÜÂô®ÈúÄË¶ÅÂú® `CookiesHandler` ‰πãÂêé‰ΩøÁî®Ôºå‰ª•Á°Æ‰øù Cookie Â∑≤ÁªèËÆæÁΩÆÔºå‰ºöËØùÂèØ‰ª•Ê≠£Á°ÆÂú∞Ë¢´Ê£ÄÁ¥¢ÂíåÊõ¥Êñ∞„ÄÇ

### ‰ª£ÁêÜÔºàProxyÔºâ

Trillium ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ÂÆöÂà∂ÁöÑ HTTP ÂÆ¢Êà∑Á´ØÂÆûÁé∞Ôºå‰ª•ÊîØÊåÅÂèçÂêë‰ª£ÁêÜËØ∑Ê±Ç„ÄÇËøô‰∏™ÂÆ¢Êà∑Á´ØÊúâ‰∏§Áßç TLS ÂÆûÁé∞„ÄÇ

```rust
use trillium_client::Client;
use trillium_logger::Logger;
use trillium_proxy::{
    upstream::{ConnectionCounting, IntoUpstreamSelector, UpstreamSelector},
    Proxy,
};
use trillium_smol::ClientConfig;

pub fn main() {
    env_logger::init();
    let upstream = if std::env::args().count() == 1 {
        // Â¶ÇÊûúÊ≤°ÊúâÊèê‰æõÈ¢ùÂ§ñÁöÑÂëΩ‰ª§Ë°åÂèÇÊï∞Ôºå‰ΩøÁî®ÈªòËÆ§ÁöÑ‰∏äÊ∏∏ÊúçÂä°Âô®
        "http://localhost:8080".into_upstream().boxed()
    } else {
        // Âê¶ÂàôÔºåÂ∞ÜÊâÄÊúâÊèê‰æõÁöÑÂëΩ‰ª§Ë°åÂèÇÊï∞‰Ωú‰∏∫‰∏äÊ∏∏ÊúçÂä°Âô®
        std::env::args()
            .skip(1)
            .collect::<ConnectionCounting<_>>()
            .boxed()
    };

    trillium_smol::run((
        Logger::new(),
        Proxy::new(
            Client::new(ClientConfig::default()).with_default_pool(),
            upstream,
        )
        .with_via_pseudonym("trillium-proxy"),
    ));
}
```

Âú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåTrillium ‰Ωú‰∏∫‰∏Ä‰∏™ÂèçÂêë‰ª£ÁêÜËøêË°å„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊèê‰æõÂëΩ‰ª§Ë°åÂèÇÊï∞ÔºåÂÆÉÂ∞ÜÊääËØ∑Ê±ÇËΩ¨ÂèëÂà∞ `http://localhost:8080`„ÄÇÂ¶ÇÊûúÊèê‰æõ‰∫ÜÂèÇÊï∞ÔºåÂÆÉ‰ª¨Â∞ÜË¢´Áî®‰Ωú‰∏äÊ∏∏ÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ„ÄÇ`ConnectionCounting` Áª¥Êä§ÊØè‰∏™‰∏äÊ∏∏ÊúçÂä°Âô®ÁöÑËøûÊé•Êï∞ÔºåËøôÂØπ‰∫éÊµãËØïÊàñË¥üËΩΩÂùáË°°ÈùûÂ∏∏ÊúâÁî®„ÄÇ

`Proxy` ‰ΩøÁî® `Client` Êù•ÊâßË°å‰º†Âá∫ËØ∑Ê±ÇÔºåÂπ∂‰∏îÂèØ‰ª•ÈÖçÁΩÆ‰∏Ä‰∏™ËøûÊé•Ê±†„ÄÇ`with_via_pseudonym` Áî®‰∫éËÆæÁΩÆ HTTP ËØ∑Ê±ÇÁöÑ `Via` Â§¥ÈÉ®ÁöÑ‰º™ÂêçÔºåËøôÊòØ‰ª£ÁêÜÊúçÂä°Âô®ÁöÑÂ∏∏ËßÅÂÅöÊ≥ï„ÄÇ

#### Ê≥®ÊÑè

- `into_upstream()` ÂáΩÊï∞Â∞Ü‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢‰∏∫ `UpstreamSelector`ÔºåÂÆÉÂÖÅËÆ∏ Trillium Áü•ÈÅìËØ∑Ê±ÇÂ∫îËØ•Ë¢´ËΩ¨ÂèëÂà∞Âì™‰∏™‰∏äÊ∏∏ÊúçÂä°„ÄÇ
- `boxed()` Â∞Ü `UpstreamSelector` ËΩ¨Êç¢‰∏∫ `Box<dyn UpstreamSelector>`ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Âú® `Proxy::new` ‰∏≠‰ΩøÁî®‰∫Ü„ÄÇ
- `ClientConfig` ÂÖÅËÆ∏‰Ω†‰∏∫ HTTP ÂÆ¢Êà∑Á´ØÈÖçÁΩÆÈÄâÈ°πÔºåÂ¶ÇË∂ÖÊó∂„ÄÅÊúÄÂ§ßÂìçÂ∫î‰ΩìÂ§ßÂ∞èÁ≠â„ÄÇ
- `with_default_pool()` ‰∏∫ HTTP ÂÆ¢Êà∑Á´ØÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÈªòËÆ§ÁöÑËøûÊé•Ê±†„ÄÇ

‰ΩøÁî® Trillium ÁöÑ‰ª£ÁêÜÂäüËÉΩÔºå‰Ω†ÂèØ‰ª•ÊûÑÂª∫Â§çÊùÇÁöÑÁΩëÁªúÊãìÊâëÔºåÂÆûÁé∞Ë¥üËΩΩÂùáË°°„ÄÅÊïÖÈöúËΩ¨Áßª„ÄÅSSL ÁªàÊ≠¢„ÄÅËØ∑Ê±Ç‰øÆÊîπÁ≠â„ÄÇ

### ÈùôÊÄÅÊñá‰ª∂ÊúçÂä°

Trillium Êèê‰æõ‰∫Ü‰∏§ÁßçÂü∫Êú¨ÁöÑÈùôÊÄÅÊñá‰ª∂ÊúçÂä°ÊñπÊ≥ï„ÄÇÁõÆÂâçÔºåËøô‰∏§ÁßçÊñπÊ≥ïÈÉΩËøòÊ≤°ÊúâÊâßË°å‰ªª‰Ωï‰∏éÁºìÂ≠òÁõ∏ÂÖ≥ÁöÑÂ§¥ÈÉ®Ê£ÄÊü•„ÄÇ

#### ‰ªéÁ£ÅÁõòÊúçÂä°

Ëøô‰∏™Â§ÑÁêÜÂô®Âú®ËØ∑Ê±ÇÊó∂‰ªéÁ£ÅÁõòÂä†ËΩΩÂÜÖÂÆπÔºåÂπ∂‰∏îËøòÊ≤°ÊúâÊâßË°å‰ªª‰ΩïÂÜÖÂ≠òÁºìÂ≠ò„ÄÇ

```rust
#[cfg(unix)]
pub fn main() {
    use trillium_static::{crate_relative_path, files};
    trillium_smol::run((
        trillium_logger::logger(),
        files(crate_relative_path!("examples/files")).with_index_file("index.html"),
    ))
}

#[cfg(not(unix))]
pub fn main() {}
```

Âú®Ëøô‰∏™Á§∫‰æã‰∏≠ÔºåTrillium Ë¢´ÈÖçÁΩÆ‰∏∫‰ªéÁõ∏ÂØπ‰∫é cargo crate ÁöÑË∑ØÂæÑ `"examples/files"` ÊúçÂä°ÈùôÊÄÅÊñá‰ª∂ÔºåÂπ∂Â∞Ü `"index.html"` ‰Ωú‰∏∫Á¥¢ÂºïÊñá‰ª∂„ÄÇ

#### ‰ªéÂÜÖÂ≠òÊúçÂä°ÔºàÁºñËØëÊó∂Ôºâ

Ëøô‰∏™Â§ÑÁêÜÂô®Â∞ÜÊâÄÊúâÈùôÊÄÅÂÜÖÂÆπÂåÖÂê´Âú®ÁºñËØëÂêéÁöÑ‰∫åËøõÂà∂Êñá‰ª∂‰∏≠ÔºåÂÖÅËÆ∏ÂÆÉÁã¨Á´ã‰∫éËµÑÊ∫êËøõË°åÂàÜÂèë„ÄÇ

```rust
#[cfg(unix)]
pub fn main() {
    use trillium_static_compiled::static_compiled;

    trillium_smol::run((
        trillium_logger::Logger::new(),
        trillium_caching_headers::CachingHeaders::new(),
        static_compiled!("./examples/files").with_index_file("index.html"),
    ));
}

#[cfg(not(unix))]
pub fn main() {}
```

Âú®Ëøô‰∏™Á§∫‰æã‰∏≠Ôºå‰ΩøÁî® `static_compiled!` ÂÆèÂ∞Ü‰Ωç‰∫é `./examples/files` ÁöÑÈùôÊÄÅÊñá‰ª∂Âú®ÁºñËØëÊó∂ÂåÖÂê´Ëøõ‰∫åËøõÂà∂Êñá‰ª∂‰∏≠ÔºåÂπ∂‰∏îÂêåÊ†∑Â∞Ü `"index.html"` ‰Ωú‰∏∫Á¥¢ÂºïÊñá‰ª∂„ÄÇÊ≠§Â§ñÔºå‰ΩøÁî® `CachingHeaders` ‰∏≠Èó¥‰ª∂‰∏∫ÈùôÊÄÅÊñá‰ª∂Ê∑ªÂä†ÁºìÂ≠òÁõ∏ÂÖ≥ÁöÑ HTTP Â§¥ÈÉ®ÔºåËøôÊúâÂä©‰∫éÊèêÈ´òÊÄßËÉΩÂπ∂ÂáèÂ∞ëÁΩëÁªú‰º†Ëæì„ÄÇ

#### Ê≥®ÊÑè

- `crate_relative_path!` ÂÆèÁîüÊàêÁõ∏ÂØπ‰∫éÂΩìÂâç crate root ÁöÑË∑ØÂæÑÔºåÂÆÉÂú®ÊûÑÂª∫Êó∂Á°ÆÂÆö„ÄÇ
- `static_compiled!` ÂÆèÂ∞ÜÊåáÂÆöÁõÆÂΩï‰∏≠ÁöÑÊñá‰ª∂ÂåÖÂê´Âú®ÊúÄÁªàÁöÑ‰∫åËøõÂà∂Êñá‰ª∂‰∏≠Ôºå‰ΩøÂæóÂèØ‰ª•Âú®Ê≤°ÊúâÂçïÁã¨ÁöÑÊñá‰ª∂Á≥ªÁªüÁªìÊûÑÁöÑÊÉÖÂÜµ‰∏ãÊèê‰æõÈùôÊÄÅÊñá‰ª∂„ÄÇ
- `CachingHeaders` ‰∏≠Èó¥‰ª∂Ê∑ªÂä†‰∫Ü `Cache-Control` Âíå `ETag` Â§¥ÈÉ®Ôºå‰ΩøÂæóÂÆ¢Êà∑Á´ØÂíå‰ª£ÁêÜÂèØ‰ª•Êõ¥ÊúâÊïàÂú∞ÁºìÂ≠òÈùôÊÄÅËµÑÊ∫ê„ÄÇ

‰ΩøÁî® Trillium ÁöÑÈùôÊÄÅÊñá‰ª∂ÊúçÂä°ÂäüËÉΩÔºåÂèØ‰ª•ËΩªÊùæÂú∞Â∞ÜÈùôÊÄÅËµÑÊ∫êÂ¶Ç HTML„ÄÅCSS„ÄÅJavaScript Êñá‰ª∂ÂíåÂõæÁâáÈõÜÊàêÂà∞ Web Â∫îÁî®Á®ãÂ∫è‰∏≠„ÄÇ

### WebSocket ÊîØÊåÅ

```rust
use futures_util::StreamExt;
use trillium_logger::logger;
use trillium_websockets::{websocket, Message, WebSocketConn};

async fn websocket_handler(mut conn: WebSocketConn) {
    while let Some(Ok(Message::Text(input))) = conn.next().await {
        let result = conn
            .send_string(format!("received your message: {}", &input))
            .await;

        if let Err(e) = result {
            log::error!("{e}");
            break;
        }
    }
}

pub fn main() {
    env_logger::init();
    trillium_smol::run((logger(), websocket(websocket_handler)));
}
```

### ÊµãËØï Trillium Â∫îÁî®Á®ãÂ∫è

Trillium Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÊµãËØï crateÔºåÊó®Âú®‰∏∫ Trillium Â∫îÁî®Á®ãÂ∫èÊèê‰æõ‚ÄúÂäüËÉΩ/ÂçïÂÖÉÊµãËØï‚ÄùÂíå‚ÄúÈõÜÊàêÊµãËØï‚Äù„ÄÇ

#### Á§∫‰æãÂ∫îÁî®Á®ãÂ∫è

ÂÅáËÆæÊàë‰ª¨Êúâ‰∏Ä‰∏™ÂÆåÂÖ®ËôöÊûÑÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö

```rust
use trillium::{conn_try, Conn, Handler, KnownHeaderName};
use trillium_logger::Logger;

async fn teapot(mut conn: Conn) -> Conn {
    let request_body = conn_try!(conn.request_body_string().await, conn);
    if request_body.is_empty() {
        conn.with_status(406).with_body("unacceptable!").halt()
    } else {
        conn.with_body(format!("request body was: {request_body}"))
            .with_status(418)
            .with_response_header(KnownHeaderName::Server, "zojirushi")
    }
}

fn application() -> impl Handler {
    (Logger::new(), teapot)
}

fn main() {
    trillium_smol::run(application());
}
```

#### ÁºñÂÜôÊµãËØï

‰ª•‰∏ãÊòØ‰∏Ä‰∫õÁÆÄÂçïÁöÑÊµãËØïÁ§∫‰æãÔºö

```rust
#[cfg(test)]
mod tests {
    use super::{application, teapot};
    use trillium_testing::prelude::*;

    #[test]
    fn handler_sends_correct_headers_and_is_a_teapot() {
        let application = application();
        assert_response!(
            post("/").with_request_body("hello trillium!").on(&application),
            Status::ImATeapot,
            "request body was: hello trillium!",
            "server" => "zojirushi",
            "content-length" => "33"
        );
    }

    #[test]
    fn we_can_also_test_the_individual_handler() {
        assert_body!(
            post("/").with_request_body("a different body").on(&teapot),
            "request body was: a different body"
        );
    }

    #[test]
    fn application_is_lemongrab_when_body_is_empty() {
        let application = application();
        assert_response!(
            post("/").on(&application),
            Status::NotAcceptable,
            "unacceptable!"
        );
    }
}
```

#### ÊµãËØïËØ¥Êòé

- `application` ÂáΩÊï∞ËøîÂõûÊï¥‰∏™Â∫îÁî®Á®ãÂ∫èÁöÑÂ§ÑÁêÜÂô®„ÄÇ

- `teapot` ÂáΩÊï∞ÊòØÊàë‰ª¨ÁöÑ‰∏öÂä°ÈÄªËæëÂ§ÑÁêÜÂô®ÔºåÂÆÉÊ†πÊçÆËØ∑Ê±Ç‰ΩìÁöÑÂÜÖÂÆπËøîÂõû‰∏çÂêåÁöÑÂìçÂ∫î„ÄÇ

- `tests` Ê®°ÂùóÂåÖÂê´‰∫Ü‰∏â‰∏™ÊµãËØïÔºö

- - `handler_sends_correct_headers_and_is_a_teapot` ÊµãËØïÂΩìËØ∑Ê±Ç‰Ωì‰∏ç‰∏∫Á©∫Êó∂ÔºåÂ§ÑÁêÜÂô®ÊòØÂê¶ÂèëÈÄÅÊ≠£Á°ÆÁöÑÂ§¥ÈÉ®Âπ∂ËøîÂõû 418 ImATeapot Áä∂ÊÄÅ„ÄÇ
  - `we_can_also_test_the_individual_handler` ÊµãËØï `teapot` Â§ÑÁêÜÂô®ÂçïÁã¨ÁöÑË°å‰∏∫ÔºåÁ°Æ‰øùÂÆÉËÉΩÂ§üÊ≠£Á°ÆÂú∞Â§ÑÁêÜËØ∑Ê±Ç‰Ωì„ÄÇ
  - `application_is_lemongrab_when_body_is_empty` ÊµãËØïÂΩìËØ∑Ê±Ç‰Ωì‰∏∫Á©∫Êó∂ÔºåÂ∫îÁî®Á®ãÂ∫èÊòØÂê¶ËøîÂõû 406 NotAcceptable Áä∂ÊÄÅ„ÄÇ

‰ΩøÁî® Trillium ÁöÑÊµãËØïÂ∑•ÂÖ∑Ôºå‰Ω†ÂèØ‰ª•ËΩªÊùæÂú∞ÂØπÂ∫îÁî®Á®ãÂ∫èËøõË°åÂçïÂÖÉÊµãËØïÂíåÈõÜÊàêÊµãËØïÔºåÁ°Æ‰øùÂÖ∂ÊåâÈ¢ÑÊúüÂ∑•‰Ωú„ÄÇËøô‰∫õÂ∑•ÂÖ∑Êèê‰æõ‰∫Ü‰∏ÄÁßçÊñπ‰æøÁöÑÊñπÊ≥ïÊù•Ê®°ÊãüËØ∑Ê±ÇÂπ∂Êñ≠Ë®ÄÂìçÂ∫îÔºå‰ΩøÂæóÊµãËØïËøáÁ®ãÊõ¥Âä†È´òÊïàÂíåÂèØÈù†„ÄÇ

### Â∫ì‰ΩúËÄÖÊ®°ÂºèËÆæËÆ°

#### Áä∂ÊÄÅÁÆ°ÁêÜ

ËÄÉËôë‰∏Ä‰∏™Â∫ìÁöÑÂÆûÁé∞ÔºåËØ•Â∫ìÈÄíÂ¢ûÂºèÂú∞ËÆ°ÁÆóÁ©øËøáÂÖ∂ÁöÑËøûÊé•ÔºàconnÔºâÊï∞ÈáèÔºåÂπ∂Â∞ÜËØ•Êï∞ÂÄºÈôÑÂä†Âà∞ÊØè‰∏™ËøûÊé•‰∏ä„ÄÇÁõ¥Êé•Âú®Áä∂ÊÄÅÈõÜ‰∏≠Â≠òÂÇ® `u64` Á±ªÂûãÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÂõ†‰∏∫ÂÖ∂‰ªñÂ∫ìÂèØËÉΩ‰πüÂú®ËøõË°åÂêåÊ†∑ÁöÑÊìç‰ΩúÔºåÂõ†Ê≠§Êàë‰ª¨ÈÄöËøá‰∏Ä‰∏™ÁßÅÊúâÁöÑÊñ∞Á±ªÂûã `ConnNumber` Êù•Â∞ÅË£ÖÂÆÉ„ÄÇÁî±‰∫éËøô‰∏™Êñ∞Á±ªÂûãÂú®Êàë‰ª¨ÁöÑÂ∫ì‰πãÂ§ñÊòØ‰∏çÂèØËßÅÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Á°Æ‰øùÂè™ÊúâÊàë‰ª¨ÁöÑÂ§ÑÁêÜÂô®ËÉΩÂ§üËÆæÁΩÆÂÆÉ„ÄÇÊàë‰ª¨ËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™ `ConnExt` ÁâπÊÄßÔºàtraitÔºâÔºå‰ª•‰æøÊèê‰æõÂØπËøô‰∫õÊï∞ÊçÆÁöÑËÆøÈóÆ„ÄÇ

```rust
mod conn_counter {
    use std::sync::{
        atomic::{AtomicU64, Ordering},
        Arc,
    };
    use trillium::{async_trait, Conn, Handler};

    // ÁßÅÊúâÊñ∞Á±ªÂûãÔºåÂ∞ÅË£Ö u64 Á±ªÂûãÁöÑËøûÊé•ËÆ°Êï∞
    struct ConnNumber(u64);

    // ‰ΩøÁî® Arc<AtomicU64> Êù•Á∫øÁ®ãÂÆâÂÖ®Âú∞ÈÄíÂ¢ûËøûÊé•ËÆ°Êï∞
    #[derive(Default)]
    pub struct ConnCounterHandler(Arc<AtomicU64>);

    impl ConnCounterHandler {
        pub fn new() -> Self {
            Self::default()
        }
    }

    #[async_trait]
    impl Handler for ConnCounterHandler {
        async fn run(&self, conn: Conn) -> Conn {
            // ÂéüÂ≠êÂú∞ÈÄíÂ¢ûËÆ°Êï∞Âπ∂Ëé∑ÂèñÂΩìÂâçÂÄº
            let number = self.0.fetch_add(1, Ordering::SeqCst);
            // Â∞ÜËÆ°Êï∞ÈôÑÂä†Âà∞ËøûÊé•ÁöÑÁä∂ÊÄÅ‰∏≠
            conn.with_state(ConnNumber(number))
        }
    }

    // Êèê‰æõ conn_number ÊñπÊ≥ïÊù•ËÆøÈóÆËøûÊé•ËÆ°Êï∞
    pub trait ConnCounterConnExt {
        fn conn_number(&self) -> u64;
    }

    impl ConnCounterConnExt for Conn {
        fn conn_number(&self) -> u64 {
            // ‰ªéËøûÊé•Áä∂ÊÄÅ‰∏≠Ê£ÄÁ¥¢Âπ∂ËøîÂõûËÆ°Êï∞
            self.state::<ConnNumber>()
                .expect("conn_number must be called after the handler")
                .0
        }
    }
}
```

#### Â∫ìÁöÑ‰ΩøÁî®Á§∫‰æã

```rust
use conn_counter::{ConnCounterConnExt, ConnCounterHandler};
use trillium::{Conn, Handler};

// ÂàõÂª∫Â§ÑÁêÜÂô®ÔºåÂÖàËøêË°å ConnCounterHandler ÁÑ∂ÂêéÊòØÂìçÂ∫îÁîüÊàêÈÄªËæë
fn handler() -> impl Handler {
    (ConnCounterHandler::new(), |conn: Conn| async move {
        let conn_number = conn.conn_number(); // ËÆøÈóÆËøûÊé•ËÆ°Êï∞
        conn.ok(format!("conn number was {}", conn_number)) // ÊûÑÈÄ†ÂìçÂ∫î
    })
}

fn main() {
    trillium_smol::run(handler()); // ËøêË°åÂ§ÑÁêÜÂô®
}
```

#### ÊµãËØïÁî®‰æã

```rust
#[cfg(test)]
mod test {
    use trillium_testing::prelude::*;

    #[test]
    fn test_conn_counter() {
        let handler = super::handler();
        // Êñ≠Ë®ÄÂ§ÑÁêÜÂô®ÂØπËøûÁª≠ËØ∑Ê±ÇÁöÑÂìçÂ∫î
        assert_ok!(get("/").on(&handler), "conn number was 0");
        assert_ok!(get("/").on(&handler), "conn number was 1");
        assert_ok!(get("/").on(&handler), "conn number was 2");
        assert_ok!(get("/").on(&handler), "conn number was 3");
    }
}
```

#### ËØ¥Êòé

- `ConnNumber` ÊòØÂ∞ÅË£ÖËøûÊé•ËÆ°Êï∞ÁöÑÁßÅÊúâÊñ∞Á±ªÂûã„ÄÇ
- `ConnCounterHandler` ÁªìÊûÑ‰Ωì‰ΩøÁî® `Arc<AtomicU64>` Êù•ÂÆûÁé∞Á∫øÁ®ãÂÆâÂÖ®ÁöÑËÆ°Êï∞ÈÄíÂ¢û„ÄÇ
- `run` ÊñπÊ≥ïÂÆûÁé∞‰∫Ü `Handler` traitÔºåÂÆÉÂ∞ÜÂΩìÂâçËÆ°Êï∞ÈôÑÂä†Âà∞ÈÄöËøáÁöÑ `Conn` ÁöÑÁä∂ÊÄÅ‰∏≠„ÄÇ
- `ConnCounterConnExt` trait Êèê‰æõ‰∫Ü `conn_number` ÊñπÊ≥ïÔºåÁî®‰∫é‰ªé `Conn` ‰∏≠Ê£ÄÁ¥¢ËÆ°Êï∞„ÄÇ
- Âú® `main` ÂáΩÊï∞‰∏≠ÔºåÊàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Â§ÑÁêÜÂô®ÁªÑÂêàÔºåÂÖàËøêË°å `ConnCounterHandler` ÁÑ∂ÂêéÁîüÊàêÂìçÂ∫î„ÄÇ
- ÊµãËØïÊ®°Âùó‰ΩøÁî® `trillium_testing` crate Êù•Ê®°ÊãüËØ∑Ê±ÇÂπ∂È™åËØÅÂ§ÑÁêÜÂô®ÁöÑÂìçÂ∫î„ÄÇ

### ÂèÇËÄÉËµÑÊñô

[1] https://crates.io/crates/trillium-ructe

[2] https://github.com/prabirshrestha/trillium-ructe

[3] https://docs.rs/trillium-ructe/latest/trillium_ructe/

## Zino Â∫îÁî®ÂºÄÂèëÊ°ÜÊû∂Âø´ÈÄü‰∏äÊâãÊåáÂçó

GitHubÔºöhttps://github.com/photino/zino

### „ÄåÂâçË®Ä„Äç

Âú®ËΩØ‰ª∂ÂºÄÂèëÈ¢ÜÂüüÔºåRust ËØ≠Ë®Ä‰ª•ÂÖ∂Âá∫Ëâ≤ÁöÑÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄßÔºåÊ≠£ÈÄêÊ∏êÊàê‰∏∫Á≥ªÁªüÁºñÁ®ãÁöÑÊñ∞Êòü„ÄÇËÄå `Zino` Ê°ÜÊû∂Ôºå‰Ωú‰∏∫ Rust ÁîüÊÄÅ‰∏≠ÁöÑÂêéÁ´ØÊ°ÜÊû∂Ôºå‰ª•ÂÖ∂È´òÊïà„ÄÅÁÆÄÊ¥ÅÂíåÊ®°ÂùóÂåñÁöÑÁâπÁÇπÔºåÂê∏Âºï‰∫Ü‰ºóÂ§öÂºÄÂèëËÄÖÁöÑÁõÆÂÖâ„ÄÇÊú¨ÊñáÂ∞ÜÂ∏¶‰Ω†Âø´ÈÄüÂÖ•Èó® `Zino` Ê°ÜÊû∂ÔºåÊé¢Á¥¢ÂÖ∂Âº∫Â§ßÁöÑÂäüËÉΩÂíå‰ºòÈõÖÁöÑËÆæËÆ°„ÄÇ

### „Äå‰∏Ä„ÄÅZino Ê°ÜÊû∂ÁÆÄ‰ªã„Äç

`Zino` ÊòØ‰∏Ä‰∏™Âü∫‰∫é Rust ËØ≠Ë®ÄÁöÑÂêéÁ´ØÂ∫îÁî®ÂºÄÂèëÊ°ÜÊû∂ÔºåÂÆÉÂº∫Ë∞ÉÁÆÄÊ¥ÅÊÄß„ÄÅÂèØÊâ©Â±ïÊÄßÂíåÁîü‰∫ßÂäõ„ÄÇ`Zino` Êèê‰æõ‰∫ÜËØ∏Â§öÂºÄÁÆ±Âç≥Áî®ÁöÑÂäüËÉΩÔºåÊØîÂ¶ÇÈ´òÂ∫¶‰ºòÂåñÁöÑ ORM„ÄÅËΩªÈáèÁ∫ßÂÆöÊó∂‰ªªÂä°‰ª•ÂèäÂØπ `actix-web`„ÄÅ`axum` Á≠âÊ°ÜÊû∂ÁöÑÈõÜÊàêÊîØÊåÅ„ÄÇ

Zino Ëá¥Âäõ‰∫éÊâìÈÄ† Rust ËØ≠Ë®Ä‰∏≠ÊúÄÂ•ΩÁî®ÁöÑ‰ºÅ‰∏öÁ∫ßÂ∫îÁî®ÂºÄÂèëÊ°ÜÊû∂„ÄÇ Êàë‰ª¨Â•âË°å„ÄéÁ∫¶ÂÆö‰ºò‰∫éÈÖçÁΩÆ„ÄèÁöÑÂéüÂàôÔºåÂÄüÈâ¥ Node ÁöÑ Egg.js„ÄÅGo ÁöÑ GoFrame„ÄÅ Java ÁöÑ Spring Boot Á≠âÊ°ÜÊû∂ÔºåÊèê‰æõÂºÄÁÆ±Âç≥Áî®ÁöÑÂäüËÉΩÊ®°ÂùóÔºåÊûÅÂ§ßÊèêÂçáÂºÄÂèëÊïàÁéáÔºõ Âπ∂ÈÄöËøáÂ∫îÁî®Êé•Âè£ÊäΩË±°‰∏é Rust ÁöÑ axum„ÄÅactix-web Á≠âÊ°ÜÊû∂ÈõÜÊàêÔºåÊâìÈÄöÁ§æÂå∫ÁîüÊÄÅËµÑÊ∫ê„ÄÇ

### „Äå‰∫å„ÄÅÁéØÂ¢ÉÂáÜÂ§á„Äç

Âú®ÂºÄÂßã‰πãÂâçÔºåÁ°Æ‰øù‰Ω†Â∑≤ÂÆâË£Ö Rust ÁéØÂ¢É„ÄÇ`Zino` Ë¶ÅÊ±ÇËá≥Â∞ë Rust 1.75+ ÁöÑÁâàÊú¨„ÄÇÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂÆâË£Ö RustÔºö

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

### „Äå‰∏â„ÄÅÂàõÂª∫‰Ω†ÁöÑ Zino Â∫îÁî®„Äç

‰ΩøÁî® `Zino` ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÈ°πÁõÆÈùûÂ∏∏ÁÆÄÂçï„ÄÇÈ¶ñÂÖàÔºåÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ Rust È°πÁõÆÔºö

```bash
cargo new my-zino-app --bin
```

ÁÑ∂ÂêéÔºåÂú®È°πÁõÆÁöÑ `Cargo.toml` Êñá‰ª∂‰∏≠Ê∑ªÂä† `Zino` ‰Ωú‰∏∫‰æùËµñÔºåÂπ∂ÂêØÁî® `axum` ÁâπÊÄßÔºö

```bash
[package]
name = "zino-app"
version = "0.1.0"
edition = "2021"

[dependencies]
zino = { version = "0.21", features = ["axum"] }
```

### „ÄåÂõõ„ÄÅÁºñÂÜô‰Ω†ÁöÑÁ¨¨‰∏ÄË°å Zino ‰ª£Á†Å„Äç

Âú®‰Ω†ÁöÑ `main.rs` Êñá‰ª∂‰∏≠ÔºåÁºñÂÜô‰ª•‰∏ã‰ª£Á†ÅÊù•ÂêØÂä®‰∏Ä‰∏™ÁÆÄÂçïÁöÑ `Zino` Â∫îÁî®Ôºö

```rust
use zino::prelude::*;

fn main() {
    zino::Cluster::boot().run()
}
```

ËøôÊÆµ‰ª£Á†ÅÂà©Áî® `Zino` ÁöÑ `Cluster` Êù•ÂêØÂä®Â∫îÁî®Á®ãÂ∫è„ÄÇ

### „Äå‰∫î„ÄÅÂÆö‰πâÊ®°Âûã„Äç

`Zino` Êèê‰æõ‰∫ÜÂº∫Â§ßÁöÑ ORM ÂäüËÉΩÔºåÂèØ‰ª•ËΩªÊùæÂÆö‰πâÂíåÊìç‰ΩúÊï∞ÊçÆÂ∫ìÊ®°Âûã„ÄÇ‰ª•‰∏ãÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁî®Êà∑Ê®°ÂûãÂÆö‰πâÁ§∫‰æãÔºö

```rust
use serde::{Deserialize, Serialize};
use zino::prelude::*;

#[derive(Debug, Clone, Default, Serialize, Deserialize, Schema)]
pub struct User {
    id: u64,
    name: String,
    email: String,
}
```

ÂÆö‰πâÊ®°ÂûãÂêéÔºå`Zino` ËÉΩÂ§üËá™Âä®Â§ÑÁêÜÊï∞ÊçÆÂ∫ìÁöÑ CRUD Êìç‰Ωú„ÄÇ

### „ÄåÂÖ≠„ÄÅÊ∑ªÂä†Ë∑ØÁî±ÂíåÊéßÂà∂Âô®„Äç

ÈÄöËøá `Zino` ÁöÑ `router` Ê®°ÂùóÔºå‰Ω†ÂèØ‰ª•ËΩªÊùæÂú∞Ê∑ªÂä†Ë∑ØÁî±ÂíåÊéßÂà∂Âô®„ÄÇ‰æãÂ¶ÇÔºå‰∏∫Áî®Êà∑Ê®°ÂûãÊ∑ªÂä†‰∏Ä‰∏™Ëé∑ÂèñÁî®Êà∑ÂàóË°®ÁöÑË∑ØÁî±Ôºö

```rust
use zino::router::*;

pub fn routes() -> Router {
    Router::new().get("/users", list_users)
}

async fn list_users(req: Request) -> Result<Json<Vec<User>>, Status> {
    let users = User::all().await?;
    Ok(Json(users))
}
```

ËøôÈáå‰ΩøÁî®‰∫Ü `axum` ÁöÑ `Router` Âíå `Request` Êù•ÂÆö‰πâË∑ØÁî±ÂíåÂ§ÑÁêÜÂáΩÊï∞„ÄÇ

### „Äå‰∏É„ÄÅËøêË°å‰Ω†ÁöÑÂ∫îÁî®„Äç

ËøêË°å‰Ω†ÁöÑ `Zino` Â∫îÁî®ÔºåÂè™ÈúÄÂú®È°πÁõÆÊ†πÁõÆÂΩï‰∏ãÊâßË°åÔºö

```bash
cargo run
```

ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ∫îÁî®‰ºöÂú® `6080` Á´ØÂè£ÂêØÂä®ÔºåÂπ∂ÈÄöËøá `debug` Ê®°ÂºèÊèê‰æõ API ÊñáÊ°£„ÄÇ

### core

#### ÁâπÊÄßÊ†áÂøó

‰ª•‰∏ãÊòØÂèØÁî®ÁöÑÂèØÈÄâÁâπÊÄßÔºö

| ÂêçÁß∞                | ÊèèËø∞                                              | ÈªòËÆ§? |
| :------------------ | :------------------------------------------------ | :---- |
| `accessor`          | ÂêØÁî®Âü∫‰∫é `opendal` ÊûÑÂª∫ÁöÑÊï∞ÊçÆËÆøÈóÆÂ±Ç„ÄÇ             | Âê¶    |
| `chatbot`           | ÂêØÁî®ËÅäÂ§©Êú∫Âô®‰∫∫ÊúçÂä°„ÄÇ                              | Âê¶    |
| `connector`         | ÂêØÁî®Êï∞ÊçÆÊ∫êËøûÊé•Âô®„ÄÇ                                | Âê¶    |
| `cookie`            | ÂêØÁî®ÂØπ cookie ÁöÑÊîØÊåÅ„ÄÇ                            | Âê¶    |
| `crypto-sm`         | ÂêØÁî®‰∏≠ÂõΩÊ†áÂáÜÁöÑÂä†ÂØÜÁÆóÊ≥ï„ÄÇ                          | Âê¶    |
| `dotenv`            | ÂêØÁî® `.env` Êñá‰ª∂ÁöÑÈÖçÁΩÆÂä†ËΩΩÂô®„ÄÇ                    | Âê¶    |
| `env-filter`        | ‰∏∫ `tracing-subscriber` ÂêØÁî® `env-filter`„ÄÇ       | Âê¶    |
| `i18n`              | ÂêØÁî®ÂõΩÈôÖÂåñÊîØÊåÅ„ÄÇ                                  | Âê¶    |
| `jwt`               | ÂêØÁî®ÂØπ JSON Web Token ÁöÑÊîØÊåÅ„ÄÇ                    | Âê¶    |
| `locale`            | ÂêØÁî®‰∏éÊú¨Âú∞ÂåñÁõ∏ÂÖ≥ÁöÑÂÆûÁî®Â∑•ÂÖ∑ÊîØÊåÅ„ÄÇ                  | Âê¶    |
| `metrics`           | ÂêØÁî® `metrics` ÂØºÂá∫Âô®„ÄÇ                           | Âê¶    |
| `orm`               | ÂêØÁî® MySQL„ÄÅPostgreSQL Êàñ **„ÄåSQLite„Äç** ÁöÑ ORM„ÄÇ | Âê¶    |
| `runtime-async-std` | ÂêØÁî® `async-std` ËøêË°åÊó∂„ÄÇ                         | Âê¶    |
| `runtime-tokio`     | ÂêØÁî® `tokio` ËøêË°åÊó∂„ÄÇ                             | Âê¶    |
| `sentry`            | ÂêØÁî®‰∏é `sentry` ÁöÑÈõÜÊàê„ÄÇ                          | Âê¶    |
| `tls-native`        | ÂêØÁî® `native-tls` TLS ÂêéÁ´Ø„ÄÇ                      | Âê¶    |
| `tls-rustls`        | ÂêØÁî® `rustls` TLS ÂêéÁ´Ø„ÄÇ                          | Âê¶    |
| `tracing-log`       | ‰∏∫ `tracing-subscriber` ÂêØÁî® `tracing-log`„ÄÇ      | Âê¶    |
| `validator`         | ÂêØÁî®ÈÄöÁî®È™åËØÅËßÑÂàô„ÄÇ                                | Âê¶    |
| `view`              | ÂêØÁî® HTML Ê®°ÊùøÊ∏≤Êüì„ÄÇ                              | Âê¶    |

ÈÄöËøáËøô‰∫õÁâπÊÄßÊ†áÂøóÔºåÂºÄÂèëËÄÖÂèØ‰ª•Ê†πÊçÆÈ°πÁõÆÈúÄÊ±ÇÂÆöÂà∂ÂíåÊâ©Â±ï `zino` Â∫îÁî®Á®ãÂ∫èÁöÑÂäüËÉΩ„ÄÇ

### actix-app Á§∫‰æã

- examples/actix-app/src/main.rs

```rust
mod controller;
mod domain;
mod extension;
mod logic;
mod middleware;
mod model;
mod router;
mod schedule;
mod service;

use zino::prelude::*;

fn main() {
    zino::Cluster::boot()
        .register(router::routes())
        .register_debug(router::debug_routes())
        .spawn(schedule::job_scheduler())
        .run_with(schedule::async_job_scheduler())
}
```

- examples/actix-app/src/controller/user.rs

```rust
use std::time::Instant;
use zino::{prelude::*, Request, Response, Result};
use zino_model::user::User;

pub async fn new(mut req: Request) -> Result {
    let mut user = User::new();
    let mut res = req.model_validation(&mut user).await?;
    let validation = user.check_constraints().await.extract(&req)?;
    if !validation.is_success() {
        reject!(req, validation);
    }

    let user_name = user.name().to_owned();
    user.insert().await.extract(&req)?;

    let args = fluent_args![
        "name" => user_name
    ];
    let user_intro = req.translate("user-intro", Some(args)).extract(&req)?;
    let data = json!({
        "method": req.request_method().as_ref(),
        "path": req.request_path(),
        "user_intro": user_intro,
    });
    let locale = req.new_cookie("locale".into(), "en-US".into(), None);
    res.set_cookie(&locale);
    res.set_code(StatusCode::CREATED);
    res.set_json_data(data);
    Ok(res.into())
}

pub async fn view(req: Request) -> Result {
    let user_id = req.parse_param("id")?;

    let db_query_start_time = Instant::now();
    let user = User::fetch_by_id(&user_id).await.extract(&req)?;
    let db_query_duration = db_query_start_time.elapsed();

    let data = Map::data_entry(user);
    let mut res = Response::default().context(&req);
    res.record_server_timing("db", None, Some(db_query_duration));
    res.set_json_data(data);
    Ok(res.into())
}
```

- examples/actix-app/src/middleware/access.rs

```rust
use actix_web::{
    dev::{forward_ready, Service, ServiceRequest, ServiceResponse, Transform},
    Error,
};
use std::{
    future::{ready, Future, Ready},
    pin::Pin,
};
use zino::{prelude::*, Request};

#[derive(Default)]
pub struct UserSessionInitializer;

impl<S, B> Transform<S, ServiceRequest> for UserSessionInitializer
where
    S: Service<ServiceRequest, Response = ServiceResponse<B>, Error = Error>,
    S::Future: 'static,
{
    type Response = ServiceResponse<B>;
    type Error = Error;
    type InitError = ();
    type Transform = UserSessionMiddleware<S>;
    type Future = Ready<Result<Self::Transform, Self::InitError>>;

    fn new_transform(&self, service: S) -> Self::Future {
        ready(Ok(UserSessionMiddleware { service }))
    }
}

pub struct UserSessionMiddleware<S> {
    service: S,
}

impl<S, B> Service<ServiceRequest> for UserSessionMiddleware<S>
where
    S: Service<ServiceRequest, Response = ServiceResponse<B>, Error = Error>,
    S::Future: 'static,
{
    type Response = ServiceResponse<B>;
    type Error = Error;
    type Future = Pin<Box<dyn Future<Output = Result<Self::Response, Self::Error>>>>;

    forward_ready!(service);

    fn call(&self, req: ServiceRequest) -> Self::Future {
        let mut req = Request::from(req);
        match req.parse_jwt_claims(JwtClaims::shared_key()) {
            Ok(claims) => {
                if let Ok(mut user_session) = UserSession::<Uuid>::try_from_jwt_claims(claims) {
                    if let Ok(session_id) = req.parse_session_id() {
                        user_session.set_session_id(session_id);
                    }
                    req.set_data(user_session);
                } else {
                    return Box::pin(async move {
                        let message = "401 Unauthorized: invalid JWT claims";
                        let rejection = Rejection::with_message(message).context(&req).into();
                        let result: zino::Result<Self::Response> = Err(rejection);
                        result.map_err(|err| err.into())
                    });
                }
            }
            Err(rejection) => {
                return Box::pin(async move {
                    let result: zino::Result<Self::Response> = Err(rejection.into());
                    result.map_err(|err| err.into())
                });
            }
        }

        let req = ServiceRequest::from(req);
        let fut = self.service.call(req);
        Box::pin(async move {
            let res = fut.await?;
            Ok(res)
        })
    }
}
```

- examples/actix-app/src/middleware/mod.rs

```rust
mod access;

pub(crate) use access::UserSessionInitializer;
```

- examples/actix-app/src/model/tag.rs

```rust
use serde::{Deserialize, Serialize};
use zino::prelude::*;
use zino_derive::{DecodeRow, Model, ModelAccessor, ModelHooks, Schema};

/// The `tag` model.
#[derive(
    Debug,
    Clone,
    Default,
    Serialize,
    Deserialize,
    DecodeRow,
    Schema,
    ModelAccessor,
    ModelHooks,
    Model,
)]
#[serde(default)]
pub struct Tag {
    // Basic fields.
    #[schema(primary_key, read_only, constructor = "Uuid::now_v7")]
    id: Uuid,
    #[schema(not_null, comment = "Tag name")]
    name: String,
    #[schema(default_value = "Active", index_type = "hash")]
    status: String,
    description: String,

    // Info fields.
    #[schema(not_null, index_type = "hash", comment = "Tag category")]
    category: String,
    #[schema(
        snapshot,
        reference = "Tag",
        fetch_as = "parent_tag",
        comment = "Optional parent tag"
    )]
    parent_id: Option<Uuid>,

    // Extensions.
    #[schema(reserved)]
    extra: Map,

    // Revisions.
    #[schema(read_only, default_value = "now", index_type = "btree")]
    created_at: DateTime,
    #[schema(default_value = "now", index_type = "btree")]
    updated_at: DateTime,
    version: u64,
}
```

- examples/actix-app/src/router/mod.rs

```rust
use crate::{
    controller::{auth, file, stats, user},
    middleware,
    model::Tag,
};
use actix_web::web::{get, post, scope, ServiceConfig};
use zino::{DefaultController, RouterConfigure};
use zino_model::User;

pub fn routes() -> Vec<RouterConfigure> {
    vec![
        auth_router as RouterConfigure,
        file_router as RouterConfigure,
        user_router as RouterConfigure,
        tag_router as RouterConfigure,
    ]
}

pub fn debug_routes() -> Vec<RouterConfigure> {
    vec![
        stats_router as RouterConfigure,
        user_debug_router as RouterConfigure,
        tag_debug_router as RouterConfigure,
    ]
}

fn auth_router(cfg: &mut ServiceConfig) {
    cfg.route("/auth/login", post().to(auth::login));
    cfg.service(
        scope("/auth")
            .route("/refresh", get().to(auth::refresh))
            .route("/logout", post().to(auth::logout))
            .wrap(middleware::UserSessionInitializer),
    );
}

fn file_router(cfg: &mut ServiceConfig) {
    cfg.service(
        scope("/file")
            .route("/upload", post().to(file::upload))
            .route("/decrypt", get().to(file::decrypt))
            .wrap(middleware::UserSessionInitializer),
    );
}

fn user_router(cfg: &mut ServiceConfig) {
    cfg.route("/user/new", post().to(user::new))
        .route("/user/{id}/delete", post().to(User::soft_delete))
        .route("/user/{id}/update", post().to(User::update))
        .route("/user/{id}/view", get().to(user::view))
        .route("/user/list", get().to(User::list))
        .route("/user/import", post().to(User::import))
        .route("/user/export", get().to(User::export));
}

fn tag_router(cfg: &mut ServiceConfig) {
    cfg.route("/tag/new", post().to(Tag::new))
        .route("/tag/{id}/delete", post().to(Tag::soft_delete))
        .route("/tag/{id}/update", post().to(Tag::update))
        .route("/tag/{id}/view", get().to(Tag::view))
        .route("/tag/list", get().to(Tag::list))
        .route("/tag/tree", get().to(Tag::tree));
}

fn stats_router(cfg: &mut ServiceConfig) {
    cfg.route("/stats", get().to(stats::index));
}

fn user_debug_router(cfg: &mut ServiceConfig) {
    cfg.route("/user/schema", get().to(User::schema))
        .route("/user/definition", get().to(User::definition))
        .route("/user/mock", get().to(User::mock));
}

fn tag_debug_router(cfg: &mut ServiceConfig) {
    cfg.route("/tag/schema", get().to(Tag::schema))
        .route("/tag/definition", get().to(Tag::definition))
        .route("/tag/mock", get().to(Tag::mock));
}
```

- examples/actix-app/src/schedule/job.rs

```rust
use zino::prelude::*;
use zino_model::User;

pub fn every_15s(job_id: Uuid, job_data: &mut Map, last_tick: DateTime) {
    let counter = job_data
        .get("counter")
        .map(|c| c.as_u64().unwrap_or_default() + 1)
        .unwrap_or_default();
    job_data.upsert("counter", counter);
    job_data.upsert("current", DateTime::now());
    job_data.upsert("last_tick", last_tick);
    job_data.upsert("job_id", job_id.to_string());
}

pub fn every_20s(job_id: Uuid, job_data: &mut Map, last_tick: DateTime) {
    let counter = job_data
        .get("counter")
        .map(|c| c.as_u64().unwrap_or_default() + 1)
        .unwrap_or_default();
    job_data.upsert("counter", counter);
    job_data.upsert("current", DateTime::now());
    job_data.upsert("last_tick", last_tick);
    job_data.upsert("job_id", job_id.to_string());
}

pub fn every_hour(job_id: Uuid, job_data: &mut Map, last_tick: DateTime) -> BoxFuture {
    let counter = job_data
        .get("counter")
        .map(|c| c.as_u64().unwrap_or_default() + 1)
        .unwrap_or_default();
    job_data.upsert("counter", counter);
    job_data.upsert("current", DateTime::now());
    job_data.upsert("last_tick", last_tick);
    job_data.upsert("job_id", job_id.to_string());
    Box::pin(async {
        let query = Query::default();
        let columns = [("*", true), ("roles", true)];
        if let Ok(mut map) = User::count_many(&query, &columns).await {
            job_data.append(&mut map);
        }
    })
}
```

- examples/actix-app/src/controller/auth.rs

```rust
use zino::{prelude::*, Request, Response, Result};
use zino_model::user::{JwtAuthService, User};

pub async fn login(mut req: Request) -> Result {
    let current_time = DateTime::now();
    let body: Map = req.parse_body().await?;
    let (user_id, mut data) = User::generate_token(body).await.extract(&req)?;

    let user_updates = json!({
        "status": "Active",
        "last_login_at": data.remove("current_login_at").and_then(|v| v.as_datetime()),
        "last_login_ip": data.remove("current_login_ip"),
        "current_login_at": current_time,
        "current_login_ip": req.client_ip(),
        "$inc": { "login_count": 1 },
    });

    let mut user_mutations = user_updates.into_map_opt().unwrap_or_default();
    let (validation, user) = User::update_by_id(&user_id, &mut user_mutations, None)
        .await
        .extract(&req)?;
    if !validation.is_success() {
        reject!(req, validation);
    }
    data.upsert("entry", user.snapshot());

    let mut res = Response::default().context(&req);
    res.set_json_data(data);
    Ok(res.into())
}

pub async fn refresh(req: Request) -> Result {
    let claims = req.parse_jwt_claims(JwtClaims::shared_key())?;
    let data = User::refresh_token(&claims).await.extract(&req)?;
    let mut res = Response::default().context(&req);
    res.set_json_data(data);
    Ok(res.into())
}

pub async fn logout(req: Request) -> Result {
    let user_session = req
        .get_data::<UserSession<_>>()
        .ok_or_else(|| warn!("401 Unauthorized: the user session is invalid"))
        .extract(&req)?;

    let mut mutations = Map::from_entry("status", "SignedOut");
    let user_id = user_session.user_id();
    let (validation, user) = User::update_by_id(user_id, &mut mutations, None)
        .await
        .extract(&req)?;
    if !validation.is_success() {
        reject!(req, validation);
    }

    let data = Map::data_entry(user.snapshot());
    let mut res = Response::default().context(&req);
    res.set_json_data(data);
    Ok(res.into())
}
```

- examples/actix-app/src/controller/file.rs

```rust
use std::time::{Duration, Instant};
use zino::{prelude::*, Cluster, Request, Response, Result};

pub async fn upload(mut req: Request) -> Result {
    let (mut body, files) = req.parse_form_data::<Map>().await?;

    let dir = Cluster::shared_dir("uploads");
    let expires = DateTime::now() + Duration::from_secs(600);
    let mut encryption_duration = Duration::ZERO;
    let mut uploads = Vec::new();
    for mut file in files {
        let mut query = Map::new();
        let access_key_id = AccessKeyId::new();
        query.upsert("access_key_id", access_key_id.to_string());

        let secret_key = SecretAccessKey::new(&access_key_id);
        let security_token =
            SecurityToken::try_new(access_key_id, expires, &secret_key).extract(&req)?;
        query.upsert("security_token", security_token.to_string());

        let encryption_start_time = Instant::now();
        file.encrypt_with(secret_key.as_ref()).extract(&req)?;
        encryption_duration += encryption_start_time.elapsed();

        if let Some(file_name) = file.file_name() {
            file.write(dir.join(file_name)).extract(&req)?;
            query.upsert("file_name", file_name);

            let mut map = Map::new();
            map.upsert("field_name", file.field_name());
            map.upsert("file_name", file_name);
            map.upsert("content_type", file.content_type().map(|m| m.as_ref()));
            map.upsert("url", format!("/file/decrypt?{}", query.to_query_string()));
            uploads.push(map);
        }
    }
    body.upsert("files", uploads);

    let mut res = Response::default().context(&req);
    res.record_server_timing("enc", None, Some(encryption_duration));
    res.set_json_data(Map::data_entry(body));
    Ok(res.into())
}

pub async fn decrypt(req: Request) -> Result {
    let query = req.parse_query::<Map>()?;
    let access_key_id = req.parse_access_key_id()?;
    let secret_key = SecretAccessKey::new(&access_key_id);
    let security_token = req.parse_security_token(secret_key.as_ref())?;
    if security_token.is_expired() {
        reject!(req, forbidden, "the security token has expired");
    }

    let Some(file_name) = query.get_str("file_name") else {
        reject!(req, "file_name", "it should be specified");
    };
    let file_path = Cluster::shared_dir("uploads").join(file_name);

    let mut file = NamedFile::try_from_local(file_path).extract(&req)?;
    let decryption_start_time = Instant::now();
    file.decrypt_with(secret_key).extract(&req)?;

    let decryption_duration = decryption_start_time.elapsed();
    let mut res = Response::default().context(&req);
    res.record_server_timing("dec", None, Some(decryption_duration));
    res.send_file(file);
    Ok(res.into())
}
```

- examples/actix-app/src/controller/stats.rs

```rust
use zino::{prelude::*, Cluster, Request, Response, Result};

pub async fn index(req: Request) -> Result {
    let res = Response::default().context(&req);
    let stats = json!({
        "method": "GET",
        "path": "/stats",
        "app_state_data": Cluster::state_data(),
    });
    let data = json!({
        "title": "Stats",
        "output": stats.to_string_pretty(),
    });
    Ok(res.render("output.html", data).into())
}
```

- examples/actix-app/src/controller/mod.rs

```rust
pub(crate) mod auth;
pub(crate) mod file;
pub(crate) mod stats;
pub(crate) mod user;
```

- examples/actix-app/templates/layout.html

```html
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>{{ title }} | {{ APP_NAME }}</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
	</head>
	<body>
		<div class="container">{% block content %}{% endblock content %}</div>
	</body>
</html>
```

- examples/actix-app/templates/output.html

```html
{% extends "layout.html" %} {% block content %}
<div class="output">
	<code><pre>{{ output }}</pre></code>
</div>
{% endblock content %}
```

### „ÄåÁªìËØ≠Ôºö„Äç

ÈÄöËøáÊú¨ÊñáÁöÑÂºïÂØºÔºå‰Ω†Â∑≤ÁªèËÉΩÂ§üÂàõÂª∫Âπ∂ËøêË°å‰∏Ä‰∏™Âü∫Êú¨ÁöÑ `Zino` ÂêéÁ´ØÂ∫îÁî®„ÄÇ`Zino` Ê°ÜÊû∂ÁöÑÊõ¥Â§öÈ´òÁ∫ßÁâπÊÄßÂíåÊúÄ‰Ω≥ÂÆûË∑µÔºåÁ≠âÂæÖ‰Ω†ÂéªÊé¢Á¥¢ÂíåÂèëÁé∞„ÄÇRust Âíå `Zino` ÁöÑÁªìÂêàÔºåÊó†ÁñëÂ∞Ü‰∏∫‰Ω†ÁöÑÂêéÁ´ØÂºÄÂèëÂ∏¶Êù•Èù©ÂëΩÊÄßÁöÑÊîπÂèò„ÄÇ

## Pingora

**GitHub Âú∞ÂùÄ**Ôºöhttps://github.com/cloudflare/pingora

Pingora ÊòØ‰∏Ä‰∏™ Rust Ê°ÜÊû∂ÔºåÁî®‰∫éÊûÑÂª∫Âø´ÈÄü„ÄÅÂèØÈù†ÂíåÂèØÁºñÁ®ãÁöÑÁΩëÁªúÁ≥ªÁªü„ÄÇ

Pingora ÊòØÁªèËøáÂÆûÊàòÊµãËØïÁöÑÔºåÂõ†‰∏∫ÂÆÉÂú®Âá†Âπ¥Â§öÁöÑÊó∂Èó¥ÈáåÊØèÁßíÊúçÂä°Ë∂ÖËøá 4000 ‰∏áÊ¨°‰∫íËÅîÁΩëËØ∑Ê±Ç„ÄÇ

Pingora ÂäüËÉΩ‰∫ÆÁÇπÔºö

- ÂºÇÊ≠• RustÔºöÂø´ÈÄüÂèØÈù†
- HTTP 1/2 Á´ØÂà∞Á´Ø‰ª£ÁêÜ
- TLSÔºöOpenSSL Êàñ BoringSSL
- gRPC Âíå websocket ‰ª£ÁêÜ
- ‰ºòÈõÖÁöÑÈáçÂêØ
- ÂèØÂÆöÂà∂ÁöÑË¥üËΩΩÂπ≥Ë°°ÂíåÊïÖÈöúËΩ¨ÁßªÁ≠ñÁï•
- ÊîØÊåÅÂêÑÁßçÂèØËßÇÂØüÊÄßÂ∑•ÂÖ∑

## Tower

**GitHub Âú∞ÂùÄ**Ôºöhttps://github.com/tower-rs/tower

Tower ÊòØ‰∏Ä‰∏™Ê®°ÂùóÂåñÂíåÂèØÈáçÁî®ÁªÑ‰ª∂Â∫ìÔºåÁî®‰∫éÊûÑÂª∫ÂÅ•Â£ÆÁöÑÁΩëÁªúÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®„ÄÇ

Tower ÁöÑÁõÆÊ†áÊòØÂ∞ΩÂèØËÉΩÁÆÄÂçïÂú∞ÊûÑÂª∫ÂÅ•Â£ÆÁöÑÁΩëÁªúÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®„ÄÇÂÆÉÊòØÂçèËÆÆÊó†ÂÖ≥ÁöÑÔºåÊòØÂõ¥ÁªïËØ∑Ê±Ç/ÂìçÂ∫îÊ®°ÂºèËÆæËÆ°ÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÂçèËÆÆÂÆåÂÖ®Âü∫‰∫éÊµÅÔºåÈÇ£‰πà Tower ÂèØËÉΩ‰∏çÈÄÇÂêà„ÄÇ

Tower Â∞Ü‰øùÊåÅËá≥Â∞ë 6 ‰∏™ÊúàÁöÑÊªöÂä® MSRV(ÊúÄ‰ΩéÊîØÊåÅÁöÑ Rust ÁâàÊú¨)ÊîøÁ≠ñ„ÄÇÂΩìÂ¢ûÂä† MSRV Êó∂ÔºåÊñ∞ÁöÑ Rust ÁâàÊú¨ÂøÖÈ°ªËá≥Â∞ëÂú®ÂÖ≠‰∏™ÊúàÂâçÂèëÂ∏É„ÄÇ

## Poem FrameworkÔºö‰ª• Rust ÁºñÁ®ãËØ≠Ë®ÄÊâìÈÄ†ÁöÑÂÖ®Êñπ‰Ωç‰∏îÊòì‰∫é‰∏äÊâãÁöÑ Web Ê°ÜÊû∂

---

Á®ãÂ∫èÁäπÂ¶ÇËØóÊ≠åÔºå‰∏çÁªèÊí∞ÂÜôÔºå‰Ωï‰ª•ÊàêËØó„ÄÇ ‚Äî‚Äî Ëø™ÁßëÊñØÂΩª

---ËØ•‰ªìÂ∫ìÂåÖÂê´‰ª•‰∏ã‰∏ªË¶ÅÁªÑ‰ª∂Ôºö

| ÁªÑ‰ª∂             | ÊèèËø∞                     | ÊñáÊ°£            | Êõ¥Êñ∞Êó•Âøó           |
| :--------------- | :----------------------- | :-------------- | :----------------- |
| **poem**         | Poem Web Ê°ÜÊû∂            | **(README)**[1] | **(CHANGELOG)**[2] |
| **poem-lambda**  | Poem Áî®‰∫é AWS Lambda     | **(README)**[3] | **(CHANGELOG)**[4] |
| **poem-openapi** | Poem Web ÁöÑ OpenAPI ÊîØÊåÅ | **(README)**[5] | **(CHANGELOG)**[6] |

---

‰ª•‰∏ãÊòØÁ§æÂå∫‰ΩøÁî®Ê°à‰æãÔºö

| ‰ªìÂ∫ì                   | ÊèèËø∞                                                                      | ÊñáÊ°£              |
| :--------------------- | :------------------------------------------------------------------------ | :---------------- |
| **delicate**[7]        | Áî® Rust ÁºñÂÜôÁöÑÂàÜÂ∏ÉÂºè‰ªªÂä°Ë∞ÉÂ∫¶Âπ≥Âè∞„ÄÇ                                        | **(README)**[8]   |
| **databend**[9]        | Áî® Rust ÁºñÂÜôÁöÑ‰∫ëÂéüÁîüÊï∞ÊçÆ‰ªìÂ∫ì„ÄÇ                                            | **(ROADMAP)**[10] |
| **muse**[11]           | ÁΩëÊòìÂÜÖÈÉ®Ëâ∫ÊúØËµÑÊ∫êÂÖ±‰∫´Âπ≥Âè∞ÔºåÂêéÁ´Ø‰ΩøÁî® Rust ÁºñÂÜô„ÄÇ                            |                   |
| **hik-proconnect**[12] | Âü∫‰∫é AWS ÊåÅÁª≠ÈõÜÊàêÁöÑÂâçÁ´ØËá™Âä®ÂåñÈÉ®ÁΩ≤Âπ≥Âè∞„ÄÇHikvision ÁöÑ Hik-ProConnect È°πÁõÆ„ÄÇ |                   |
| **warpgate**[13]       | ÈÄÇÁî®‰∫é‰ªª‰Ωï SSH ÂÆ¢Êà∑Á´ØÁöÑÊô∫ËÉΩ SSH Â†°Âûí‰∏ªÊú∫„ÄÇ                                | **(README)**[14]  |
| **lust**[15]           | ‰∏∫È´òÂêûÂêêÈáèÂíåÁºìÂ≠òËÆæËÆ°ÁöÑÂø´ÈÄüËá™Âä®‰ºòÂåñÂõæÂÉèÊúçÂä°Âô®„ÄÇ                            | **(README)**[16]  |
| **aptos**[17]          | ÊûÑÂª∫ÊúÄÂÆâÂÖ®„ÄÅÊúÄÂèØÊâ©Â±ïÁöÑ Layer 1 Âå∫ÂùóÈìæ„ÄÇ                                   | **(WEBSITE)**[18] |
| **poem-casbin**[19]    | Áî®‰∫é Poem Ê°ÜÊû∂ÁöÑ Casbin ËÆøÈóÆÊéßÂà∂‰∏≠Èó¥‰ª∂„ÄÇ                                  | **(WEBSITE)**[20] |
| **poem-grants**[21]    | Áî®‰∫é‰øùÊä§Á´ØÁÇπÁöÑÊéàÊùÉÊâ©Â±ï„ÄÇ                                                  | **(README)**[22]  |

Ëøô‰∏™ Rust ÁºñÁ®ãËØ≠Ë®ÄÁöÑÂÖ®ÂäüËÉΩ‰∏îÊòì‰∫é‰ΩøÁî®ÁöÑ Web Ê°ÜÊû∂Ôºå‰∏ç‰ªÖÊã•ÊúâÂº∫Â§ßÁöÑÂäüËÉΩÔºåËøòÂÖ∑Â§áÂá∫Ëâ≤ÁöÑÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄß„ÄÇÊ≠£Â¶ÇËø™ÁßëÊñØÂΩªÊâÄË®ÄÔºåÁ®ãÂ∫èÂ¶ÇÂêåËØóÊ≠åÔºåÈúÄË¶ÅÊàë‰ª¨‰∏ÄÂ≠ó‰∏ÄÂè•Âú∞Á≤æÂøÉÈõïÁê¢„ÄÇPoem Framework Ê≠£ÊòØËøôÊ†∑‰∏Ä‰∏™ËÆ©Êàë‰ª¨ËÉΩÂ§üÊå•Ê¥íÂàõÊÑè„ÄÅÊûÑÂª∫‰ºòÈõÖ Web Â∫îÁî®ÁöÑÂπ≥Âè∞„ÄÇ ÁâπÊÄß

- Poem Ê°ÜÊû∂ÂÖºÂÖ∑ÊòìÁî®ÊÄßÂíåÈ´òÊÄßËÉΩ„ÄÇ

- ÂáèÂ∞ëÊ≥õÂûãÁöÑ‰ΩøÁî®ÔºåÁÆÄÂåñ‰ª£Á†ÅÁªìÊûÑ„ÄÇ

- Âø´ÈÄü‰∏îÁÅµÊ¥ªÁöÑË∑ØÁî±Êú∫Âà∂„ÄÇ

- ÂÖºÂÆπ tower::Service Âíå tower::Layer„ÄÇ

- ‰ΩøÁî® poem-openapi ÁºñÂÜôÁ¨¶Âêà OAS3 ËßÑËåÉÁöÑ APIÔºåÂπ∂Ëá™Âä®ÁîüÊàêÊñáÊ°£„ÄÇ

- ÁªÑ‰ª∂ÁâπÊÄß

- - ‰∏∫‰∫ÜÈÅøÂÖçÁºñËØë‰∏çÂøÖË¶ÅÁöÑ‰æùËµñÔºåPoem Ê°ÜÊû∂ÈªòËÆ§ÂÖ≥Èó≠‰∫ÜÊüê‰∫õÁâπÊÄßÔºö

| ÁâπÊÄß              | ÊèèËø∞                                                 |
| :---------------- | :--------------------------------------------------- |
| server            | ÂºÄÂêØÊúçÂä°Âô®ÂíåÁõëÂê¨Âô® APIÔºàÈªòËÆ§ÂêØÁî®Ôºâ                   |
| compression       | ÊîØÊåÅËß£ÂéãÁº©ËØ∑Ê±Ç‰ΩìÂíåÂéãÁº©ÂìçÂ∫î‰Ωì                         |
| cookie            | ÊîØÊåÅ Cookie                                          |
| csrf              | ÊîØÊåÅË∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†ÔºàCSRFÔºâ‰øùÊä§                         |
| multipart         | ÊîØÊåÅÂ§öÈÉ®ÂàÜÂÜÖÂÆπÁ±ªÂûã                                   |
| native-tls        | ÊîØÊåÅ‰ΩøÁî® native-tls ÁöÑ HTTP ÊúçÂä°Âô®Ëøá TLS             |
| openssl-tls       | ÊîØÊåÅ‰ΩøÁî® openssl-tls ÁöÑ HTTP ÊúçÂä°Âô®Ëøá TLS            |
| opentelemetry     | ÊîØÊåÅ opentelemetry                                   |
| prometheus        | ÊîØÊåÅ Prometheus                                      |
| redis-session     | ÊîØÊåÅ Redis ‰ºöËØù                                      |
| rustls            | ÊîØÊåÅ‰ΩøÁî® rustls ÁöÑ HTTP ÊúçÂä°Âô®Ëøá TLS                 |
| session           | ÊîØÊåÅ‰ºöËØùÁÆ°ÁêÜ                                         |
| sse               | ÊîØÊåÅÊúçÂä°Âô®ÂèëÈÄÅ‰∫ã‰ª∂ÔºàServer-Sent Events, SSEÔºâ        |
| static-files      | ÊîØÊåÅÈùôÊÄÅÊñá‰ª∂Á´ØÁÇπ                                     |
| tempfile          | ÊîØÊåÅ‰∏¥Êó∂Êñá‰ª∂                                         |
| tower-compat      | ÂÖºÂÆπ tower::Layer Âíå tower::Service ÁöÑÈÄÇÈÖçÂô®         |
| websocket         | ÊîØÊåÅ WebSocket                                       |
| anyhow            | ÈõÜÊàê anyhow Â∫ì                                       |
| eyre06            | ÈõÜÊàê eyre Â∫ìÁöÑ 0.6.x ÁâàÊú¨                            |
| i18n              | ÊîØÊåÅÂõΩÈôÖÂåñ                                           |
| acme-native-roots | ÊîØÊåÅ ACMEÔºàËá™Âä®ËØÅ‰π¶ÁÆ°ÁêÜÁéØÂ¢ÉÔºâ                        |
| acme-webpki-roots | ÊîØÊåÅ‰ΩøÁî® webpki TLS Ê†πËØÅ‰π¶ËÄåÈùûÂéüÁîü TLS Ê†πËØÅ‰π¶ÁöÑ ACME |
| tokio-metrics     | ÈõÜÊàê tokio-metrics Â∫ì                                |
| embed             | ÈõÜÊàê rust-embed Â∫ì                                   |
| xml               | ÈõÜÊàê quick-xml Â∫ì                                    |
| yaml              | ÈõÜÊàê serde-yaml Â∫ì„ÄÇ                                 |

ÂÆâÂÖ®ÊÄß Êú¨ crate ‰ΩøÁî® #![forbid(unsafe_code)] Á°Æ‰øùÊâÄÊúâÂäüËÉΩÂùá‰ΩøÁî® 100% ÂÆâÂÖ®ÁöÑ Rust ÂÆûÁé∞„ÄÇ

Á§∫‰æã

```rust
use poem::{get, handler, listener::TcpListener, web::Path, Route, Server};

#[handler]
fn hello(Path(name): Path<String>) -> String {
    format!("hello: {}", name)
}

#[tokio::main]
async fn main() -> Result<(), std::io::Error> {
    let app = Route::new().at("/hello/:name", get(hello));
    Server::new(TcpListener::bind("0.0.0.0:3000"))
      .run(app)
      .await
}
```

Êõ¥Â§öÁ§∫‰æãÂèØ‰ª•Âú®ËøôÈáåÊâæÂà∞„ÄÇ

**examples**[23]

MSRV Êú¨ crate ÊîØÊåÅÁöÑÊúÄ‰Ωé Rust ÁâàÊú¨‰∏∫ 1.75.0„ÄÇ

Âø´ÈÄüÂÖ•Èó®

```rust
use poem::{get, handler, listener::TcpListener, web::Path, IntoResponse, Route, Server};

#[handler]
fn hello(Path(name): Path<String>) -> String {
    format!("hello: {}", name)
}

#[tokio::main]
async fn main() -> Result<(), std::io::Error> {
    let app = Route::new().at("/hello/:name", get(hello));
    Server::new(TcpListener::bind("0.0.0.0:3000"))
        .run(app)
        .await
}
```

Á´ØÁÇπ Á´ØÁÇπÁâπÂæÅ‰ª£Ë°®ËÉΩÂ§üÂ§ÑÁêÜ HTTP ËØ∑Ê±ÇÁöÑÁ±ªÂûãÔºåÂπ∂ËøîÂõû Result<T: IntoResponse, Error> Á±ªÂûã„ÄÇ

handler ÂÆèÁî®‰∫éÂ∞ÜÂáΩÊï∞ËΩ¨Êç¢‰∏∫Á´ØÁÇπ„ÄÇ

```rust
use poem::{
    error::NotFoundError, handler, http::StatusCode, test::TestClient, Endpoint, Request,
    Result,
};

#[handler]
fn return_str() -> &'static str {
    "hello"
}

#[handler]
fn return_err() -> Result<&'static str, NotFoundError> {
    Err(NotFoundError)
}

let resp = TestClient::new(return_str).get("/").send().await;
resp.assert_status_is_ok();
resp.assert_text("hello").await;

let resp = TestClient::new(return_err).get("/").send().await;
resp.assert_status(StatusCode::NOT_FOUND);
```

ÊèêÂèñÂô® ÊèêÂèñÂô®Áî®‰∫é‰ªé HTTP ËØ∑Ê±Ç‰∏≠ÊèêÂèñ‰ø°ÊÅØ„ÄÇ

Poem Êèê‰æõ‰∫Ü‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÊèêÂèñÂô®ÔºåÁî®‰∫é‰ªé HTTP ËØ∑Ê±Ç‰∏≠ÊèêÂèñÊï∞ÊçÆ„ÄÇ

‰ª•‰∏ãÁ§∫‰æã‰∏≠Ôºåindex ÂáΩÊï∞‰ΩøÁî® 3 ‰∏™ÊèêÂèñÂô®Êù•ÊèêÂèñËøúÁ®ãÂú∞ÂùÄ„ÄÅHTTP ÊñπÊ≥ïÂíå URI„ÄÇ

```
use poem::{
    handler,
    http::{Method, Uri},
    web::RemoteAddr,
};

#[handler]
fn index(remote_addr: &RemoteAddr, method: Method, uri: &Uri) {}
```

ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÊèêÂèñÂô®Âú®ÂèëÁîüÈîôËØØÊó∂‰ºöËøîÂõû 400 ÈîôËØØËØ∑Ê±ÇÔºå‰ΩÜÊúâÊó∂‰Ω†ÂèØËÉΩÊÉ≥Ë¶ÅÊîπÂèòËøôÁßçË°å‰∏∫ÔºåÂõ†Ê≠§‰Ω†ÂèØ‰ª•Ëá™Â∑±Â§ÑÁêÜÈîôËØØ„ÄÇ

‰ª•‰∏ãÁ§∫‰æã‰∏≠ÔºåÂΩì Query ÊèêÂèñÂô®Â§±Ë¥•Êó∂ÔºåÂÆÉÂ∞ÜËøîÂõû 500 ÂÜÖÈÉ®ÊúçÂä°Âô®ÂìçÂ∫îÂíåÈîôËØØÂéüÂõ†„ÄÇ

````rust
use poem::{
    error::ParseQueryError, handler, http::StatusCode, web::Query, IntoResponse, Response,
    Result,
};
use serde::Deserialize;

#[derive(Debug, Deserialize)]
struct Params {
    name: String,
}

#[handler]
fn index(res: Result<Query<Params>>) -> Result<impl IntoResponse> {
    match res {
        Ok(Query(params)) => Ok(params.name.into_response()),
        Err(err) if err.is::<ParseQueryError>() => Ok(Response::builder()
            .status(StatusCode::INTERNAL_SERVER_ERROR)
            .body(err.to_string())),
        Err(err) => Err(err),
    }
}
Ë∑ØÁî±
Êúâ‰∏âÁßçÂèØÁî®ÁöÑË∑ØÁî±ÊñπÂºè„ÄÇ

Ë∑ØÂæÑË∑ØÁî±
ÂüüÂêçË∑ØÁî±
HTTP ÊñπÊ≥ïË∑ØÁî±

```rust
use poem::{get, handler, post, web::Path, Route};

#[handler]
async fn get_user(id: Path<String>) {}

#[handler]
async fn delete_user(id: Path<String>) {}

#[handler]
async fn create_user() {}

let app = Route::new()
    .at("/user/:id", get(get_user).delete(delete_user))
    .at("/user", post(create_user));
````

ÂìçÂ∫î ÊâÄÊúâÂèØËΩ¨Êç¢‰∏∫ HTTP ÂìçÂ∫î Response ÁöÑÁ±ªÂûãÈÉΩÂ∫îÂÆûÁé∞ IntoResponse„ÄÇ

‰ª•‰∏ãÁ§∫‰æã‰∏≠Ôºåstring_response Âíå status_response ÂáΩÊï∞ËøîÂõû String Âíå StatusCode Á±ªÂûãÔºåÂõ†‰∏∫ Poem Â∑≤‰∏∫ÂÆÉ‰ª¨ÂÆûÁé∞‰∫Ü IntoResponse trait„ÄÇ

no_response ÂáΩÊï∞‰∏çËøîÂõûÂÄº„ÄÇÊàë‰ª¨ÂèØ‰ª•ËÆ§‰∏∫ÂÆÉÁöÑËøîÂõûÁ±ªÂûãÊòØ ()ÔºåËÄå Poem ‰πü‰∏∫ () ÂÆûÁé∞‰∫Ü IntoResponseÔºåÂÆÉÊÄªÊòØË¢´ËΩ¨Êç¢‰∏∫ 200 OK„ÄÇ

result_response ÂáΩÊï∞ËøîÂõû Result Á±ªÂûãÔºåËøôÊÑèÂë≥ÁùÄÂèØËÉΩ‰ºöÂèëÁîüÈîôËØØ„ÄÇ

```rust
use poem::{handler, http::StatusCode, Result};

#[handler]
fn string_response() -> String {
    todo!()
}

#[handler]
fn status_response() -> StatusCode {
    todo!()
}

#[handler]
fn no_response() {}

#[handler]
fn result_response() -> Result<String> {
    todo!()
}
```

ÈîôËØØÂ§ÑÁêÜ ‰ª•‰∏ãÁ§∫‰æãÂú® NotFoundError ÂèëÁîüÊó∂ËøîÂõûËá™ÂÆö‰πâÂÜÖÂÆπ„ÄÇ

```
use poem::{
    error::NotFoundError, handler, http::StatusCode, EndpointExt, IntoResponse, Response, Route,
};

#[handler]
fn foo() {}

#[handler]
fn bar() {}

let app =
    Route::new()
        .at("/foo", foo)
        .at("/bar", bar)
        .catch_error(|err: NotFoundError| async move {
            Response::builder()
                .status(StatusCode::NOT_FOUND)
                .body("custom not found")
        });
```

‰∏≠Èó¥‰ª∂ ‰Ω†ÂèØ‰ª•Âú® Endpoint ‰∏äË∞ÉÁî® with ÊñπÊ≥ïÊù•Â∞Ü‰∏≠Èó¥‰ª∂Â∫îÁî®Âà∞Á´ØÁÇπ„ÄÇÂÆûÈôÖ‰∏äÔºåÂÆÉ‰ºöÂ∞ÜÂéüÂßãÁ´ØÁÇπËΩ¨Êç¢‰∏∫Êñ∞ÁöÑÁ´ØÁÇπ„ÄÇ

```
use poem::{handler, middleware::Tracing, EndpointExt, Route};

#[handler]
fn index() {}

let app = Route::new().at("/", index).with(Tracing);
```

‰Ω†ÂèØ‰ª•ÂàõÂª∫Ëá™Â∑±ÁöÑ‰∏≠Èó¥‰ª∂Ôºå‰πüÂèØ‰ª•Êü•Áúã Middleware„ÄÇ

Crate ÁâπÊÄß ‰∏∫‰∫ÜÈÅøÂÖçÁºñËØëÊú™‰ΩøÁî®ÁöÑ‰æùËµñÔºåPoem ÈªòËÆ§ÂÖ≥Èó≠‰∫ÜÊüê‰∫õÁâπÊÄßÔºö

| ÁâπÊÄß              | ÊèèËø∞                                                 |
| :---------------- | :--------------------------------------------------- |
| server            | ÊúçÂä°Âô®ÂíåÁõëÂê¨Âô® APIÔºàÈªòËÆ§ÂêØÁî®Ôºâ                       |
| compression       | ÊîØÊåÅËß£ÂéãÁº©ËØ∑Ê±Ç‰ΩìÂíåÂéãÁº©ÂìçÂ∫î‰Ωì                         |
| cookie            | ÊîØÊåÅ Cookie                                          |
| csrf              | ÊîØÊåÅË∑®Á´ôËØ∑Ê±Ç‰º™ÈÄ†ÔºàCSRFÔºâ‰øùÊä§                         |
| multipart         | ÊîØÊåÅÂ§öÈÉ®ÂàÜ                                           |
| native-tls        | ÊîØÊåÅ‰ΩøÁî® native-tls ÁöÑ HTTP ÊúçÂä°Âô®Ëøá TLS             |
| openssl-tls       | ÊîØÊåÅ‰ΩøÁî® openssl-tls ÁöÑ HTTP ÊúçÂä°Âô®Ëøá TLS            |
| opentelemetry     | ÊîØÊåÅ opentelemetry                                   |
| prometheus        | ÊîØÊåÅ Prometheus                                      |
| redis-session     | ÊîØÊåÅ Redis ‰ºöËØù                                      |
| rustls            | ÊîØÊåÅ‰ΩøÁî® rustls ÁöÑ HTTP ÊúçÂä°Âô®Ëøá TLS                 |
| session           | ÊîØÊåÅ‰ºöËØù                                             |
| sse               | ÊîØÊåÅÊúçÂä°Âô®ÂèëÈÄÅ‰∫ã‰ª∂ÔºàSSEÔºâ                            |
| tempfile          | ÊîØÊåÅ‰∏¥Êó∂Êñá‰ª∂                                         |
| test              | ÊµãËØïÁ´ØÁÇπÁöÑÂÆûÁî®Â∑•ÂÖ∑„ÄÇ                                 |
| tower-compat      | ÈÄÇÈÖçÂô®ÔºåÁî®‰∫é tower::Layer Âíå tower::Service„ÄÇ        |
| websocket         | ÊîØÊåÅ WebSocket                                       |
| anyhow            | ÈõÜÊàê anyhow crate„ÄÇ                                  |
| eyre06            | ÈõÜÊàê eyre crate ÁöÑ 0.6.x ÁâàÊú¨„ÄÇ                      |
| i18n              | ÊîØÊåÅÂõΩÈôÖÂåñ                                           |
| acme-native-roots | ÊîØÊåÅ ACMEÔºàËá™Âä®ËØÅ‰π¶ÁÆ°ÁêÜÁéØÂ¢ÉÔºâ                        |
| acme-webpki-roots | ÊîØÊåÅ‰ΩøÁî® webpki TLS Ê†πËØÅ‰π¶ËÄåÈùûÂéüÁîü TLS Ê†πËØÅ‰π¶ÁöÑ ACME |
| tokio-metrics     | ÈõÜÊàê tokio-metrics crate„ÄÇ                           |
| embed             | ÈõÜÊàê rust-embed crate„ÄÇ                              |
| xml               | ÈõÜÊàê quick-xml crate„ÄÇ                               |
| yaml              | ÈõÜÊàê serde-yaml crate„ÄÇ                              |

ÈáçÊñ∞ÂØºÂá∫

```
pub use endpoint::Endpoint;
pub use endpoint::EndpointExt;
pub use endpoint::IntoEndpoint;
pub use error::Error;
pub use error::Result;
pub use middleware::Middleware;
pub use web::FromRequest;
pub use web::IntoResponse;
pub use web::RequestBody;
```

Ê®°Âùó

- endpoint | ‰∏éÁ´ØÁÇπÁõ∏ÂÖ≥ÁöÑÁ±ªÂûã„ÄÇ
- error | ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÈîôËØØÁ±ªÂûã„ÄÇ
- http | ÈÄöÁî®ÁöÑÂ∏∏ËßÅ HTTP Á±ªÂûãÂ∫ì„ÄÇ
- i18n | ÂõΩÈôÖÂåñÁõ∏ÂÖ≥Á±ªÂûã„ÄÇ
- listenerserver | Â∏∏Áî®ÁöÑÁõëÂê¨Âô®„ÄÇ
- middleware | Â∏∏Áî®ÁöÑ‰∏≠Èó¥‰ª∂„ÄÇ
- session | ‰ºöËØùÁÆ°ÁêÜ„ÄÇ
- testtest | ÊµãËØïÁ´ØÁÇπÁöÑÂÆûÁî®Â∑•ÂÖ∑„ÄÇ
- web | Â∏∏Áî®‰ΩúÊèêÂèñÂô®ÊàñÂìçÂ∫îÁöÑÁ±ªÂûã„ÄÇ ÁªìÊûÑ‰Ωì
- Body | ËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑ‰∏ª‰ΩìÂØπË±°„ÄÇ
- OnUpgrade | ÂèØËÉΩÁöÑ HTTP ÂçáÁ∫ßÁöÑ future„ÄÇ
- PathPattern | ÂèØ‰ª•‰ªéËØ∑Ê±Ç‰∏≠Ëé∑ÂèñË∑ØÂæÑÊ®°ÂºèÁöÑÂÆπÂô®„ÄÇ
- Request | Ë°®Á§∫‰∏Ä‰∏™ HTTP ËØ∑Ê±Ç„ÄÇ
- RequestBuilder | ‰∏Ä‰∏™ËØ∑Ê±ÇÊûÑÂª∫Âô®„ÄÇ
- RequestParts | HTTP ËØ∑Ê±ÇÁöÑÁªÑ‰ª∂ÈÉ®ÂàÜ„ÄÇ
- Response | Ë°®Á§∫‰∏Ä‰∏™ HTTP ÂìçÂ∫î„ÄÇ
- ResponseBuilder | ‰∏Ä‰∏™ÂìçÂ∫îÊûÑÂª∫Âô®„ÄÇ
- ResponseParts | HTTP ÂìçÂ∫îÁöÑÁªÑ‰ª∂ÈÉ®ÂàÜ„ÄÇ
- Route | Ë∑ØÁî±ÂØπË±°
- RouteDomain | ‰∏ªÊú∫Â§¥ÁöÑË∑ØÁî±ÂØπË±°
- RouteMethod | HTTP ÊñπÊ≥ïÁöÑË∑ØÁî±ÂØπË±°
- RouteScheme | ËØ∑Ê±ÇÊñπÊ°àÁöÑË∑ØÁî±ÂØπË±°
- Server | ‰∏Ä‰∏™ HTTP ÊúçÂä°Âô®„ÄÇ
- Upgraded | ‰∏Ä‰∏™ÂçáÁ∫ßÁöÑ HTTP ËøûÊé•„ÄÇ Êûö‰∏æ
- Addr | ‰∏Ä‰∏™ÁΩëÁªúÂú∞ÂùÄ„ÄÇ ÂáΩÊï∞
- connect | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().connect(ep)„ÄÇ
- delete | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().delete(ep)„ÄÇ
- get | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().get(ep)„ÄÇ
- head | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().head(ep)„ÄÇ
- options | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().options(ep)„ÄÇ
- patch | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().patch(ep)„ÄÇ
- post | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().post(ep)„ÄÇ
- put | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().put(ep)„ÄÇ
- trace | ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁ±ª‰ºº‰∫é RouteMethod::new().trace(ep)„ÄÇ Â±ûÊÄßÂÆè
- handler | Â∞ÜÂºÇÊ≠•ÂáΩÊï∞ÂåÖË£Ö‰∏∫Á´ØÁÇπ„ÄÇ

### ÂèÇËÄÉËµÑÊñô

[1] (README): _poem/README.md_

[2] (CHANGELOG): _poem/CHANGELOG.md_

[3] (README): _poem-lambda/README.md_

[4] (CHANGELOG): _poem-lambda/CHANGELOG.md_

[5] (README): _poem-openapi/README.md_

[6] (CHANGELOG): _poem-openapi/CHANGELOG.md_

[7] delicate: *https://github.com/BinChengZhao/delicate*

[8] (README): *https://delicate-rs.github.io/Roadmap.html*

[9] databend: *https://github.com/datafuselabs/databend*

[10] (ROADMAP): *https://github.com/datafuselabs/databend/issues/746*

[11] muse: *https://leihuo.163.com/*

[12] hik-proconnect: *https://www.hikvision.com/en/products/software/hik-proconnect/*

[13] warpgate: *https://github.com/eugeny/warpgate*

[14] (README): *https://github.com/warp-tech/warpgate/blob/main/README.md*

[15] lust: *https://github.com/ChillFish8/lust*

[16] (README): *https://github.com/ChillFish8/lust/blob/master/README.md*

[17] aptos: *https://github.com/aptos-labs/aptos-core*

[18] (WEBSITE): *https://aptoslabs.com/*

[19] poem-casbin: *https://github.com/casbin-rs/poem-casbin*

[20] (WEBSITE): *https://casbin.org/*

[21] poem-grants: *https://github.com/DDtKey/protect-endpoints/tree/main/poem-grants*

[22] (README): *https://github.com/DDtKey/protect-endpoints/blob/main/poem-grants/README.md*

[23] examples: *https://github.com/poem-web/poem/tree/master/examples*

## Rust ‰∏é RouilleÔºöËΩªËàûÈ£ûÊâ¨ÁöÑ Web ÂºÄÂèëÊñ∞Á∫™ÂÖÉ"‚Äî‚Äî Rust Web ÂæÆÊ°ÜÊû∂

**GithubÂú∞ÂùÄ**Ôºöhttps://github.com/tomaka/rouille

> `Rouille` ÊòØ‰∏Ä‰∏™ÂæÆÁΩëÁªúÊ°ÜÊû∂Â∫ì„ÄÇÂÆÉÂàõÂª∫‰∏Ä‰∏™ÁõëÂê¨Â•óÊé•Â≠óÂπ∂Ëß£ÊûêÊù•Ëá™ÂÆ¢Êà∑Á´ØÁöÑ‰º†ÂÖ• `HTTP` ËØ∑Ê±ÇÔºåÁÑ∂ÂêéÂ∞ÜÂ§ÑÁêÜËØ∑Ê±ÇÁöÑÂ∑•‰Ωú‰∫§Âà∞‰Ω†Êâã‰∏≠„ÄÇ

> ‚ùù
>
> Â¶ÇÊûú‰Ω†ÁÜüÊÇâ `Rust`Ôºå`Rouille` Ë¢´ËÆæËÆ°‰∏∫Áõ¥ËßÇÊòìÁî®„ÄÇ‰∏éÁ±ª‰ºº `Express` ÁöÑÊ°ÜÊû∂‰∏çÂêåÔºåÂÆÉ‰∏ç‰ΩøÁî®‰∏≠Èó¥‰ª∂„ÄÇÁõ∏ÂèçÔºå‰∏ÄÂàáÈÉΩÊòØ‰ª•Á∫øÊÄßÊñπÂºèÂ§ÑÁêÜÁöÑ„ÄÇ
>
> ‚ùû

> ‚ùù
>
> ‰∏éÁΩëÁ´ôÂØÜÂàáÁõ∏ÂÖ≥ÁöÑÊ¶ÇÂøµÔºàÂ¶Ç `cookie`„ÄÅ`CGI`„ÄÅË°®ÂçïËæìÂÖ•Á≠âÔºâÈÉΩÁî± `Rouille` Áõ¥Êé•ÊîØÊåÅ„ÄÇÊõ¥‰∏ÄËà¨ÁöÑÊ¶ÇÂøµÔºàÂ¶ÇÊï∞ÊçÆÂ∫ìÂ§ÑÁêÜÊàñÊ®°ÊùøÔºâÂàô‰∏çÁõ¥Êé•Â§ÑÁêÜÔºåÂõ†‰∏∫ÂÆÉ‰ª¨Ë¢´ËÆ§‰∏∫ÊòØ‰∏éÂæÆÁΩëÁªúÊ°ÜÊû∂Ê≠£‰∫§ÁöÑ„ÄÇÁÑ∂ËÄåÔºå`Rouille` ÁöÑËÆæËÆ°‰ΩøÂÖ∂Êòì‰∫é‰∏é‰ªª‰ΩïÁ¨¨‰∏âÊñπÂ∫ìÁªìÂêà‰ΩøÁî®ÔºåÊó†ÈúÄ‰ªª‰ΩïËÉ∂Âêà‰ª£Á†Å„ÄÇ
>
> ‚ùû

### ÂÆâË£Ö Rust

1. **„ÄåÂÆâË£Ö Rust ÁºñËØëÂô®„Äç**ÔºöÈ¶ñÂÖàÔºå‰Ω†ÈúÄË¶ÅÂÆâË£Ö `Rust` ÁºñËØëÂô®ÔºåËøôÂèØ‰ª•ÈÄöËøá `Rust` ÁöÑÂÆòÊñπÁΩëÁ´ôËé∑ÂèñÂÆâË£ÖÊåáÂçóÔºåÊàñËÄÖ‰ΩøÁî®ÂåÖÁÆ°ÁêÜÂô®Â¶Ç `curl` Âú®ÁªàÁ´Ø‰∏≠ËøêË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö

```
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

ÂÆâË£ÖÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáËøêË°å `rustc --version` Âíå `cargo --version` Êù•Ê£ÄÊü• Rust ÁºñËØëÂô®ÂíåÂåÖÁÆ°ÁêÜÂô®ÊòØÂê¶ÂÆâË£ÖÊàêÂäü„ÄÇ

### ÂÆâË£Ö Rouille

1. **„ÄåÂàõÂª∫Êñ∞ÁöÑ Rust È°πÁõÆ„Äç**Ôºö‰ΩøÁî® CargoÔºàRust ÁöÑÂåÖÁÆ°ÁêÜÂô®ÔºâÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ Rust È°πÁõÆÔºö

```
cargo new my_rust_web_app
cd my_rust_web_app
```

1. **„ÄåÊ∑ªÂä† Rouille ‰æùËµñ„Äç**ÔºöÂú®È°πÁõÆÁöÑ `Cargo.toml` Êñá‰ª∂‰∏≠Ê∑ªÂä† Rouille ‰Ωú‰∏∫‰æùËµñÈ°π„ÄÇÊâìÂºÄ `Cargo.toml` Êñá‰ª∂ÔºåÂπ∂Âú® `[dependencies]` ÈÉ®ÂàÜÊ∑ªÂä† Rouille ÁöÑÊù°ÁõÆÔºö

```
[dependencies]
rouille = "x.y" # ËØ∑Â∞Ü "x.y" ÊõøÊç¢‰∏∫ Rouille ÁöÑÊúÄÊñ∞ÁâàÊú¨Âè∑
```

1. **„ÄåÁºñÂÜô Web Â∫îÁî®‰ª£Á†Å„Äç**ÔºöÂú® `src/main.rs` Êñá‰ª∂‰∏≠Ôºå‰Ω†ÂèØ‰ª•ÂºÄÂßãÁºñÂÜô‰ΩøÁî® Rouille ÁöÑ Web Â∫îÁî®‰ª£Á†Å„ÄÇ‰ª•‰∏ãÊòØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑ‚ÄúHello, World‚ÄùÁ§∫‰æãÔºö

```
extern crate rouille;

fn main() {
   rouille::start_server("127.0.0.1:8080", move |request| {
       match request.get_path() {
           "/" => {
               let response = rouille::Response::text("Hello, World!");
               response
           },
           _ => {
               let mut not_found = rouille::Response::new("Not found");
               not_found.set_status(rouille::ResponseStatus::NotFound);
               not_found
           }
       }
   });
}
```

### ËøêË°å Web Â∫îÁî®

1. **„ÄåÁºñËØëÂπ∂ËøêË°åÈ°πÁõÆ„Äç**ÔºöÂú®È°πÁõÆÁõÆÂΩï‰∏≠Ôºå‰ΩøÁî® Cargo ÁºñËØëÂπ∂ËøêË°å‰Ω†ÁöÑ Rust Web Â∫îÁî®Ôºö

```
cargo run
```

ËøôÂ∞ÜÂêØÂä®‰∏Ä‰∏™ Web ÊúçÂä°Âô®ÔºåÁõëÂê¨ 8080 Á´ØÂè£„ÄÇ

1. **„ÄåËÆøÈóÆ‰Ω†ÁöÑ Web Â∫îÁî®„Äç**ÔºöÊâìÂºÄ‰Ω†ÁöÑÁΩëÁªúÊµèËßàÂô®ÔºåËÆøÈóÆ `http://127.0.0.1:8080`Ôºå‰Ω†Â∫îËØ•‰ºöÁúãÂà∞ÊòæÁ§∫‚ÄúHello, World!‚ÄùÁöÑÈ°µÈù¢„ÄÇ

### ÈÖçÁΩÆ Web Â∫îÁî®

1. **„ÄåËá™ÂÆö‰πâÈÖçÁΩÆ„Äç**ÔºöÊ†πÊçÆ‰Ω†ÁöÑÈúÄÊ±ÇÔºå‰Ω†ÂèØËÉΩÈúÄË¶ÅÂØπ Rouille ËøõË°å‰∏Ä‰∫õÈÖçÁΩÆÔºåÊØîÂ¶ÇËÆæÁΩÆÈùôÊÄÅÊñá‰ª∂ÁõÆÂΩï„ÄÅË∑ØÁî±„ÄÅ‰∏≠Èó¥‰ª∂Á≠â„ÄÇËøô‰∫õÈÖçÁΩÆÈÄöÂ∏∏Âú® `main.rs` Êñá‰ª∂‰∏≠ËøõË°å„ÄÇ
2. **„ÄåÈòÖËØªÊñáÊ°£„Äç**Ôºö‰∏∫‰∫ÜÊõ¥Ê∑±ÂÖ•Âú∞‰∫ÜËß£Â¶Ç‰Ωï‰ΩøÁî® RouilleÔºå‰Ω†ÂèØ‰ª•ËÆøÈóÆÂÆÉÁöÑÂÆòÊñπÊñáÊ°£ Rouille DocsÔºå‰ª•Ëé∑ÂèñÊõ¥Â§öÈ´òÁ∫ßÁî®Ê≥ïÂíåÊúÄ‰Ω≥ÂÆûË∑µ„ÄÇ

### Ê∑±ÂÖ•Êé¢ËÆ®

#### ÂºÄÂßã‰ΩøÁî®

Â¶ÇÊûú‰Ω†ÂØπ HTTP ÁöÑÂ∑•‰ΩúÂéüÁêÜÊúâ‰∏ÄËà¨‰∫ÜËß£ÔºåÊñáÊ°£ Âíå ÊñáÊ°£ÈΩêÂÖ®ÁöÑÁ§∫‰æã ÊòØÂ∏ÆÂä©‰Ω†ÂÖ•Èó®ÁöÑÂ•ΩËµÑÊ∫ê„ÄÇ

### Rouille Â∫ìÊ¶ÇËßà

#### ÂºÄÂßã‰ΩøÁî®

- **„ÄåÂàõÂª∫ÊúçÂä°Âô®„Äç**ÔºöÈÄöËøáË∞ÉÁî®`start_server`ÂáΩÊï∞ÁõëÂê¨Á´ØÂè£„ÄÇ
- **„ÄåÂ§ÑÁêÜËØ∑Ê±Ç„Äç**ÔºöÂΩìÊé•Êî∂Âà∞ HTTP ËØ∑Ê±ÇÊó∂ÔºåË∞ÉÁî®Á¨¨‰∫å‰∏™ÂèÇÊï∞‰º†ÈÄíÁöÑÈó≠ÂåÖÔºåËØ•Èó≠ÂåÖÂøÖÈ°ªËøîÂõû‰∏Ä‰∏™`Response`ÂØπË±°„ÄÇ

#### ËØ∑Ê±ÇÂàÜÊûê

- **„ÄåËØ∑Ê±ÇÂØπË±°„Äç**ÔºöÈó≠ÂåÖÊé•Êî∂ÁöÑÂèÇÊï∞ÊòØ‰∏Ä‰∏™`Request`ÂØπË±°Ôºå‰ª£Ë°®ÂÆ¢Êà∑Á´ØÂèëÂá∫ÁöÑËØ∑Ê±Ç„ÄÇ
- **„ÄåË∑ØÁî±„Äç**Ôºö‰ΩøÁî®`router!`ÂÆèÊ†πÊçÆ URL ÂàÜÊ¥æ‰∏çÂêå‰ª£Á†Å„ÄÇ
- **„ÄåËØ∑Ê±Ç‰ΩìÂàÜÊûê„Äç**ÔºöÂ§ÑÁêÜ JSON ËæìÂÖ•„ÄÅË°®ÂçïËæìÂÖ•Á≠âÔºåÊü•Áúã`input`Ê®°Âùó„ÄÇ

#### ÂìçÂ∫îËøîÂõû

- **„ÄåËá™ÂÆö‰πâÂìçÂ∫î„Äç**ÔºöËøîÂõû`Response`ÂØπË±°ÔºåÊâÄÊúâÊàêÂëòÈÉΩÊòØÂÖ¨ÂºÄÁöÑÔºåÂèØ‰ª•ÊåâÈúÄËá™ÂÆö‰πâ„ÄÇ
- **„ÄåÈùôÊÄÅÊñá‰ª∂ÊúçÂä°„Äç**ÔºöÊü•Áúã`match_assets`ÂáΩÊï∞„ÄÇ
- **„ÄåÂÜÖÂÆπÁºñÁ†Å„Äç**ÔºöÂ∫îÁî®ÂÜÖÂÆπÁºñÁ†ÅÔºàÂåÖÊã¨ gzip Êàñ deflate ÂéãÁº©ÔºâÔºåÊü•Áúã`content_encoding`Ê®°Âùó„ÄÇ

#### ÈáçÂØºÂá∫

- `percent_encoding`ÔºöÁôæÂàÜÂè∑ÁºñÁ†Å„ÄÇ
- `url`ÔºöURL Â§ÑÁêÜ„ÄÇ

#### Ê®°Âùó

- **„Äåcgi„Äç**ÔºöÈÄöËøá CGI ËÆ©Â§ñÈÉ®ËøõÁ®ãÂ§ÑÁêÜËØ∑Ê±Ç„ÄÇ
- **„Äåcontent_encoding„Äç**ÔºöÂØπÂìçÂ∫îÂ∫îÁî®ÂÜÖÂÆπÁºñÁ†Å„ÄÇ
- **„Äåinput„Äç**ÔºöÂàÜÊûêËØ∑Ê±ÇÁöÑÂ§¥ÈÉ®ÂíåÊ≠£Êñá„ÄÇ
- **„Äåproxy„Äç**ÔºöÂ∞ÜËØ∑Ê±ÇËΩ¨ÂèëËá≥Âè¶‰∏Ä‰∏™ HTTP ÊúçÂä°Âô®„ÄÇ
- **„Äåsession„Äç**Ôºö‰ºöËØùÂ§ÑÁêÜ„ÄÇ
- **„Äåwebsocket„Äç**ÔºöWebsocket ÊîØÊåÅ„ÄÇ

#### ÂÆè

- **„Äåaccept„Äç**ÔºöÊ†πÊçÆ`Accept`Â§¥ÂÄºÂàÜÊ¥æ„ÄÇ
- **„Äåassert_or_400„Äç**ÔºöÊù°‰ª∂‰∏çÊàêÁ´ãÊó∂ËøîÂõû 400 ÂìçÂ∫î„ÄÇ
- **„Äåfind_route„Äç**ÔºöÁõ¥Âà∞ÊâæÂà∞Èùû 404 ÁöÑÈîôËØØÁ†Å„ÄÇ
- **„Äåpost_input„Äç**ÔºöËß£Êûê HTML Ë°®ÂçïËæìÂÖ•„ÄÇ
- **„Äårouter„Äç**ÔºöË∑ØÁî±ÂåπÈÖçË°®ËææÂºè„ÄÇ
- **„Äåtry_or_400„Äç**ÔºöË°®ËææÂºèÈîôËØØÊó∂ËøîÂõû 400 ÂìçÂ∫î„ÄÇ
- **„Äåtry_or_404„Äç**ÔºöË°®ËææÂºèÈîôËØØÊó∂ËøîÂõû 404 ÂìçÂ∫î„ÄÇ

#### ÁªìÊûÑ‰Ωì

- **„ÄåHeadersIter„Äç**ÔºöËØ∑Ê±Ç‰∏≠Â§¥ÈÉ®ÂàóË°®ÁöÑËø≠‰ª£Âô®„ÄÇ
- **„ÄåRequest„Äç**ÔºöÂøÖÈ°ªÂìçÂ∫îÁöÑËØ∑Ê±Ç„ÄÇ
- **„ÄåRequestBody„Äç**ÔºöÊèê‰æõËØ∑Ê±ÇÊ≠£ÊñáÁöÑËÆøÈóÆ„ÄÇ
- **„ÄåResponse„Äç**ÔºöÂåÖÂê´ÂìçÂ∫îÂéüÂûã„ÄÇ
- **„ÄåResponseBody„Äç**ÔºöË°®Á§∫ÂìçÂ∫îÊ≠£ÊñáÁöÑ‰∏çÈÄèÊòéÁ±ªÂûã„ÄÇ
- **„ÄåServer„Äç**ÔºöÁõëÂê¨ÊúçÂä°Âô®„ÄÇ

#### Â∏∏Èáè

- **„ÄåDEFAULT_ENCODE_SET„Äç**ÔºöÈªòËÆ§ÁºñÁ†ÅÈõÜ„ÄÇ

#### ÁâπÂæÅÔºàTraitsÔºâ

- **„ÄåReadWrite„Äç**ÔºöËÅöÂêà`Read`Âíå`Write`ÁâπÂæÅÁöÑËôöÊãüÁâπÂæÅ„ÄÇ
- **„ÄåUpgrade„Äç**ÔºöÂèØ‰ª•Êé•ÁÆ°ÂéüÂßãËøûÊé•Âà∞ÂÆ¢Êà∑Á´ØÊï∞ÊçÆÁöÑÂØπË±°ÁâπÂæÅ„ÄÇ

#### ÂáΩÊï∞

- **„Äåextension_to_mime„Äç**ÔºöÊ†πÊçÆÊñá‰ª∂Êâ©Â±ïÂêçËøîÂõû MIME Á±ªÂûãÔºåÂ¶ÇÊûúÊâ©Â±ïÂêçÊú™Áü•ÂàôËøîÂõû`application/octet-stream`„ÄÇ
- **„Äålog„Äç**Ôºö‰∏∫ÊØè‰∏™ËØ∑Ê±ÇÂêëÁªôÂÆöÁöÑÂÜôÂÖ•Âô®Ê∑ªÂä†Êó•ÂøóÊù°ÁõÆ„ÄÇ
- **„Äålog_custom„Äç**ÔºöÂ§ÑÁêÜËØ∑Ê±ÇÂêéË∞ÉÁî®Ëá™ÂÆö‰πâÊó•ÂøóÂáΩÊï∞„ÄÇ
- **„Äåmatch_assets„Äç**ÔºöÂú®Ë∑ØÂæÑ‰∏≠ÊêúÁ¥¢ÂåπÈÖçÁªôÂÆöËØ∑Ê±ÇÁöÑÊñá‰ª∂„ÄÇÂ¶ÇÊûúÊâæÂà∞Êñá‰ª∂ÔºåËøîÂõû‰∏Ä‰∏™ÂèØ‰ª•Êèê‰æõËØ•Êñá‰ª∂ÁöÑ`Response`ÔºõÂ¶ÇÊûúÊú™ÊâæÂà∞ÔºåËøîÂõû 404 ÂìçÂ∫î„ÄÇ
- **„Äåstart_server„Äç**ÔºöÂêØÂä®ÊúçÂä°Âô®Âπ∂‰ΩøÁî®ÁªôÂÆöÁöÑËØ∑Ê±ÇÂ§ÑÁêÜÂô®„ÄÇ
- **„Äåstart_server_with_pool„Äç**Ôºö‰∏é`start_server`Áõ∏ÂêåÔºå‰ΩÜ‰ΩøÁî®ÊåáÂÆöÂ§ßÂ∞èÁöÑ`ThreadPool`„ÄÇ

ÈÄöËøá‰ª•‰∏äÊ†ºÂºèÔºåÂèØ‰ª•Ê∏ÖÊô∞Âú∞Â±ïÁ§∫ Rouille Â∫ìÁöÑ‰∏ªË¶ÅÂäüËÉΩÂíå‰ΩøÁî®ÊñπÊ≥ï„ÄÇ

### ‰ª£Á†ÅÂÆûÊàò

#### Ê°à‰æã 1 ‰Ω†Â•Ω‰∏ñÁïå

examples/hello-world.rs

```rust
// ÁâàÊùÉÊâÄÊúâ (c) 2016 Rouille ÂºÄÂèëËÄÖ
// Ê†πÊçÆ Apache ËÆ∏ÂèØËØÅÔºåÁâàÊú¨ 2.0 ËÆ∏ÂèØ
// <LICENSE-APACHE Êàñ http://www.apache.org/licenses/LICENSE-2.0> Êàñ MIT ËÆ∏ÂèØËØÅ
// <LICENSE-MIT Êàñ http://opensource.org/licenses/MIT>ÔºåÊÇ®ÂèØÈÄâÊã©ÂÖ∂‰∏Ä„ÄÇ
// È°πÁõÆ‰∏≠Êê∫Â∏¶Ê≠§Á±ªÈÄöÁü•ÁöÑÊâÄÊúâÊñá‰ª∂ÔºåÈô§ÈùûÊ†πÊçÆËøô‰∫õÊù°Ê¨æÔºåÂê¶Âàô‰∏çÂæóË¢´Â§çÂà∂„ÄÅ‰øÆÊîπÊàñÂàÜÂèë„ÄÇ

#![allow(unreachable_code)] // ÂÖÅËÆ∏‰∏çÂèØËææ‰ª£Á†Å
#[macro_use] // ÂÆèÂØºÂÖ•
extern crate rouille; // ÂØºÂÖ• rouille Â∫ì

fn main() {
    println!("Áé∞Âú®Ê≠£Âú®ÁõëÂê¨ localhost:8000");

    // `start_server` ÂáΩÊï∞Âú®ÁªôÂÆöÂú∞ÂùÄ‰∏äÊ∞∏‰πÖÁõëÂê¨„ÄÇ
    rouille::start_server("localhost:8000", move |request| {
        // ‰º†ÈÄíÁªô `start_server` ÁöÑÈó≠ÂåÖÂ∞Ü‰∏∫ÊØè‰∏™ÂÆ¢Êà∑Á´ØËØ∑Ê±ÇË∞ÉÁî®‰∏ÄÊ¨°„ÄÇ
        // ÂΩìÊúâÂ§ö‰∏™ÂÆ¢Êà∑Á´ØÊó∂ÔºåÂ∞ÜÂπ∂ÂèëÂ§öÊ¨°Ë∞ÉÁî®„ÄÇ
        // ËøôÈáåÂºÄÂßãËØ∑Ê±ÇÁöÑÂÆûÈôÖÂ§ÑÁêÜÁ®ãÂ∫è„ÄÇ

        // `router!` ÂÆè‰∏é Rust Ê†∏ÂøÉÂ∫ì‰∏≠ÁöÑ `match` Ë°®ËææÂºèÈùûÂ∏∏Áõ∏‰ºº„ÄÇ
        // ÂÆèÊé•ÂèóËØ∑Ê±Ç‰Ωú‰∏∫ÂèÇÊï∞ÔºåÂπ∂Ë∑≥ËΩ¨Âà∞Á¨¨‰∏Ä‰∏™ÂåπÈÖçËØ∑Ê±ÇÁöÑÂùó„ÄÇ
        //
        // ÊØè‰∏™ÂèØËÉΩÁöÑÂùóÊûÑÂª∫‰∏Ä‰∏™ `Response` ÂØπË±°„ÄÇÂ∞±ÂÉè Rust ‰∏≠ÁöÑÂ§ßÂ§öÊï∞‰∫ãÁâ©‰∏ÄÊ†∑Ôºå
        // `router!` ÂÆèÊòØ‰∏Ä‰∏™Ë°®ËææÂºèÔºåÂÖ∂ÂÄºÊòØÁî±Ë¢´Ë∞ÉÁî®ÂùóÊûÑÂª∫ÁöÑ `Response`„ÄÇ
        // Áî±‰∫é `router!` ÊòØËøô‰∏™Èó≠ÂåÖÁöÑÊúÄÂêé‰∏ÄÈÉ®ÂàÜ‰ª£Á†ÅÔºå`Response` ÈöèÂêéË¢´‰º†ÈÄíÂõû `start_server` ÂáΩÊï∞Âπ∂ÂèëÈÄÅÁªôÂÆ¢Êà∑Á´Ø„ÄÇ
        router!(request,
            (GET) (/) => {
                // Â¶ÇÊûúËØ∑Ê±ÇÁöÑ URL ÊòØ `/`ÔºåÊàë‰ª¨Ë∑≥ËΩ¨Âà∞ËøôÈáå„ÄÇ
                // Ëøô‰∏™ÂùóÊûÑÂª∫‰∏Ä‰∏™ÈáçÂÆöÂêëÂà∞ `/hello/world` ÁöÑ `Response` ÂØπË±°„ÄÇ
                rouille::Response::redirect_302("/hello/world")
            },

            (GET) (/hello/world) => {
                // Â¶ÇÊûúËØ∑Ê±ÇÁöÑ URL ÊòØ `/hello/world`ÔºåÊàë‰ª¨Ë∑≥ËΩ¨Âà∞ËøôÈáå„ÄÇ
                println!("hello world");

                // ÊûÑÂª∫‰∏Ä‰∏™ÂåÖÂê´ "hello world" ÊñáÊú¨ÁöÑ `Response` ÂØπË±°„ÄÇ
                rouille::Response::text("hello world")
            },

            (GET) (/panic) => {
                // Â¶ÇÊûúËØ∑Ê±ÇÁöÑ URL ÊòØ `/panic`ÔºåÊàë‰ª¨Ë∑≥ËΩ¨Âà∞ËøôÈáå„ÄÇ
                //
                // Ëøô‰∏™Âùó‰ºö panic„ÄÇÂπ∏ËøêÁöÑÊòØÔºåRouille ‰ºöËá™Âä®ÊçïËé∑ panic Âπ∂ÂèëÈÄÅ‰∏Ä‰∏™ 500 ÈîôËØØÊ∂àÊÅØÂõûÂÆ¢Êà∑Á´Ø„ÄÇ
                // ËøôÈò≤Ê≠¢‰∫ÜÊúçÂä°Âô®ÊÑèÂ§ñÂÖ≥Èó≠„ÄÇ
                panic!("Oops!")
            },

            (GET) (/{id: u32}) => {
                // Â¶ÇÊûúËØ∑Ê±ÇÁöÑ URL ÊòØ‰æãÂ¶Ç `/5`ÔºåÊàë‰ª¨Ë∑≥ËΩ¨Âà∞ËøôÈáå„ÄÇ
                //
                // `router!` ÂÆèÂ∞ÜÂ∞ùËØïÂ∞ÜÊ†áËØÜÁ¨¶Ôºà‰æãÂ¶Ç `5`ÔºâËß£Êûê‰∏∫ `u32`„ÄÇÂ¶ÇÊûúËß£ÊûêÂ§±Ë¥•Ôºà‰æãÂ¶ÇÂ¶ÇÊûú URL ÊòØ `/hello`ÔºâÔºå
                // Âàô‰∏çË∞ÉÁî®Ëøô‰∏™ÂùóÔºå`router!` ÂÆèÁªßÁª≠ÂØªÊâæÂè¶‰∏Ä‰∏™Âùó„ÄÇ
                println!("u32 {:?}", id);

                // ‰∏∫‰∫ÜÁ§∫‰æãÔºåÊàë‰ª¨ËøîÂõû‰∏Ä‰∏™Â∏¶Êúâ 400 Áä∂ÊÄÅÁ†ÅÁöÑÁ©∫ÂìçÂ∫î„ÄÇ
                rouille::Response::empty_400()
            },

            (GET) (/{id: String}) => {
                // Â¶ÇÊûúËØ∑Ê±ÇÁöÑ URL ÊòØ‰æãÂ¶Ç `/foo`ÔºåÊàë‰ª¨Ë∑≥ËΩ¨Âà∞ËøôÈáå„ÄÇ
                //
                // Ëøô‰∏™Ë∑ØÁî±‰∏éÂâç‰∏Ä‰∏™Á±ª‰ººÔºå‰ΩÜËøôÊ¨°Êàë‰ª¨Êúâ‰∏Ä‰∏™ `String`„ÄÇ
                // Ëß£Êûê‰∏∫ `String` Ê∞∏Ëøú‰∏ç‰ºöÂ§±Ë¥•„ÄÇ
                println!("String {:?}", id);

                // ÊûÑÂª∫‰∏Ä‰∏™ÂåÖÂê´ "hello, " ÂêéÈù¢Ë∑üÁùÄ `id` ÂÄºÁöÑ `Response` ÂØπË±°„ÄÇ
                rouille::Response::text(format!("hello, {}", id))
            },

            // Â¶ÇÊûúÊ≤°ÊúâÂÖ∂‰ªñÂùóÂåπÈÖçËØ∑Ê±ÇÔºåÂàôË∞ÉÁî®Ê≠§‰ª£Á†ÅÂùó„ÄÇ
            // Êàë‰ª¨ËøîÂõû‰∏Ä‰∏™Â∏¶Êúâ 404 Áä∂ÊÄÅÁ†ÅÁöÑÁ©∫ÂìçÂ∫î„ÄÇ
            _ => rouille::Response::empty_404()
        )
    });
}
```

#### Ê°à‰æã 2 ÁôªÂΩï‰ºöËØùÂ§ÑÁêÜ

examples/login-session.rs

```rust
#![allow(unreachable_code)]
#[macro_use]
extern crate rouille;

use rouille::Request;
use rouille::Response;
use std::collections::HashMap;
use std::io;
use std::sync::Mutex;

// ËØ•ÁªìÊûÑ‰ΩìÂåÖÂê´‰∫ÜÊàë‰ª¨Â≠òÂÇ®Âú®ÊúçÂä°Âô®‰∏äÂÖ≥‰∫éÊØè‰∏™ÂÆ¢Êà∑Á´ØÁöÑÊï∞ÊçÆ„ÄÇ
#[derive(Debug, Clone)]
struct SessionData {
    login: String,
}

fn main() {
    // Êú¨‰æãÂ±ïÁ§∫‰∫ÜÂ¶Ç‰ΩïÂàõÂª∫Â∏¶ÊúâÁÆÄÂçïÁôªÂΩïË°®ÂçïÁöÑÁΩëÁ´ô„ÄÇ

    // ÁÆÄÁü≠Ê∂àÊÅØÔºå‰ª•‰æø‰∫∫‰ª¨‰∏çÂøÖÈòÖËØªÊ∫ê‰ª£Á†Å„ÄÇ
    // ËØ∑Ê≥®ÊÑèÔºåÂÉèÊâÄÊúâÁ§∫‰æã‰∏ÄÊ†∑ÔºåÊàë‰ª¨‰ªÖÂú® `localhost` ‰∏äÁõëÂê¨ÔºåÂõ†Ê≠§ÊÇ®Êó†Ê≥ï‰ªéËá™Â∑±ÁöÑÊú∫Âô®‰ª•Â§ñÁöÑÂÖ∂‰ªñÊú∫Âô®ËÆøÈóÆÊ≠§ÊúçÂä°Âô®„ÄÇ
    println!("Áé∞Âú®Ê≠£Âú®ÁõëÂê¨ localhost:8000");

    // ‰∏∫‰∫ÜÁ§∫‰æãÊñπ‰æøÔºåÊàë‰ª¨Â∞ÜÊää‰ºöËØùÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÁöÑÂìàÂ∏åÊò†Â∞Ñ‰∏≠„ÄÇ
    // ËøôÊ†∑ÂÅöÁöÑÁº∫ÁÇπÊòØÂ¶ÇÊûúÁ®ãÂ∫èÈáçÊñ∞ÂêØÂä®Ôºà‰æãÂ¶ÇÂõ†‰∏∫Êõ¥Êñ∞ÔºâÔºåÊâÄÊúâ‰ºöËØùÈÉΩ‰ºöË¢´Ê∏ÖÈô§ÔºåÂπ∂‰∏îÂ¶ÇÊûúÊÇ®ÂêØÂä®‰∫ÜÁõ∏ÂêåÂ∫îÁî®Á®ãÂ∫èÁöÑÂ§ö‰∏™ËøõÁ®ãÔºà‰æãÂ¶Ç‰∏∫‰∫ÜË¥üËΩΩÂùáË°°ÔºâÔºåÈÇ£‰πàÂÆÉ‰ª¨Â∞Ü‰∏ç‰ºöÂÖ±‰∫´‰ºöËØù„ÄÇ
    // Âõ†Ê≠§ÔºåÂú®ÁúüÂÆûÈ°πÁõÆ‰∏≠ÔºåÊÇ®Â∫îËØ•Â∞ÜÂèØËÉΩÂ∞ÜÂ≠òÂÇ®‰ºöËØùÂú®ÊüêÁßçÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇ
    //
    // Êàë‰ª¨ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÁªìÊûÑ‰ΩìÔºåÂÖ∂‰∏≠ÂåÖÂê´‰∫ÜÊàë‰ª¨‰∏∫ÊØè‰∏™‰ºöËØùÂ≠òÂÇ®Âú®ÊúçÂä°Âô®‰∏äÁöÑÊï∞ÊçÆÔºå‰ª•Âèä‰∏Ä‰∏™ÂìàÂ∏åÊò†Â∞ÑÔºåÂÆÉÂ∞ÜÊØè‰∏™‰ºöËØù ID ‰∏éÊï∞ÊçÆÂÖ≥ËÅîËµ∑Êù•„ÄÇ
    let sessions_storage: Mutex<HashMap<String, SessionData>> = Mutex::new(HashMap::new());

    rouille::start_server("localhost:8000", move |request| {
        rouille::log(&request, io::stdout(), || {
            // Êàë‰ª¨Ë∞ÉÁî® `session::session` ‰∏∫ÊØè‰∏™ÂÆ¢Êà∑Á´ØÂàÜÈÖç‰∏Ä‰∏™ÂîØ‰∏ÄÊ†áËØÜÁ¨¶„ÄÇ
            // Ê≠§Ê†áËØÜÁ¨¶ÈÄöËøáËá™Âä®Ê∑ªÂä†Âà∞ÂìçÂ∫î‰∏≠ÁöÑ cookie ËøõË°åË∑üË∏™„ÄÇ
            //
            // ÂáΩÊï∞ÁöÑÂèÇÊï∞ÊòØ cookie ÁöÑÂêçÁß∞ÔºàËøôÈáå‰∏∫ "SID"ÔºâÂíå‰ºöËØùÁöÑÊåÅÁª≠Êó∂Èó¥ÔºàÁßíÔºâÔºàËøôÈáå‰∏∫‰∏ÄÂ∞èÊó∂Ôºâ„ÄÇ
            rouille::session::session(request, "SID", 3600, |session| {
                // Â¶ÇÊûúÂÆ¢Êà∑Á´ØÂ∑≤ÁªèÊúâÊù•Ëá™ÂÖàÂâçËØ∑Ê±ÇÁöÑÊ†áËØÜÁ¨¶ÔºåÊàë‰ª¨Â∞ùËØïÂä†ËΩΩÁé∞ÊúâÁöÑ‰ºöËØùÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊàêÂäüÂú∞‰ªé `sessions_storage` Âä†ËΩΩÊï∞ÊçÆÔºå
                // Êàë‰ª¨‰ºöÂà∂‰ΩúÊï∞ÊçÆÁöÑÂâØÊú¨Ôºå‰ª•ÈÅøÂÖçÈîÅÂÆö‰ºöËØùÂ§™ÈïøÊó∂Èó¥„ÄÇ
                //
                // Âõ†Ê≠§Êàë‰ª¨ÂæóÂà∞‰∫Ü‰∏Ä‰∏™ `Option<SessionData>`„ÄÇ
                let mut session_data = if session.client_has_sid() {
                    if let Some(data) = sessions_storage.lock().unwrap().get(session.id()) {
                        Some(data.clone())
                    } else {
                        None
                    }
                } else {
                    None
                };

                // ‰ΩøÁî®ÂçïÁã¨ÁöÑÂáΩÊï∞ÂÆûÈôÖÂ§ÑÁêÜËØ∑Ê±ÇÔºå‰ª•ÊèêÈ´òÂèØËØªÊÄß„ÄÇ
                // Êàë‰ª¨‰º†ÈÄí `Option<SessionData>` ÁöÑÂèØÂèòÂºïÁî®Ôºå‰ª•‰æøÂáΩÊï∞ÂèØ‰ª•Ëá™Áî±‰øÆÊîπÂÆÉ„ÄÇ
                let response = handle_route(&request, &mut session_data);

                // Áî±‰∫éÂØπ `handle_route` ÁöÑÂáΩÊï∞Ë∞ÉÁî®ÂèØ‰ª•‰øÆÊîπ‰ºöËØùÊï∞ÊçÆÔºåÊàë‰ª¨Âú®ÂøÖË¶ÅÊó∂ÂøÖÈ°ªÂ∞ÜÂÖ∂Â≠òÂÇ®Âõû `sessions_storage`„ÄÇ
                if let Some(d) = session_data {
                    sessions_storage
                        .lock()
                        .unwrap()
                        .insert(session.id().to_owned(), d);
                } else if session.client_has_sid() {
                    // Â¶ÇÊûú `handle_route` Ê∏ÖÈô§‰∫Ü `Option` ÁöÑÂÜÖÂÆπÔºåÊàë‰ª¨‰ªéÂ≠òÂÇ®‰∏≠Âà†Èô§‰ºöËØù„ÄÇËøôÂè™Âú®ÂÆ¢Êà∑Á´ØÂ∑≤ÁªèÊúâÊ†áËØÜÁ¨¶Êó∂ÊâçÊâßË°åÔºå
                    // Âê¶ÂàôË∞ÉÁî® `session.id()` Â∞ÜÂàÜÈÖç‰∏Ä‰∏™„ÄÇ
                    sessions_storage.lock().unwrap().remove(session.id());
                }

                // Âú®Êï¥‰∏™ËØ∑Ê±ÇÂ§ÑÁêÜËøáÁ®ã‰∏≠Ôºå`sessions_storage` ‰∫íÊñ•ÈîÅ‰ªÖÁü≠ÊöÇÈîÅÂÆö‰∫Ü‰∏§Ê¨°„ÄÇËøôÂØπÊÄßËÉΩÂΩ±Âìç‰∏çÂ§ß„ÄÇ

                response
            })
        })
    });
}

// ËøôÊòØÁúüÊ≠£Â§ÑÁêÜË∑ØÁî±ÁöÑÂáΩÊï∞„ÄÇ
//
// `session_data` ÂèÇÊï∞‰øùÂ≠ò‰∫ÜÊàë‰ª¨ÂØπÂÆ¢Êà∑Á´ØÁöÑ‰∫ÜËß£„ÄÇÊ≠§ÂáΩÊï∞ÁöÑ‰∏ª‰ΩìÂèØ‰ª•‰øÆÊîπÂÆÉ„ÄÇËØ∑ËÆ∞‰ΩèÔºåÊàë‰ª¨ËÆæËÆ°ÁöÑ `session_data` ÈÄÇÁî®‰∫éÂ§ßÂ§öÊï∞ÊÉÖÂÜµÔºå‰ΩÜÂπ∂ÈùûÊâÄÊúâÊÉÖÂÜµ„ÄÇ‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥Ë∑üË∏™Áî®Êà∑ËÆøÈóÆÁöÑÈ°µÈù¢Ôºå
// ‰Ω†Â∫îËØ•‰ª•Âè¶‰∏ÄÁßçÊñπÂºèËÆæËÆ°ÂÆÉÔºåÂê¶ÂàôÊüê‰∫õËØ∑Ê±ÇÁöÑÊï∞ÊçÆÂ∞ÜË¶ÜÁõñÂÖ∂‰ªñËØ∑Ê±ÇÁöÑÊï∞ÊçÆ„ÄÇ
fn handle_route(request: &Request, session_data: &mut Option<SessionData>) -> Response {
    // È¶ñÂÖàÊàë‰ª¨Â§ÑÁêÜÊó†ËÆ∫Áî®Êà∑ÊòØÂê¶ÁôªÂΩïÈÉΩÂèØ‰ª•ËÆøÈóÆ‰∏îÂßãÁªàÁõ∏ÂêåÁöÑË∑ØÁî±„ÄÇ
    router!(request,
        (POST) (/login) => {
            // ÂΩìÁî®Êà∑ÊÉ≥Ë¶ÅÁôªÂΩïÊó∂Ë∞ÉÁî®Ê≠§Ë∑ØÁî±„ÄÇ

            // ‰∏∫‰∫ÜÊ£ÄÁ¥¢Áî®Êà∑ÈÄöËøá `<form>` ÂèëÈÄÅÁªôÊàë‰ª¨ÁöÑÂÜÖÂÆπÔºåÊàë‰ª¨‰ΩøÁî® `post_input!` ÂÆè„ÄÇÊ≠§ÂÆèËøîÂõû‰∏Ä‰∏™ÈîôËØØÔºà‰æãÂ¶ÇÔºåÂ¶ÇÊûúÁº∫Â∞ëÊüê‰∏™Â≠óÊÆµÔºâÔºå
            // Âõ†Ê≠§Êàë‰ª¨‰ΩøÁî® `try_or_400!` ÂÆèÊù•Â§ÑÁêÜ‰ªª‰ΩïÂèØËÉΩÁöÑÈîôËØØ„ÄÇ
            //
            // Â¶ÇÊûúÂÆèÊàêÂäüÔºå`data` ÊòØ‰∏Ä‰∏™ÁªìÊûÑ‰ΩìÁöÑÂÆû‰æãÔºåËØ•ÁªìÊûÑ‰Ωì‰∏∫Êàë‰ª¨Âú®ÂÆè‰∏≠ÊåáÁ§∫ÁöÑÊØè‰∏™Â≠óÊÆµÈÉΩÊúâ‰∏Ä‰∏™ÊàêÂëò„ÄÇ
            let data = try_or_400!(post_input!(request, {
                login: String,
                password: String,
            }));

            // ÂØπ‰∫éËøô‰∏™Á§∫‰æãÔºåÂè™ÊòØ‰∏Ä‰∏™Â∞èÁöÑË∞ÉËØïÊ∂àÊÅØ„ÄÇÂú®ÁúüÂÆûÂ∫îÁî®‰∏≠ÔºåÊÇ®‰πüÂèØ‰ª•Âú®Êó•Âøó‰∏≠ËæìÂá∫Êüê‰∫õÂÜÖÂÆπ„ÄÇ
            println!("Â∞ùËØï‰ΩøÁî®ÁôªÂΩï {:?} ÂíåÂØÜÁ†Å {:?} ÁôªÂΩï", data.login, data.password);

            // Âú®Êú¨Á§∫‰æã‰∏≠ÔºåÊâÄÊúâ‰ª•Â≠óÊØç 'b' ÂºÄÂ§¥ÁöÑÁôªÂΩïÂ∞ùËØïÈÉΩÊàêÂäü„ÄÇÂΩìÁÑ∂ÔºåÂú®ÁúüÂÆûÁöÑÁΩëÁ´ô‰∏äÔºåÊÇ®Â∫îËØ•‰ª•ÈÄÇÂΩìÁöÑÊñπÂºèÊ£ÄÊü•Âá≠ÊçÆ„ÄÇ
            if data.password.starts_with("b") {
                // ÈÄöËøáÂÜôÂÖ• `session_data` ÁöÑÂÜÖÂÆπÊù•ÁôªÂΩïÁî®Êà∑„ÄÇ
                //
                // ËøôÈáåÊúâ‰∏Ä‰∏™ËΩªÂæÆÁöÑË≠¶ÂëäÔºöÂú®Ëøô‰∏™ÊºîÁ§∫‰∏≠ÔºåÊàë‰ª¨Áõ¥Êé•Âú®ÂÜÖÂ≠ò‰∏≠Â≠òÂÇ®Áî®Êà∑Êèê‰æõÁªôÊàë‰ª¨ÁöÑÊï∞ÊçÆ„ÄÇËøô‰∫õÊï∞ÊçÆ‰∏çÂèØ‰ø°ÔºåÂèØËÉΩÂåÖÂê´‰ªª‰ΩïÂÜÖÂÆπÔºå
                // ÂåÖÊã¨ XSS ÊîªÂáªÁöÑÂ∞ùËØï„ÄÇÂ∞ÜÁî®Êà∑Êèê‰æõÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠Âπ∂Ê≤°ÊúâÈîôÔºå‰ΩÜÊàë‰ª¨ÂøÖÈ°ªÊ≥®ÊÑè‰∏çË¶ÅÂ∞ÜÂÖ∂Ëß£Èáä‰∏∫ HTML Êï∞ÊçÆÔºå‰æãÂ¶Ç„ÄÇ
                *session_data = Some(SessionData { login: data.login });
                return Response::redirect_303("/");

            } else {
                // Êàë‰ª¨ËøîÂõû‰∏Ä‰∏™ËôöÊãüÂìçÂ∫î‰ª•Ë°®Á§∫ÁôªÂΩïÂ§±Ë¥•„ÄÇÂú®ÁúüÂÆûÂ∫îÁî®‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∫îËØ•‰ΩøÁî®ÊüêÁßç HTML Ê®°ÊùøÂåñÊäÄÊúØ„ÄÇ
                return Response::html("ÈîôËØØÁöÑÁôªÂΩï/ÂØÜÁ†Å");
            }
        },

        (POST) (/logout) => {
            // ÂΩìÁî®Êà∑ÊÉ≥Ë¶ÅÊ≥®ÈîÄÊó∂Ë∞ÉÁî®Ê≠§Ë∑ØÁî±„ÄÇ
            // Êàë‰ª¨ÈÄöËøáÁÆÄÂçïÂú∞Ê∏ÖÈô§ `session_data` ÁöÑÂÜÖÂÆπÊù•Ê≥®ÈîÄÔºåËøôÂ∞ÜÂà†Èô§‰ºöËØù„ÄÇ
            *session_data = None;

            // Êàë‰ª¨ËøîÂõû‰∏Ä‰∏™ËôöÊãüÂìçÂ∫î‰ª•ÊåáÁ§∫ÂèëÁîü‰∫Ü‰ªÄ‰πà„ÄÇÂú®ÁúüÂÆûÂ∫îÁî®‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∫îËØ•‰ΩøÁî®ÊüêÁßç HTML Ê®°ÊùøÂåñÊäÄÊúØ„ÄÇ
            return Response::html(r#"Ê≥®ÈîÄÊàêÂäü„ÄÇ
                                     <a href="/">ÁÇπÂáªËøôÈáåËøîÂõûÈ¶ñÈ°µ</a>"#);
        },

        _ => ()
    );

    // Áé∞Âú®Êàë‰ª¨Â∑≤ÁªèÂ§ÑÁêÜ‰∫ÜÂú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÈÉΩÂèØ‰ª•ËÆøÈóÆÁöÑÊâÄÊúâË∑ØÁî±ÔºåÊàë‰ª¨Âú®ÁªßÁª≠‰πãÂâçÊ£ÄÊü•Áî®Êà∑ÊòØÂê¶Â∑≤ÁôªÂΩï„ÄÇ
    if let Some(session_data) = session_data.as_ref() {
        // Â∑≤ÁôªÂΩï„ÄÇ
        handle_route_logged_in(request, session_data)
    } else {
        // Êú™ÁôªÂΩï„ÄÇ
        router!(request,
            (GET) (/) => {
                // ËøûÊé•Âà∞Ê†πÁõÆÂΩïÊó∂ÊòæÁ§∫ÁôªÂΩïË°®Âçï„ÄÇ
                // ËØ∑Ê≥®ÊÑèÔºåÂú®ÁúüÂÆûÁΩëÁ´ô‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∫îËØ•‰ΩøÁî®ÊüêÁßçÊ®°ÊùøÂåñÁ≥ªÁªüÔºåÊàñËÄÖËá≥Â∞ë‰ªéÊñá‰ª∂‰∏≠Âä†ËΩΩ HTML„ÄÇ
                Response::html(r#"
                    <p>ÊèêÁ§∫ÔºöÂú®Ê≠§Á§∫‰æã‰∏≠ÔºåÊâÄÊúâ‰ª•Â≠óÊØç 'b'ÔºàÂ∞èÂÜôÔºâÂºÄÂ§¥ÁöÑÂØÜÁ†ÅÈÉΩÊòØÊúâÊïàÁöÑ„ÄÇ</p>
                    <form action="/login" method="POST">
                        <input type="text" name="login" placeholder="ÁôªÂΩï" />
                        <input type="password" name="password" placeholder="ÂØÜÁ†Å" />
                        <button type="submit">Êèê‰∫§ÔºÅ</button>
                    </form>
                    <p>ÊàñËÄÖÊÇ®ÂèØ‰ª•Â∞ùËØï <a href="/private">Áõ¥Êé•ËøõÂÖ•ÁßÅ‰∫∫Âå∫Âüü</a>Ôºå‰ΩÜÂ¶ÇÊûúÊ≤°ÊúâÁôªÂΩïÔºåÊÇ®Â∞ÜË¢´ÈáçÂÆöÂêëÂõûËøôÈáå„ÄÇ</p>
                "#)
            },

            _ => {
                // Â¶ÇÊûúÁî®Êà∑Â∞ùËØïËÆøÈóÆ‰ªª‰ΩïÂÖ∂‰ªñË∑ØÁî±ÔºåÂ∞Ü‰ªñ‰ª¨ÈáçÂÆöÂêëÂà∞ÁôªÂΩïË°®Âçï„ÄÇ
                //
                // ÊÇ®ÂèØËÉΩ‰ºöÊÉ≥Áü•ÈÅìÔºöÂ¶ÇÊûúÊàëÊÉ≥ËÆ©ÊàëÁΩëÁ´ôÁöÑÊüê‰∫õÈÉ®ÂàÜÂÖ¨ÂºÄÔºåËÄåÂÖ∂‰ªñÈÉ®ÂàÜÁßÅÂØÜÔºåÊàëÂ∫îËØ•ÊääÊâÄÊúâÂÖ¨ÂºÄË∑ØÁî±ÈÉΩÊîæÂú®ËøôÈáåÂêóÔºüÁ≠îÊ°àÊòØ‰∏ç„ÄÇËøô‰∏™Á§∫‰æãÁöÑÁªìÊûÑÈÄÇÁî®‰∫é‰∏Ä‰∏™ÂÆåÂÖ®ÁßÅÂØÜÁöÑÁΩëÁ´ô„ÄÇ‰∏çË¶ÅÁäπË±´Ôºå‰ª•‰∏çÂêåÁöÑÊñπÂºèÊûÑÂª∫ÂÆÉÔºå‰æãÂ¶ÇÈÄöËøáÊã•Êúâ‰∏Ä‰∏™Âè™‰∏ìÈó®Â§ÑÁêÜÂÖ¨ÂºÄË∑ØÁî±ÁöÑÂáΩÊï∞„ÄÇ
                Response::redirect_303("/")
            }
        )
    }
}

// Ê≠§ÂáΩÊï∞Â§ÑÁêÜ‰ªÖÂú®Áî®Êà∑ÁôªÂΩïÂêéÊâçËÉΩËÆøÈóÆÁöÑË∑ØÁî±„ÄÇ
fn handle_route_logged_in(request: &Request, _session_data: &SessionData) -> Response {
    router!(request,
        (GET) (/) => {
            // ÊòæÁ§∫‰∏Ä‰∫õÈóÆÂÄôËØ≠ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ËôöÊãüÂìçÂ∫î„ÄÇ
            Response::html(r#"ÊÇ®Áé∞Âú®Â∑≤ÁôªÂΩï„ÄÇÂ¶ÇÊûúÊÇ®ÂÖ≥Èó≠Ê†áÁ≠æÈ°µÁÑ∂ÂêéÂÜçÊ¨°ÊâìÂºÄÔºåÊÇ®‰ªçÁÑ∂‰ºö‰øùÊåÅÁôªÂΩïÁä∂ÊÄÅ„ÄÇ<br />
                              <a href="/private">ÁÇπÂáªËøôÈáåËøõÂÖ•ÁßÅ‰∫∫Âå∫Âüü</a>
                              <form action="/logout" method="POST">
                              <button>Ê≥®ÈîÄ</button></form>"#)
        },

        (GET) (/private) => {
            // Ê≠§Ë∑ØÁî±Âú®ËøôÈáåÊòØ‰∏∫‰∫ÜËØÅÊòéÂÆ¢Êà∑Á´ØÂè™ÊúâÂú®ÊàêÂäüÁôªÂΩïÂêéÊâçËÉΩËøõÂÖ• `/private`„ÄÇ
            Response::html(r#"ÊÇ®Âú®ÁßÅ‰∫∫Âå∫ÂüüÔºÅ<a href="/">ËøîÂõû</a>."#)
        },

        _ => Response::empty_404()
    )
}
```

#### Ê°à‰æã 3 Êï∞ÊçÆÂ∫ì

examples/database.rs

```rust
// ÁâàÊùÉÊâÄÊúâ (c) 2016 Rouille ÂºÄÂèëËÄÖ
// Ê†πÊçÆ Apache ËÆ∏ÂèØËØÅÔºåÁâàÊú¨ 2.0 ËÆ∏ÂèØ
// <LICENSE-APACHE Êàñ http://www.apache.org/licenses/LICENSE-2.0> Êàñ MIT ËÆ∏ÂèØËØÅ
// <LICENSE-MIT Êàñ http://opensource.org/licenses/MIT>ÔºåÊÇ®ÂèØÈÄâÊã©ÂÖ∂‰∏Ä„ÄÇ
// È°πÁõÆ‰∏≠Êê∫Â∏¶Ê≠§Á±ªÈÄöÁü•ÁöÑÊâÄÊúâÊñá‰ª∂ÔºåÈô§ÈùûÊ†πÊçÆËøô‰∫õÊù°Ê¨æÔºåÂê¶Âàô‰∏çÂæóË¢´Â§çÂà∂„ÄÅ‰øÆÊîπÊàñÂàÜÂèë„ÄÇ

#[macro_use]
extern crate rouille;
extern crate postgres;
extern crate serde;
#[macro_use]
extern crate serde_derive;

use std::sync::Mutex;

use postgres::{Client, NoTls, Transaction};

use rouille::Request;
use rouille::Response;

fn main() {
    // Êú¨‰æãÂ±ïÁ§∫‰∫ÜÂΩìÂÆ¢Êà∑Á´ØÊâßË°åËØ∑Ê±ÇÊó∂ÔºåÂ¶Ç‰ΩïËøûÊé•Âà∞Êï∞ÊçÆÂ∫ìÂπ∂ÊâßË°åÊü•ËØ¢„ÄÇ
    // Ê≠§Á§∫‰æã‰∏≠ÂàõÂª∫ÁöÑÊúçÂä°Âô®‰ΩøÁî® REST API„ÄÇ

    // Êàë‰ª¨È¶ñÂÖàÂ∞ùËØïËøûÊé•Âà∞Êï∞ÊçÆÂ∫ì„ÄÇ
    //
    // ËøôÈáåÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁÇπÊòØÔºåÊàë‰ª¨Âú®ËøûÊé•Âë®Âõ¥ÂåÖË£Ö‰∫Ü‰∏Ä‰∏™ `Mutex`„ÄÇÁî±‰∫éËØ∑Ê±ÇÂ§ÑÁêÜÂô®ÂèØ‰ª•Âπ∂Ë°åÂ§öÊ¨°Ë∞ÉÁî®Ôºå
    // Êàë‰ª¨Âú®ÂÖ∂‰∏≠‰ΩøÁî®ÁöÑ‰ªª‰ΩïÂÜÖÂÆπÈÉΩÂøÖÈ°ªÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåPostgreSQL ËøûÊé•‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºå
    // Âõ†Ê≠§Êàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™‰∫íÊñ•ÈîÅÊù•‰ΩøÂÖ∂Á∫øÁ®ãÂÆâÂÖ®„ÄÇ
    //
    // Â¶ÇÊûú‰∏çÂåÖË£Ö‰∫íÊñ•ÈîÅÔºåÂΩìÊàë‰ª¨Â∞ùËØïÂú®‰º†ÈÄíÁªô `start_server` ÁöÑÈó≠ÂåÖ‰∏≠‰ΩøÁî® `db` ÂèòÈáèÊó∂ÔºåÂ∞Ü‰ºöÂØºËá¥ÁºñËØëÈîôËØØ„ÄÇ
    let db = {
        let db = Client::connect("postgres://test:test@localhost/test", NoTls);
        Mutex::new(db.expect("ËøûÊé•Êï∞ÊçÆÂ∫ìÂ§±Ë¥•"))
    };

    // ‰∏∫‰∫ÜÁ§∫‰æãÁöÑÊñπ‰æøÔºåÊàë‰ª¨ËøõË°å‰∏Ä‰∫õÂàùÂßãÂåñ„ÄÇ
    // Âú®ÁúüÂÆûÂ∫îÁî®‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∏åÊúõÊúâ‰∏Ä‰∏™ËøÅÁßªÁ≥ªÁªü„ÄÇËøôË∂ÖÂá∫‰∫Ü rouille ÁöÑËåÉÂõ¥„ÄÇ
    {
        let sql = "CREATE TABLE IF NOT EXISTS notes (
                    id SERIAL PRIMARY KEY,
                    content TEXT NOT NULL
                   );";
        db.lock()
            .unwrap()
            .execute(sql, &[])
            .expect("Êï∞ÊçÆÂ∫ìÂàùÂßãÂåñÂ§±Ë¥•");
    }

    // ÁÆÄÁü≠Ê∂àÊÅØÔºå‰ª•‰æø‰∫∫‰ª¨‰∏çÂøÖÈòÖËØªÊ∫ê‰ª£Á†Å„ÄÇ
    // ËØ∑Ê≥®ÊÑèÔºåÂÉèÊâÄÊúâÂÖ∂‰ªñÁ§∫‰æã‰∏ÄÊ†∑ÔºåÊàë‰ª¨‰ªÖÂú® `localhost` ‰∏äÁõëÂê¨ÔºåÂõ†Ê≠§ÊÇ®Êó†Ê≥ï‰ªéËá™Â∑±ÁöÑÊú∫Âô®‰ª•Â§ñÁöÑ‰ªª‰ΩïÊú∫Âô®ËÆøÈóÆÊ≠§ÊúçÂä°Âô®„ÄÇ
    println!("Áé∞Âú®Ê≠£Âú®ÁõëÂê¨ localhost:8000");

    // Áé∞Âú®ÊúçÂä°Âô®ÂºÄÂßãÁõëÂê¨„ÄÇ`move` ÂÖ≥ÈîÆÂ≠óÂ∞ÜÁ°Æ‰øùÊàë‰ª¨Â∞Ü `db` ÂèòÈáèÁßªÂä®Âà∞Èó≠ÂåÖ‰∏≠„ÄÇ
    // Â¶ÇÊûúËøôÈáå‰∏çÊîæ `move` Â∞Ü‰ºöÂØºËá¥ÁºñËØëÈîôËØØ„ÄÇ
    //
    // ËØ∑Ê≥®ÊÑèÔºåÂú®ÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÔºåËøôÈáå‰∏çÈúÄË¶Å `move`„ÄÇ‰∏çÂπ∏ÁöÑÊòØÔºåRust Ëøò‰∏çÂ§üÊô∫ËÉΩÔºåÊó†Ê≥ïÁêÜËß£Êï∞ÊçÆÂ∫ìÂú®Êàë‰ª¨Ëøò‰ΩøÁî®ÂÆÉÁöÑÊó∂ÂÄô‰∏çËÉΩË¢´ÈîÄÊØÅ„ÄÇ
    rouille::start_server("localhost:8000", move |request| {
        // Áî±‰∫éÊàë‰ª¨Â∞ÜÊï∞ÊçÆÂ∫ìËøûÊé•ÂåÖË£ÖÂú® `Mutex` Âë®Âõ¥ÔºåÊàë‰ª¨Âú®‰ΩøÁî®ÂâçÂú®ËøôÈáåÈîÅÂÆöÂÆÉ„ÄÇ
        //
        // ËøôÂ∞Ü‰∏∫Êàë‰ª¨Â§ÑÁêÜÊ≠§ËØ∑Ê±ÇÊó∂Êèê‰æõÂØπÊï∞ÊçÆÂ∫ìËøûÊé•ÁöÑÁã¨Âç†ËÆøÈóÆÊùÉ„ÄÇ‰∏çÂπ∏ÁöÑÊòØÔºåËøôÊÑèÂë≥ÁùÄÂ¶ÇÊûúÂú®Âè¶‰∏Ä‰∏™ËØ∑Ê±ÇÊ≠£Âú®Â§ÑÁêÜÊó∂ÂèëÂá∫ËØ∑Ê±ÇÔºå
        // Á¨¨‰∫å‰∏™ËØ∑Ê±ÇÂ∞Ü‰∏çÂæó‰∏çÁ≠âÂæÖÁ¨¨‰∏Ä‰∏™ËØ∑Ê±ÇÂÆåÊàê„ÄÇ
        //
        // Âú®ÁúüÂÆûÂ∫îÁî®‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∏åÊúõÂàõÂª∫Â§ö‰∏™ËøûÊé•ËÄå‰∏çÊòØÂè™Êúâ‰∏Ä‰∏™ÔºåÂπ∂‰ΩøÊØè‰∏™ËØ∑Ê±Ç‰ΩøÁî®‰∏çÂêåÁöÑËøûÊé•„ÄÇ
        //
        // Ê≠§Â§ñÔºåÂ¶ÇÊûúÂú®ÈîÅÂÆö `Mutex` Êó∂ÂèëÁîü panicÔºåÂàôÊï∞ÊçÆÂ∫ìËøûÊé•ÂèØËÉΩ‰ºöÂ§Ñ‰∫éÊçüÂùèÁä∂ÊÄÅÔºå‰∏ãÊ¨°ÈîÅÂÆö‰∫íÊñ•ÈîÅÊó∂ÂèØËÉΩ‰ºö panic„ÄÇ
        // ËøôÊòØ‰ΩøÁî®Â§ö‰∏™ËøûÊé•ÁöÑÂè¶‰∏Ä‰∏™Â•ΩÁêÜÁî±„ÄÇ
        let mut db = db.lock().unwrap();

        // ÂºÄÂßã‰∏Ä‰∏™‰∫ãÂä°Ôºå‰ª•‰æøÂ¶ÇÊûúÂú®Â§ÑÁêÜËØ∑Ê±ÇËøáÁ®ã‰∏≠ÂèëÁîü panicÔºåÂØπÊï∞ÊçÆÂ∫ìÊâÄÂÅöÁöÑ‰ªª‰ΩïÊõ¥ÊîπÈÉΩÂ∞ÜÂõûÊªö„ÄÇ
        let mut db = db.transaction().unwrap();

        // ‰∏∫‰∫ÜÊõ¥Â•ΩÁöÑÂèØËØªÊÄßÔºåÊàë‰ª¨Âú®ÂçïÁã¨ÁöÑÂáΩÊï∞‰∏≠Â§ÑÁêÜËØ∑Ê±Ç„ÄÇ
        let response = note_routes(&request, &mut db);

        // Â¶ÇÊûúÂìçÂ∫îÊàêÂäüÔºåÊàë‰ª¨Âú®ËøîÂõûÂâçÊèê‰∫§‰∫ãÂä°„ÄÇÂè™ÊúâÂú®Ëøô‰∏ÄÁÇπ‰∏äÔºåÊï∞ÊçÆÊâçÁúüÊ≠£ÂÜôÂÖ•Êï∞ÊçÆÂ∫ì„ÄÇ
        if response.is_success() {
            db.commit().unwrap();
        }

        response
    });
}

// Ëøô‰∏™ÂáΩÊï∞ÂÆûÈôÖ‰∏äÂ§ÑÁêÜËØ∑Ê±Ç„ÄÇ
fn note_routes(request: &Request, db: &mut Transaction) -> Response {
    router!(request,
        (GET) (/) => {
            // ‰∏∫‰∫ÜÁ§∫‰æãÊñπ‰æøÔºåÊàë‰ª¨Âè™Âú® `/` ‰∏äÊîæ‰∫Ü‰∏Ä‰∏™ËôöÊãüË∑ØÁî±Ôºå‰ª•‰æøÊÇ®Â¶ÇÊûúÁî®ÊµèËßàÂô®ËøûÊé•Âà∞ÊúçÂä°Âô®ÂèØ‰ª•ÁúãÂà∞‰∏Ä‰∫õ‰∏úË•ø„ÄÇ
            Response::text("ÊÇ®Â•ΩÔºÅÂæàÈÅóÊÜæËøôÈáåÊ≤°ÊúâÂèØÁúãÁöÑÂÜÖÂÆπ„ÄÇ")
        },

        (GET) (/notes) => {
            // Ê≠§Ë∑ØÁî±ËøîÂõûÁ¨îËÆ∞ÂàóË°®„ÄÇÊàë‰ª¨ÊâßË°åÊü•ËØ¢Âπ∂Â∞ÜÂÖ∂ËæìÂá∫‰∏∫ JSON„ÄÇ

            #[derive(Serialize)]
            struct Elem { id: String }

            let mut out = Vec::new();
            // Êàë‰ª¨ÊâßË°åÊü•ËØ¢Âπ∂ÈÅçÂéÜË°åÔºåÂ∞ÜÊØèË°åÂÜôÂÖ• `out`„ÄÇ
            for row in &db.query("SELECT id FROM notes", &[]).unwrap() {
                let id: i32 = row.get(0);
                out.push(Elem { id: format!("/note/{}", id) });
            }

            Response::json(&out)
        },

        (GET) (/note/{id: i32}) => {
            // Ê≠§Ë∑ØÁî±ËøîÂõûÁ¨îËÆ∞ÁöÑÂÜÖÂÆπÔºåÂ¶ÇÊûúÂÆÉÂ≠òÂú®„ÄÇ

            // ËØ∑Ê≥®ÊÑèÔºåËøôÊÆµ‰ª£Á†ÅÊúâÁÇπ‰∏ç‰∫∫ÊÄßÂåñÔºå‰ΩÜËøô‰∏ªË¶ÅÊòØÊï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØÂ∫ìÁöÑÈóÆÈ¢òÔºåËÄå‰∏çÊòØ rouille Êú¨Ë∫´„ÄÇ

            // ‰∏∫Ê≠§ÔºåÊàë‰ª¨È¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™ÂèòÈáèÊù•Êé•Êî∂Á¨îËÆ∞ÁöÑÂÜÖÂÆπ„ÄÇ
            let mut content: Option<String> = None;
            // ÁÑ∂ÂêéÊâßË°åÊü•ËØ¢Âπ∂ÂÜôÂÖ• `content`„ÄÇÂ¶ÇÊûú SQL ËØ≠Âè•ÊúâËØØÔºåËøôË°å‰ª£Á†ÅÂè™‰ºö panic„ÄÇ
            for row in &db.query("SELECT content FROM notes WHERE id = $1", &[&id]).unwrap() {
                content = Some(row.get(0));
            }

            // Â¶ÇÊûúÂà∞Ëøô‰∏ÄÁÇπ `content` ‰ªçÁÑ∂‰∏∫Á©∫ÔºåËøôÊÑèÂë≥ÁùÄÁ¨îËÆ∞Âú®Êï∞ÊçÆÂ∫ì‰∏≠‰∏çÂ≠òÂú®„ÄÇÂê¶ÂàôÔºåÊàë‰ª¨ËøîÂõûÂÜÖÂÆπ„ÄÇ
            match content {
                Some(content) => Response::text(content),
                None => Response::empty_404(),
            }
        },

        (PUT) (/note/{id: i32}) => {
            // Ê≠§Ë∑ØÁî±‰øÆÊîπÁé∞ÊúâÁ¨îËÆ∞ÁöÑÂÜÖÂÆπ„ÄÇ

            // Êàë‰ª¨È¶ñÂÖàËØªÂèñ HTTP ËØ∑Ê±ÇÁöÑÊ≠£ÊñáÂà∞‰∏Ä‰∏™ `String`„ÄÇ
            let body = try_or_400!(rouille::input::plain_text_body(&request));

            // Âπ∂Áî®Êü•ËØ¢ÂÜôÂÖ•ÂÜÖÂÆπ„ÄÇÂ¶ÇÊûú SQL ËØ≠Âè•ÊúâËØØÔºåËøôË°å‰ª£Á†ÅÂè™‰ºö panic„ÄÇ
            let updated = db.execute("UPDATE notes SET content = $2 WHERE id = $1",
                                     &[&id, &body]).unwrap();

            // Êàë‰ª¨Ê†πÊçÆ‰øÆÊîπÁöÑË°åÊï∞Êù•Á°ÆÂÆöÁ¨îËÆ∞ÊòØÂê¶Â≠òÂú®„ÄÇ
            if updated >= 1 {
                Response::text("Á¨îËÆ∞Â∑≤Êõ¥Êñ∞")
            } else {
                Response::empty_404()
            }
        },

        (POST) (/note) => {
            // Ê≠§Ë∑ØÁî±ÂàõÂª∫‰∏Ä‰∏™Êñ∞Á¨îËÆ∞ÔºåÂÖ∂ÂàùÂßãÂÜÖÂÆπ‰∏∫Ê≠£Êñá„ÄÇ

            // Êàë‰ª¨È¶ñÂÖàËØªÂèñ HTTP ËØ∑Ê±ÇÁöÑÊ≠£ÊñáÂà∞‰∏Ä‰∏™ `String`„ÄÇ
            let body = try_or_400!(rouille::input::plain_text_body(&request));

            // ‰∏∫Ê≠§ÔºåÊàë‰ª¨È¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™ÂèòÈáèÊù•Êé•Êî∂ÂÜÖÂÆπ„ÄÇ
            let mut id: Option<i32> = None;
            // ÁÑ∂ÂêéÊâßË°åÊü•ËØ¢Âπ∂ÂÜôÂÖ• `content`„ÄÇÂ¶ÇÊûú SQL ËØ≠Âè•ÊúâËØØÔºåËøôË°å‰ª£Á†ÅÂè™‰ºö panic„ÄÇ
            for row in &db.query("INSERT INTO notes(content) VALUES ($1) RETURNING id", &[&body]).unwrap() {
                id = Some(row.get(0));
            }

            let id = id.unwrap();

            let mut response = Response::text("Á¨îËÆ∞Â∑≤ÂàõÂª∫");
            response.status_code = 201;
            response.headers.push(("Location".into(), format!("/note/{}", id).into()));
            response
        },

        (DELETE) (/note/{id: i32}) => {
            // Ê≠§Ë∑ØÁî±Âà†Èô§Á¨îËÆ∞„ÄÇÂ¶ÇÊûú SQL ËØ≠Âè•ÊúâËØØÔºåËøôË°å‰ª£Á†ÅÂè™‰ºö panic„ÄÇ
            db.execute("DELETE FROM notes WHERE id = $1", &[&id]).unwrap();
            Response::text("")
        },

        // Â¶ÇÊûúÂÖ∂‰ªñÂùóÂùáÊú™ÂåπÈÖçËØ∑Ê±ÇÔºåËøîÂõû 404 ÂìçÂ∫î„ÄÇ
        _ => Response::empty_404()
    )
}
```

#### Ê°à‰æã 4 websocket ÈÄö‰ø°

examples/websocket.rs

```rust
// ÁâàÊùÉÊâÄÊúâ (c) 2016 Rouille ÂºÄÂèëËÄÖ
// Ê†πÊçÆ Apache ËÆ∏ÂèØËØÅÔºåÁâàÊú¨ 2.0 ËÆ∏ÂèØ
// <LICENSE-APACHE Êàñ http://www.apache.org/licenses/LICENSE-2.0> Êàñ MIT ËÆ∏ÂèØËØÅ
// <LICENSE-MIT Êàñ http://opensource.org/licenses/MIT>ÔºåÊÇ®ÂèØÈÄâÊã©ÂÖ∂‰∏Ä„ÄÇ
// È°πÁõÆ‰∏≠Êê∫Â∏¶Ê≠§Á±ªÈÄöÁü•ÁöÑÊâÄÊúâÊñá‰ª∂ÔºåÈô§ÈùûÊ†πÊçÆËøô‰∫õÊù°Ê¨æÔºåÂê¶Âàô‰∏çÂæóË¢´Â§çÂà∂„ÄÅ‰øÆÊîπÊàñÂàÜÂèë„ÄÇ

#[macro_use]
extern crate rouille;

use std::thread;

use rouille::websocket;
use rouille::Response;

fn main() {
    // Êú¨‰æãÂ±ïÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî® rouille ‰∏é WebSockets„ÄÇ

    // ÁÆÄÁü≠Ê∂àÊÅØÔºå‰ª•‰æø‰∫∫‰ª¨‰∏çÂøÖÈòÖËØªÊ∫ê‰ª£Á†Å„ÄÇ
    // ËØ∑Ê≥®ÊÑèÔºåÂÉèÊâÄÊúâÁ§∫‰æã‰∏ÄÊ†∑ÔºåÊàë‰ª¨‰ªÖÂú® `localhost` ‰∏äÁõëÂê¨ÔºåÂõ†Ê≠§ÊÇ®Êó†Ê≥ï‰ªéËá™Â∑±ÁöÑÊú∫Âô®‰ª•Â§ñÁöÑÂÖ∂‰ªñÊú∫Âô®ËÆøÈóÆÊ≠§ÊúçÂä°Âô®„ÄÇ
    println!("Áé∞Âú®Ê≠£Âú®ÁõëÂê¨ localhost:8000");

    rouille::start_server("localhost:8000", move |request| {
        router!(request,
            (GET) (/) => {
                // `/` Ë∑ØÁî±ËæìÂá∫‰∏Ä‰∏™ HTML ÂÆ¢Êà∑Á´ØÔºå‰ª•‰æøÁî®Êà∑ÂèØ‰ª•Â∞ùËØï WebSockets„ÄÇ
                // ËØ∑Ê≥®ÊÑèÔºåÂú®ÁúüÂÆûÁΩëÁ´ô‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∫îËØ•‰ΩøÁî®ÊüêÁßçÊ®°ÊùøÂåñÁ≥ªÁªüÔºåÊàñËÄÖËá≥Â∞ë‰ªéÊñá‰ª∂‰∏≠Âä†ËΩΩ HTML„ÄÇ
                Response::html("<script type=\"text/javascript\">
                    var socket = new WebSocket(\"ws://localhost:8000/ws\", \"echo\");
                    function send(data) {
                        socket.send(data);
                    }
                    socket.onmessage = function(event) {
                        document.getElementById('result').innerHTML += event.data + '<br />';
                    }
                    </script>
                    <p>Êú¨Á§∫‰æã‰ºöÂ∞ÜÊÇ®ÂèëÈÄÅÁªôÊúçÂä°Âô®ÁöÑÊâÄÊúâÂÜÖÂÆπÂèëÈÄÅÂõûÊù•„ÄÇ</p>
                    <p><form onsubmit=\"send(document.getElementById('msg').value); return false;\">
                    <input type=\"text\" id=\"msg\" />
                    <button type=\"submit\">ÂèëÈÄÅ</button>
                    </form></p>
                    <p>Â∑≤Êé•Êî∂: </p>
                    <p id=\"result\"></p>")
            },

            (GET) (/ws) => {
                // ËøôÊòØ WebSockets Ë∑ØÁî±„ÄÇ

                // ‰∏∫‰∫ÜÂºÄÂßã‰ΩøÁî® WebSocketsÔºåÊàë‰ª¨Ë∞ÉÁî® `websocket::start`„ÄÇ
                // Â¶ÇÊûúÂÆ¢Êà∑Á´ØÊ≤°ÊúâËØ∑Ê±Ç WebSocketsÔºåËØ•ÂáΩÊï∞Â∞ÜËøîÂõûÈîôËØØÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÈÄöËøá `try_or_400!` ÂÆèÂêëÂÆ¢Êà∑Á´ØËøîÂõûÈîôËØØ 400„ÄÇ
                //
                // ËØ•ÂáΩÊï∞ËøîÂõû‰Ωú‰∏∫ `start_server` ÂáΩÊï∞‰∏ÄÈÉ®ÂàÜË¶ÅÂèëÈÄÅÂõûÁöÑÂìçÂ∫îÔºå‰ª•Âèä‰∏Ä‰∏™ `websocket` ÂèòÈáèÔºåÁ±ªÂûã‰∏∫ `Receiver<Websocket>`„ÄÇ
                // ‰∏ÄÊó¶ÂìçÂ∫îÂ∑≤ÁªèÂèëÈÄÅÂõûÂÆ¢Êà∑Á´ØÔºå`Receiver` Â∞ÜÁî± rouille Áî®‰ª£Ë°® WebSocket ÁöÑ `Websocket` ÂØπË±°Â°´ÂÖÖ„ÄÇ
                let (response, websocket) = try_or_400!(websocket::start(&request, Some("echo")));

                // Áî±‰∫é Rust ‰∏≠ I/O ÁöÑÁâπÊÄßÔºåÊàë‰ª¨ÈúÄË¶Å‰∏∫ÊØè‰∏™ WebSocket ÂêØÂä®‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ∫øÁ®ã„ÄÇ
                thread::spawn(move || {
                    // ËøôË°å‰ª£Á†ÅÂ∞ÜÈòªÂ°ûÔºåÁõ¥Âà∞‰∏äÈù¢ÁöÑ `response` Â∑≤ÁªèËøîÂõû„ÄÇ
                    let ws = websocket.recv().unwrap();
                    // Êàë‰ª¨‰ΩøÁî®ÂçïÁã¨ÁöÑÂáΩÊï∞‰ª•ÊèêÈ´òÂèØËØªÊÄß„ÄÇ
                    websocket_handling_thread(ws);
                });

                response
            },

            // ÈªòËÆ§ÁöÑ 404 Ë∑ØÁî±Ôºå‰∏éÊâÄÊúâÁ§∫‰æãÁõ∏Âêå„ÄÇ
            _ => rouille::Response::empty_404()
        )
    });
}

// Âú®ÂçïÁã¨ÁöÑÁ∫øÁ®ã‰∏≠ËøêË°åÁöÑÂáΩÊï∞„ÄÇ
fn websocket_handling_thread(mut websocket: websocket::Websocket) {
    // Êàë‰ª¨Á≠âÂæÖ WebSocket ‰∏≠ÁöÑ‰∏ÄÊù°Êñ∞Ê∂àÊÅØ„ÄÇ
    while let Some(message) = websocket.next() {
        match message {
            websocket::Message::Text(txt) => {
                // Â¶ÇÊûúÊ∂àÊÅØÊòØÊñáÊú¨Ôºå‰ΩøÁî® `send_text` Â∞ÜÂÖ∂ÂèëÈÄÅÂõûÂéª„ÄÇ
                println!("‰ªé WebSocket Êé•Êî∂Âà∞ {:?} ", txt);
                websocket.send_text(&txt).unwrap();
            }
            websocket::Message::Binary(_) => {
                println!("‰ªé WebSocket Êé•Êî∂Âà∞‰∫åËøõÂà∂Êï∞ÊçÆ");
            }
        }
    }
}
```

#### Ê°à‰æã 5 ÂèçÂêë‰ª£ÁêÜ

examples/reverse-proxy.rs

```rust
// ÁâàÊùÉÊâÄÊúâ (c) 2016 Rouille ÂºÄÂèëËÄÖ
// Ê†πÊçÆ Apache ËÆ∏ÂèØËØÅÔºåÁâàÊú¨ 2.0 ËÆ∏ÂèØ
// <LICENSE-APACHE Êàñ http://www.apache.org/licenses/LICENSE-2.0> Êàñ MIT ËÆ∏ÂèØËØÅ
// <LICENSE-MIT Êàñ http://opensource.org/licenses/MIT>ÔºåÊÇ®ÂèØÈÄâÊã©ÂÖ∂‰∏Ä„ÄÇ
// È°πÁõÆ‰∏≠Êê∫Â∏¶Ê≠§Á±ªÈÄöÁü•ÁöÑÊâÄÊúâÊñá‰ª∂ÔºåÈô§ÈùûÊ†πÊçÆËøô‰∫õÊù°Ê¨æÔºåÂê¶Âàô‰∏çÂæóË¢´Â§çÂà∂„ÄÅ‰øÆÊîπÊàñÂàÜÂèë„ÄÇ

#[macro_use]
extern crate rouille;

use std::thread;

use rouille::websocket;
use rouille::Response;

fn main() {
    // Êú¨‰æãÂ±ïÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî® rouille ‰∏é WebSockets„ÄÇ

    // ÁÆÄÁü≠Ê∂àÊÅØÔºå‰ª•‰æø‰∫∫‰ª¨‰∏çÂøÖÈòÖËØªÊ∫ê‰ª£Á†Å„ÄÇ
    // ËØ∑Ê≥®ÊÑèÔºåÂÉèÊâÄÊúâÁ§∫‰æã‰∏ÄÊ†∑ÔºåÊàë‰ª¨‰ªÖÂú® `localhost` ‰∏äÁõëÂê¨ÔºåÂõ†Ê≠§ÊÇ®Êó†Ê≥ï‰ªéËá™Â∑±ÁöÑÊú∫Âô®‰ª•Â§ñÁöÑÂÖ∂‰ªñÊú∫Âô®ËÆøÈóÆÊ≠§ÊúçÂä°Âô®„ÄÇ
    println!("Áé∞Âú®Ê≠£Âú®ÁõëÂê¨ localhost:8000");

    rouille::start_server("localhost:8000", move |request| {
        router!(request,
            (GET) (/) => {
                // `/` Ë∑ØÁî±ËæìÂá∫‰∏Ä‰∏™ HTML ÂÆ¢Êà∑Á´ØÔºå‰ª•‰æøÁî®Êà∑ÂèØ‰ª•Â∞ùËØï WebSockets„ÄÇ
                // ËØ∑Ê≥®ÊÑèÔºåÂú®ÁúüÂÆûÁΩëÁ´ô‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∫îËØ•‰ΩøÁî®ÊüêÁßçÊ®°ÊùøÂåñÁ≥ªÁªüÔºåÊàñËÄÖËá≥Â∞ë‰ªéÊñá‰ª∂‰∏≠Âä†ËΩΩ HTML„ÄÇ
                Response::html("<script type=\"text/javascript\">
                    var socket = new WebSocket(\"ws://localhost:8000/ws\", \"echo\");
                    function send(data) {
                        socket.send(data);
                    }
                    socket.onmessage = function(event) {
                        document.getElementById('result').innerHTML += event.data + '<br />';
                    }
                    </script>
                    <p>Êú¨Á§∫‰æã‰ºöÂ∞ÜÊÇ®ÂèëÈÄÅÁªôÊúçÂä°Âô®ÁöÑÊâÄÊúâÂÜÖÂÆπÂèëÈÄÅÂõûÊù•„ÄÇ</p>
                    <p><form onsubmit=\"send(document.getElementById('msg').value); return false;\">
                    <input type=\"text\" id=\"msg\" />
                    <button type=\"submit\">ÂèëÈÄÅ</button>
                    </form></p>
                    <p>Â∑≤Êé•Êî∂: </p>
                    <p id=\"result\"></p>")
            },

            (GET) (/ws) => {
                // ËøôÊòØ WebSockets Ë∑ØÁî±„ÄÇ

                // ‰∏∫‰∫ÜÂºÄÂßã‰ΩøÁî® WebSocketsÔºåÊàë‰ª¨Ë∞ÉÁî® `websocket::start`„ÄÇ
                // Â¶ÇÊûúÂÆ¢Êà∑Á´ØÊ≤°ÊúâËØ∑Ê±Ç WebSocketsÔºåËØ•ÂáΩÊï∞Â∞ÜËøîÂõûÈîôËØØÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÈÄöËøá `try_or_400!` ÂÆèÂêëÂÆ¢Êà∑Á´ØËøîÂõûÈîôËØØ 400„ÄÇ
                //
                // ËØ•ÂáΩÊï∞ËøîÂõû‰Ωú‰∏∫ `start_server` ÂáΩÊï∞‰∏ÄÈÉ®ÂàÜË¶ÅÂèëÈÄÅÂõûÁöÑÂìçÂ∫îÔºå‰ª•Âèä‰∏Ä‰∏™ `websocket` ÂèòÈáèÔºåÁ±ªÂûã‰∏∫ `Receiver<Websocket>`„ÄÇ
                // ‰∏ÄÊó¶ÂìçÂ∫îÂ∑≤ÁªèÂèëÈÄÅÂõûÂÆ¢Êà∑Á´ØÔºå`Receiver` Â∞ÜÁî± rouille Áî®‰ª£Ë°® WebSocket ÁöÑ `Websocket` ÂØπË±°Â°´ÂÖÖ„ÄÇ
                let (response, websocket) = try_or_400!(websocket::start(&request, Some("echo")));

                // Áî±‰∫é Rust ‰∏≠ I/O ÁöÑÁâπÊÄßÔºåÊàë‰ª¨ÈúÄË¶Å‰∏∫ÊØè‰∏™ WebSocket ÂêØÂä®‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ∫øÁ®ã„ÄÇ
                thread::spawn(move || {
                    // ËøôË°å‰ª£Á†ÅÂ∞ÜÈòªÂ°ûÔºåÁõ¥Âà∞‰∏äÈù¢ÁöÑ `response` Â∑≤ÁªèËøîÂõû„ÄÇ
                    let ws = websocket.recv().unwrap();
                    // Êàë‰ª¨‰ΩøÁî®ÂçïÁã¨ÁöÑÂáΩÊï∞‰ª•ÊèêÈ´òÂèØËØªÊÄß„ÄÇ
                    websocket_handling_thread(ws);
                });

                response
            },

            // ÈªòËÆ§ÁöÑ 404 Ë∑ØÁî±Ôºå‰∏éÊâÄÊúâÁ§∫‰æãÁõ∏Âêå„ÄÇ
            _ => rouille::Response::empty_404()
        )
    });
}

// Âú®ÂçïÁã¨ÁöÑÁ∫øÁ®ã‰∏≠ËøêË°åÁöÑÂáΩÊï∞„ÄÇ
fn websocket_handling_thread(mut websocket: websocket::Websocket) {
    // Êàë‰ª¨Á≠âÂæÖ WebSocket ‰∏≠ÁöÑ‰∏ÄÊù°Êñ∞Ê∂àÊÅØ„ÄÇ
    while let Some(message) = websocket.next() {
        match message {
            websocket::Message::Text(txt) => {
                // Â¶ÇÊûúÊ∂àÊÅØÊòØÊñáÊú¨Ôºå‰ΩøÁî® `send_text` Â∞ÜÂÖ∂ÂèëÈÄÅÂõûÂéª„ÄÇ
                println!("‰ªé WebSocket Êé•Êî∂Âà∞ {:?} ", txt);
                websocket.send_text(&txt).unwrap();
            }
            websocket::Message::Binary(_) => {
                println!("‰ªé WebSocket Êé•Êî∂Âà∞‰∫åËøõÂà∂Êï∞ÊçÆ");
            }
        }
    }
}
```

#### Ê°à‰æã 6 ÈùôÊÄÅÊñá‰ª∂

examples/static-files.rs

```rust
// ÁâàÊùÉÊâÄÊúâ (c) 2016 Rouille ÂºÄÂèëËÄÖ
// Ê†πÊçÆ Apache ËÆ∏ÂèØËØÅÔºåÁâàÊú¨ 2.0 ËÆ∏ÂèØ
// <LICENSE-APACHE Êàñ http://www.apache.org/licenses/LICENSE-2.0> Êàñ MIT ËÆ∏ÂèØËØÅ
// <LICENSE-MIT Êàñ http://opensource.org/licenses/MIT>ÔºåÊÇ®ÂèØÈÄâÊã©ÂÖ∂‰∏Ä„ÄÇ
// È°πÁõÆ‰∏≠Êê∫Â∏¶Ê≠§Á±ªÈÄöÁü•ÁöÑÊâÄÊúâÊñá‰ª∂ÔºåÈô§ÈùûÊ†πÊçÆËøô‰∫õÊù°Ê¨æÔºåÂê¶Âàô‰∏çÂæóË¢´Â§çÂà∂„ÄÅ‰øÆÊîπÊàñÂàÜÂèë„ÄÇ

extern crate rouille;

use rouille::Response;

fn main() {
    // Êú¨‰æãÂ±ïÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî® rouille ÊúçÂä°ÈùôÊÄÅÊñá‰ª∂„ÄÇ

    // ËØ∑Ê≥®ÊÑèÔºåÂÉèÊâÄÊúâÁ§∫‰æã‰∏ÄÊ†∑ÔºåÊàë‰ª¨‰ªÖÂú® `localhost` ‰∏äÁõëÂê¨ÔºåÂõ†Ê≠§ÊÇ®Êó†Ê≥ï‰ªéËá™Â∑±ÁöÑÊú∫Âô®‰ª•Â§ñÁöÑÂÖ∂‰ªñÊú∫Âô®ËÆøÈóÆÊ≠§ÊúçÂä°Âô®„ÄÇ
    println!("Áé∞Âú®Ê≠£Âú®ÁõëÂê¨ localhost:8000");

    rouille::start_server("localhost:8000", move |request| {
        {
            // `match_assets` ÂáΩÊï∞Â∞ùËØïÊâæÂà∞‰∏Ä‰∏™ÂêçÁß∞‰∏éËØ∑Ê±Ç URL Áõ∏ÂØπÂ∫îÁöÑÊñá‰ª∂„ÄÇ
            // Á¨¨‰∫å‰∏™ÂèÇÊï∞ (`"."`) ÊåáÊòé‰∫ÜË¶ÅÊü•ÊâæÁöÑÊñá‰ª∂ÊâÄÂú®ÁöÑÁõÆÂΩï„ÄÇ
            // ‰∏∫‰∫ÜÈÅøÂÖçÊΩúÂú®ÁöÑÂÆâÂÖ®Â®ÅËÉÅÔºå`match_assets` Ê∞∏Ëøú‰∏ç‰ºöËøîÂõûËØ•ÁõÆÂΩï‰πãÂ§ñÁöÑ‰ªª‰ΩïÊñá‰ª∂ÔºåÂç≥‰Ωø URL ÊòØ‰æãÂ¶Ç `/../../foo.txt`„ÄÇ
            let response = rouille::match_assets(&request, ".");

            // Â¶ÇÊûúÊâæÂà∞Êñá‰ª∂Ôºå`match_assets` ÂáΩÊï∞Â∞ÜËøîÂõû‰∏Ä‰∏™Â∏¶Êúâ 200 Áä∂ÊÄÅÁ†ÅÂíåÊñá‰ª∂ÂÜÖÂÆπÁöÑÂìçÂ∫î„ÄÇ
            // Â¶ÇÊûúÊú™ÊâæÂà∞Êñá‰ª∂ÔºåÂÆÉÂ∞ÜËøîÂõû‰∏Ä‰∏™Á©∫ÁöÑ 404 ÂìçÂ∫î„ÄÇ
            // ËøôÈáåÊàë‰ª¨Ê£ÄÊü•ÊòØÂê¶ÊâæÂà∞Êñá‰ª∂ÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøîÂõûÂìçÂ∫î„ÄÇ
            if response.is_success() {
                return response;
            }
        }

        // Â¶ÇÊûúÊ≤°ÊúâÈùôÊÄÅÊñá‰ª∂‰∏éËØ∑Ê±Ç URL ÂåπÈÖçÔºåÂàô‰ºöÂà∞Ëææ‰ª£Á†ÅÁöÑËøô‰∏ÄÁÇπ„ÄÇ

        // Âú®‰∏Ä‰∏™ÁúüÂÆûÁΩëÁ´ô‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∏åÊúõÂú®ËøôÈáåÊúçÂä°ÈùûÈùôÊÄÅÊñá‰ª∂Ôºà‰æãÂ¶Ç‰ΩøÁî® `router!` ÂÆèÔºâÔºå‰ΩÜÂú®ËøôÈáåÊàë‰ª¨Âè™ËøîÂõû‰∏Ä‰∏™ 404 ÂìçÂ∫î„ÄÇ
        Response::html(
            "404 ÈîôËØØ„ÄÇÂ∞ùËØï <a href=\"/README.md\">README.md</a> Êàñ \
                        <a href=\"/src/lib.rs\">src/lib.rs</a> ‰Ωú‰∏∫Á§∫‰æã„ÄÇ",
        )
        .with_status_code(404)
    });
}
```

#### Ê°à‰æã 7 PHP

```rust
// ÁâàÊùÉÊâÄÊúâ (c) 2016 Rouille ÂºÄÂèëËÄÖ
// Ê†πÊçÆ Apache ËÆ∏ÂèØËØÅÔºåÁâàÊú¨ 2.0 ËÆ∏ÂèØ
// <LICENSE-APACHE Êàñ http://www.apache.org/licenses/LICENSE-2.0> Êàñ MIT ËÆ∏ÂèØËØÅ
// <LICENSE-MIT Êàñ http://opensource.org/licenses/MIT>ÔºåÊÇ®ÂèØÈÄâÊã©ÂÖ∂‰∏Ä„ÄÇ
// È°πÁõÆ‰∏≠Êê∫Â∏¶Ê≠§Á±ªÈÄöÁü•ÁöÑÊâÄÊúâÊñá‰ª∂ÔºåÈô§ÈùûÊ†πÊçÆËøô‰∫õÊù°Ê¨æÔºåÂê¶Âàô‰∏çÂæóË¢´Â§çÂà∂„ÄÅ‰øÆÊîπÊàñÂàÜÂèë„ÄÇ

extern crate rouille;

use rouille::cgi::CgiRun;
use std::process::Command;

fn main() {
    rouille::start_server("localhost:8000", move |request| {
        // TODO: Ê∑ªÂä†Êó•ÂøóËÆ∞ÂΩï
        let mut cmd = Command::new("php-cgi");
        cmd.arg("-n"); // ‰∏ç‰ΩøÁî® php.ini Êñá‰ª∂„ÄÇ
        cmd.env("SCRIPT_FILENAME", "examples/php-test.php"); // ‰ΩøÁî®ÁöÑ PHP ËÑöÊú¨„ÄÇ
        cmd.env("REDIRECT_STATUS", "1"); // Âá∫‰∫éÂÆâÂÖ®ËÄÉËôëÔºåËøôÊòØÂøÖË¶ÅÁöÑ„ÄÇ
        cmd.start_cgi(&request).unwrap()
    });
}
```

- examples/php-test.php

```php
<?php echo "hello world";
```

#### Ê°à‰æã 8

examples/static-files.rs

```rust
// ÁâàÊùÉÊâÄÊúâ (c) 2016 Rouille ÂºÄÂèëËÄÖ
// Ê†πÊçÆ Apache ËÆ∏ÂèØËØÅÔºåÁâàÊú¨ 2.0 ËÆ∏ÂèØ
// <LICENSE-APACHE Êàñ http://www.apache.org/licenses/LICENSE-2.0> Êàñ MIT ËÆ∏ÂèØËØÅ
// <LICENSE-MIT Êàñ http://opensource.org/licenses/MIT>ÔºåÊÇ®ÂèØÈÄâÊã©ÂÖ∂‰∏Ä„ÄÇ
// È°πÁõÆ‰∏≠Êê∫Â∏¶Ê≠§Á±ªÈÄöÁü•ÁöÑÊâÄÊúâÊñá‰ª∂ÔºåÈô§ÈùûÊ†πÊçÆËøô‰∫õÊù°Ê¨æÔºåÂê¶Âàô‰∏çÂæóË¢´Â§çÂà∂„ÄÅ‰øÆÊîπÊàñÂàÜÂèë„ÄÇ

extern crate rouille;

use rouille::Response;

fn main() {
    // Êú¨‰æãÂ±ïÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî® rouille ÊúçÂä°ÈùôÊÄÅÊñá‰ª∂„ÄÇ

    // ËØ∑Ê≥®ÊÑèÔºåÂÉèÊâÄÊúâÁ§∫‰æã‰∏ÄÊ†∑ÔºåÊàë‰ª¨‰ªÖÂú® `localhost` ‰∏äÁõëÂê¨ÔºåÂõ†Ê≠§ÊÇ®Êó†Ê≥ï‰ªéËá™Â∑±ÁöÑÊú∫Âô®‰ª•Â§ñÁöÑÂÖ∂‰ªñÊú∫Âô®ËÆøÈóÆÊ≠§ÊúçÂä°Âô®„ÄÇ
    println!("Áé∞Âú®Ê≠£Âú®ÁõëÂê¨ localhost:8000");

    rouille::start_server("localhost:8000", move |request| {
        {
            // `match_assets` ÂáΩÊï∞Â∞ùËØïÊâæÂà∞‰∏Ä‰∏™ÂêçÁß∞‰∏éËØ∑Ê±Ç URL Áõ∏ÂØπÂ∫îÁöÑÊñá‰ª∂„ÄÇ
            // Á¨¨‰∫å‰∏™ÂèÇÊï∞ (`"."`) ÊåáÊòé‰∫ÜË¶ÅÊü•ÊâæÁöÑÊñá‰ª∂ÊâÄÂú®ÁöÑÁõÆÂΩï„ÄÇ
            // ‰∏∫‰∫ÜÈÅøÂÖçÊΩúÂú®ÁöÑÂÆâÂÖ®Â®ÅËÉÅÔºå`match_assets` Ê∞∏Ëøú‰∏ç‰ºöËøîÂõûËØ•ÁõÆÂΩï‰πãÂ§ñÁöÑ‰ªª‰ΩïÊñá‰ª∂ÔºåÂç≥‰Ωø URL ÊòØ‰æãÂ¶Ç `/../../foo.txt`„ÄÇ
            let response = rouille::match_assets(&request, ".");

            // Â¶ÇÊûúÊâæÂà∞Êñá‰ª∂Ôºå`match_assets` ÂáΩÊï∞Â∞ÜËøîÂõû‰∏Ä‰∏™Â∏¶Êúâ 200 Áä∂ÊÄÅÁ†ÅÂíåÊñá‰ª∂ÂÜÖÂÆπÁöÑÂìçÂ∫î„ÄÇ
            // Â¶ÇÊûúÊú™ÊâæÂà∞Êñá‰ª∂ÔºåÂÆÉÂ∞ÜËøîÂõû‰∏Ä‰∏™Á©∫ÁöÑ 404 ÂìçÂ∫î„ÄÇ
            // ËøôÈáåÊàë‰ª¨Ê£ÄÊü•ÊòØÂê¶ÊâæÂà∞Êñá‰ª∂ÔºåÂ¶ÇÊûúÊòØÔºåÂàôËøîÂõûÂìçÂ∫î„ÄÇ
            if response.is_success() {
                return response;
            }
        }

        // Â¶ÇÊûúÊ≤°ÊúâÈùôÊÄÅÊñá‰ª∂‰∏éËØ∑Ê±Ç URL ÂåπÈÖçÔºåÂàô‰ºöÂà∞Ëææ‰ª£Á†ÅÁöÑËøô‰∏ÄÁÇπ„ÄÇ

        // Âú®‰∏Ä‰∏™ÁúüÂÆûÁΩëÁ´ô‰∏≠ÔºåÊÇ®ÂèØËÉΩÂ∏åÊúõÂú®ËøôÈáåÊúçÂä°ÈùûÈùôÊÄÅÊñá‰ª∂Ôºà‰æãÂ¶Ç‰ΩøÁî® `router!` ÂÆèÔºâÔºå‰ΩÜÂú®ËøôÈáåÊàë‰ª¨Âè™ËøîÂõû‰∏Ä‰∏™ 404 ÂìçÂ∫î„ÄÇ
        Response::html(
            "404 ÈîôËØØ„ÄÇÂ∞ùËØï <a href=\"/README.md\">README.md</a> Êàñ \
                        <a href=\"/src/lib.rs\">src/lib.rs</a> ‰Ωú‰∏∫Á§∫‰æã„ÄÇ",
        )
        .with_status_code(404)
    });
}
```

### Â∏∏ËßÅÈóÆÈ¢òËß£Á≠î

#### ÊÄßËÉΩÂ¶Ç‰ΩïÔºü

Rust ‰∏≠ÁöÑÂºÇÊ≠• I/O„ÄÅÁªøÁ∫øÁ®ã„ÄÅÂçèÁ®ãÁ≠â‰ªçÁÑ∂ÈùûÂ∏∏‰∏çÊàêÁÜü„ÄÇ

Rouille Â∫ìÂè™ÊòØÂøΩÁï•‰∫ÜËøôÁßç‰ºòÂåñÔºå‰∏ìÊ≥®‰∫éÊèê‰æõÊòì‰∫é‰ΩøÁî®ÁöÑÂêåÊ≠• APIÔºåÂÖ∂‰∏≠ÊØè‰∏™ËØ∑Ê±ÇÈÉΩÂú®ÂÖ∂Ëá™Â∑±ÁöÑ‰∏ìÁî®Á∫øÁ®ã‰∏≠Â§ÑÁêÜ„ÄÇ

Âç≥‰Ωø rouille Êú¨Ë∫´ÊòØÂºÇÊ≠•ÁöÑÔºå‰Ω†‰πüÈúÄË¶ÅÂºÇÊ≠•Êï∞ÊçÆÂ∫ìÂÆ¢Êà∑Á´ØÂíåÂºÇÊ≠•Êñá‰ª∂Âä†ËΩΩÊâçËÉΩÂà©Áî®ÂÆÉ„ÄÇÁõÆÂâç Rust ÁîüÊÄÅÁ≥ªÁªü‰∏≠ËøòÊ≤°ÊúâËøôÊ†∑ÁöÑÂ∫ì„ÄÇ

‰∏ÄÊó¶ÂºÇÊ≠• I/O Ë¢´Ëß£ÂÜ≥ÔºåRouille Â∞ÜÔºàÂ∏åÊúõÊòØÈÄèÊòéÂú∞ÔºâÊõ¥Êñ∞‰ª•ËÄÉËôëÂÆÉ„ÄÇ

#### ‰ΩÜÂÆÉÂø´ÂêóÔºü

Âú®‰ΩúËÄÖÁöÑÊóß Linux Êú∫Âô®‰∏äÔºå‰ΩøÁî® `wrk -t 4 -c 4` ËøõË°åÁöÑ‰∏Ä‰∫õÂü∫Êú¨Âü∫ÂáÜÊµãËØïÊòæÁ§∫‰∫Ü‰ª•‰∏ãÁªìÊûúÔºö

- Rouille ÁöÑ hello-world Á§∫‰æãÊØèÁßíÁ∫¶ 22k ËØ∑Ê±Ç„ÄÇ
- Node.js ‰∏≠ÁöÑ hello worldÔºà‰ΩøÁî® `http.createServer`ÔºâÊØèÁßíÁ∫¶ 14k ËØ∑Ê±Ç„ÄÇ
- tokio-minihttp ÁöÑ hello-world Á§∫‰æãÔºàÊçÆÁß∞ÊòØÁõÆÂâçÂ≠òÂú®ÁöÑÊúÄÂø´ÁöÑ HTTP ÊúçÂä°Âô®ÔºâÊØèÁßíÁ∫¶ 77k ËØ∑Ê±Ç„ÄÇ
- hyper ÁöÑ hello Á§∫‰æãÔºà‰πü‰ΩøÁî®Â∏¶Êúâ mio ÁöÑÂºÇÊ≠• I/OÔºâÊØèÁßíÁ∫¶ 53k ËØ∑Ê±Ç„ÄÇ
- Go ‰∏≠ÁöÑ hello world ÊØèÁßíÁ∫¶ 51k ËØ∑Ê±Ç„ÄÇ
- Nginx ÁöÑÈªòËÆ§ÂÆâË£ÖÊØèÁßíÁ∫¶ 39k ËØ∑Ê±Ç„ÄÇ

ËôΩÁÑ∂‰∏çÊòØÊúÄÂø´ÁöÑÔºå‰ΩÜ rouille ÂÖ∑Êúâ **ÂêàÁêÜÁöÑ** ÊÄßËÉΩ„ÄÇÂú®ÊâÄÊúâËøô‰∫õÁ§∫‰æã‰∏≠Ôºårouille ÊòØÂîØ‰∏Ä‰ΩøÁî®ÂêåÊ≠• I/O ÁöÑ„ÄÇ

#### ÊòØÂê¶ÊúâÁî®‰∫éÊï∞ÊçÆÂ∫ìËøûÊé•„ÄÅÊ®°ÊùøÁ≠âÂäüËÉΩÁöÑÊèí‰ª∂Ôºü

Â∞ÜÊï∞ÊçÆÂ∫ìÊàñÊ®°ÊùøÈõÜÊàêÂà∞‰Ω†Áî® rouille ÁºñÂÜôÁöÑ Web ÊúçÂä°Âô®‰∏≠Â∫îËØ•ÊòØÂæÆ‰∏çË∂≥ÈÅìÁöÑ„ÄÇÊ≠§Â§ñÔºåÊèí‰ª∂ÈúÄË¶ÅÁª¥Êä§ÔºåÂπ∂ÂÄæÂêë‰∫éÈÄ†Êàê‰æùËµñÂú∞Áã±„ÄÇ‰ΩúËÄÖËÆ§‰∏∫ÔºåÈÄöÂ∏∏‰∏ç‰ΩøÁî®Êèí‰ª∂Êõ¥Â•Ω„ÄÇ

#### ‰ΩÜÊàë‰π†ÊÉØ‰∫ÜÁ±ª‰ºº Express ÁöÑÊ°ÜÊû∂ÔºÅ

‰∏çË¶ÅËøôÊ†∑ÂÅöÔºöÔºà‰º™‰ª£Á†ÅÔºâ

```
server.add_middleware(function() {
    // ‰∏≠Èó¥‰ª∂ 1
});

server.add_middleware(function() {
    // ‰∏≠Èó¥‰ª∂ 2
});

server.add_middleware(function() {
    // ‰∏≠Èó¥‰ª∂ 3
});
```

Âú® rouille ‰∏≠Ôºå‰Ω†Âè™ÈúÄÂÆåÂÖ®ÊâãÂä®Â§ÑÁêÜÊØè‰∏™ËØ∑Ê±ÇÔºö

```
// Âú®ËøôÈáåÂàùÂßãÂåñ‰∏ÄÂàá

rouille::start_server(..., move |request| {
    // ‰∏≠Èó¥‰ª∂ 1

    // ‰∏≠Èó¥‰ª∂ 2

    // ‰∏≠Èó¥‰ª∂ 3
});
```

ÈöèÁùÄÊàë‰ª¨ÂØπ Rust Âíå Rouille ÁöÑÊé¢Á¥¢Âëä‰∏ÄÊÆµËêΩÔºåÊòØÊó∂ÂÄô‰∏∫ËøôÊÆµÊóÖÁ®ãÁîª‰∏ä‰∏Ä‰∏™ÂúÜÊª°ÁöÑÂè•Âè∑‰∫Ü„ÄÇÂú®ËøôÁØáÊñáÁ´†‰∏≠ÔºåÊàë‰ª¨‰∏ç‰ªÖÊè≠ÂºÄ‰∫Ü Rust ËØ≠Ë®ÄÂú® Web ÂºÄÂèëÈ¢ÜÂüüÁöÑÁ•ûÁßòÈù¢Á∫±ÔºåËøòÊ∑±ÂÖ•‰ΩìÈ™å‰∫Ü Rouille Ê°ÜÊû∂ÁöÑËΩªÂ∑ß‰∏éÂº∫Â§ß„ÄÇ

#### ÁªìËØ≠ÔºöÂêØËà™ÔºåÊé¢Á¥¢Êú™Áü•ÁöÑ `Web` ÂºÄÂèëÂÆáÂÆô

Âú®ÁºñÁ®ãÁöÑÊòüËæ∞Â§ßÊµ∑‰∏≠Ôºå`Rust` Âíå `Rouille` Â∞±ÂÉèÊòØ‰∏ÄËâòË£ÖÂ§áÁ≤æËâØÁöÑËà™ËàπÔºåÂÆÉ‰ª¨Â∞ÜÂ∏¶‰Ω†Á©øË∂äÊÄßËÉΩÁöÑÊøÄÊµÅÔºåÁªïËøáÂÆâÂÖ®ÁöÑÊöóÁ§ÅÔºåÊúÄÁªàÊäµËææÈ´òÊïà„ÄÅÂÆâÂÖ®‰∏îÂèØÈù†ÁöÑ Web ÂºÄÂèëÂΩºÂ≤∏„ÄÇÁé∞Âú®ÔºåÂΩì‰Ω†Á´ôÂú®ËøôËâòËà™ËàπÁöÑÁî≤Êùø‰∏äÔºåÂáÜÂ§áÊâ¨Â∏ÜËµ∑Ëà™Êó∂ÔºåËØ∑ËÆ∞ÂæóÔºö

- **„ÄåÂãá‰∫éÊé¢Á¥¢„Äç**ÔºöÊØè‰∏Ä‰∏™Êñ∞ÁöÑÊ°ÜÊû∂ÂíåËØ≠Ë®ÄÈÉΩÊòØÊé¢Á¥¢ÁºñÁ®ã‰∏ñÁïåÁöÑ‰∏ÄÊâáÁ™óÔºå‰∏çË¶ÅÂÆ≥ÊÄïÊú™Áü•ÔºåÂãá‰∫éÊé¢Á¥¢Ôºå‰Ω†‰ºöÂèëÁé∞Êõ¥Â§öÁºñÁ®ã‰πãÁæé„ÄÇ
- **„ÄåÊåÅÁª≠Â≠¶‰π†„Äç**ÔºöÊäÄÊúØÁöÑ‰∏ñÁïåÊó•Êñ∞ÊúàÂºÇÔºåÊåÅÁª≠Â≠¶‰π†ÊòØ‰øùÊåÅÁ´û‰∫âÂäõÁöÑÂÖ≥ÈîÆ„ÄÇÊó†ËÆ∫ÊòØ Rust ÁöÑÊ∑±ÂÖ•ÊéåÊè°ÔºåËøòÊòØÂØπ Rouille ÁöÑÁÜüÁªÉËøêÁî®ÔºåÈÉΩÈúÄË¶Å‰Ω†‰∏çÊñ≠Âú∞Â≠¶‰π†ÂíåÂÆûË∑µ„ÄÇ
- **„Äå‰∫´ÂèóËøáÁ®ã„Äç**ÔºöÁºñÁ®ã‰∏ç‰ªÖ‰ªÖÊòØÂ∑•‰ΩúÔºåÂÆÉ‰πüÂèØ‰ª•ÊòØ‰∏ÄÁßçÂàõÈÄ†ÂíåË°®ËææÁöÑÊñπÂºè„ÄÇ‰∫´ÂèóÁºñÁ†ÅÁöÑËøáÁ®ãÔºåËÆ©ÊØè‰∏ÄÊ¨°ÈîÆÁõòÁöÑÊï≤ÂáªÈÉΩÂÖÖÊª°‰πêË∂£ÂíåÊàêÂ∞±ÊÑü„ÄÇ

ÊúÄÂêéÔºå‰∏çË¶ÅÂøòËÆ∞ÔºåÊó†ËÆ∫‰Ω†Âú® Rust Âíå Rouille ÁöÑËà™Á®ã‰∏≠ÈÅáÂà∞‰ΩïÁßçÈ£éÊµ™ÔºåÈÉΩÊúâ‰∏ÄÁæ§ÁÉ≠ÊÉÖÁöÑÁ§æÂå∫ÊàêÂëòÂíå‰∏∞ÂØåÁöÑÂú®Á∫øËµÑÊ∫ê‰Ωú‰∏∫‰Ω†ÁöÑÁÅØÂ°îÂíåÈÅøÈ£éÊ∏Ø„ÄÇ

Áé∞Âú®ÔºåË∞ÉÊï¥Â•Ω‰Ω†ÁöÑËà™ÂêëÔºåÊâ¨Ëµ∑‰Ω†ÁöÑÂ∏ÜÔºåËÆ©Êàë‰ª¨‰∏ÄËµ∑ÂêØËà™ÔºåÊé¢Á¥¢ÈÇ£ÁâáÂ±û‰∫é Web ÂºÄÂèëËÄÖÁöÑÊú™Áü•ÂÆáÂÆô„ÄÇÊÑø‰Ω†ÁöÑÊóÖÁ®ãÂÖÖÊª°ÂèëÁé∞Ôºå‰Ω†ÁöÑ‰ª£Á†ÅÂÖÖÊª°ÂÖâËäíÔºå‰Ω†ÁöÑÂ∫îÁî®ÔºåÂ¶ÇÂêåÊòüËæ∞Ëà¨ÁíÄÁí®„ÄÇ

## RocketÔºöÂêéÂè∞Ê°ÜÊû∂

[Rust ÂêéÂè∞Ê°ÜÊû∂ Rocket ÁÅ´ÁÆ≠‰πãÊóÖÔºöÊâìÈÄ†Êú™Êù• Web Â∫îÁî®ÁöÑÁªàÊûÅÊåáÂçó(‰∏Ä) (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkwNjYxNTY3Mg==&mid=2247493780&idx=1&sn=be8acca1de467433e7fd5f90c5f770d1&chksm=c0e76683f790ef9559af946cf4bf8b75081c0cf91131ca5f8f1d82a4ffc1f2468eddc8a789f0&scene=21#wechat_redirect)

[Rust ÂêéÂè∞Ê°ÜÊû∂ Rocket ‰πã Responders ÂìçÂ∫î‰ΩìÔºöÊâìÈÄ†Êú™Êù• Web Â∫îÁî®ÁöÑÁªàÊûÅÊåáÂçó(‰∫å) (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkwNjYxNTY3Mg==&mid=2247493821&idx=1&sn=ea06b798dc85d38afdcae82f4044ca2c&chksm=c0e766aaf790efbc144f337f453830504e6d5bc18dbadcdbb32fe2a96e5263ac84c9158f6a5c&cur_album_id=3386270396001402881&scene=190#rd)

Rocket ÊòØ Rust ÁöÑ Web Ê°ÜÊû∂„ÄÇÂ¶ÇÊûú‰Ω†ÊÑøÊÑèÔºå‰Ω†ÂèØ‰ª•ÊääRocketÊÉ≥Ë±°Êàê‰∏Ä‰∏™Êõ¥ÁÅµÊ¥ª„ÄÅÊõ¥ÂèãÂ•ΩÁöÑRails„ÄÅFlask„ÄÅBottleÂíåYesodÊ∑∑Âêà‰Ωì„ÄÇÊàë‰ª¨Êõ¥ÊÑøÊÑèÂ∞ÜÁÅ´ÁÆ≠ËßÜ‰∏∫Êñ∞‰∫ãÁâ©„ÄÇRocket Êó®Âú®Âø´ÈÄü„ÄÅÁÆÄÂçïÂíåÁÅµÊ¥ªÔºåÂêåÊó∂Â∞ΩÂèØËÉΩÊèê‰æõÊúâ‰øùËØÅÁöÑÂÆâÂÖ®ÊÄß„ÄÇÈáçË¶ÅÁöÑÊòØÔºåRocket ËøòÊó®Âú®ÂèòÂæóÊúâË∂£ÔºåÂÆÉÈÄöËøáÁ°Æ‰øùÊÇ®ÁºñÂÜôÂ∞ΩÂèØËÉΩÂ∞ëÁöÑ‰ª£Á†ÅÊù•ÂÆåÊàê‰ªªÂä°Êù•ÂÆûÁé∞Ëøô‰∏ÄÁÇπ„ÄÇ

Rocket Êèê‰æõ‰∫Ü‰ΩøÁî® Rust ÊûÑÂª∫ Web ÊúçÂä°Âô®ÂíåÂ∫îÁî®Á®ãÂ∫èÁöÑÂéüËØ≠ÔºöRocket Êèê‰æõË∑ØÁî±„ÄÅËØ∑Ê±ÇÈ¢ÑÂ§ÑÁêÜÂíåÂìçÂ∫îÂêéÂ§ÑÁêÜ„ÄÇÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫è‰ª£Á†ÅÊåáÁ§∫ Rocket ËøõË°åÈ¢ÑÂ§ÑÁêÜÂíåÂêéÂ§ÑÁêÜÁöÑÂÜÖÂÆπÔºåÂπ∂Â°´Ë°•È¢ÑÂ§ÑÁêÜÂíåÂêéÂ§ÑÁêÜ‰πãÈó¥ÁöÑÁ©∫ÁôΩ„ÄÇ

```
#[get("/world")]              // <- route attribute
fn world() -> &'static str {  // <- request handler
    "hello, world!"
}
```

‰∏äÈù¢ÁöÑ‰æãÂ≠êËØ¥Êòé‰∏Ä‰∏ãÔºåÂÆÉÊòØ‰∏Ä‰∏™Â§ÑÁêÜÁ®ãÂ∫èÔºåÂè™ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂÆÉÊé•Âèó‰ªªÊÑèÊï∞ÈáèÁöÑÂèÇÊï∞Âπ∂ËøîÂõû‰ªªÊÑèÁ±ªÂûã„ÄÇË¶ÅÂåπÈÖçÁöÑÂèÇÊï∞ÂåÖÊã¨ÈùôÊÄÅË∑ØÂæÑ„ÄÅÂä®ÊÄÅË∑ØÂæÑ„ÄÅË∑ØÂæÑÊÆµ„ÄÅË°®Âçï„ÄÅÊü•ËØ¢Â≠óÁ¨¶‰∏≤„ÄÅËØ∑Ê±ÇÊ†ºÂºèËØ¥ÊòéÁ¨¶ÂíåÊ≠£ÊñáÊï∞ÊçÆ„ÄÇRocket ‰ΩøÁî®Â±ûÊÄßÔºàÁúãËµ∑Êù•ÂÉèÂÖ∂‰ªñËØ≠Ë®Ä‰∏≠ÁöÑÂáΩÊï∞Ë£ÖÈ•∞Âô®ÔºâÊù•ÁÆÄÂåñÂ£∞ÊòéË∑ØÁî±„ÄÇË∑ØÁî±ÊòØÈÄöËøáÊ≥®ÈáäÂáΩÊï∞ÔºàÂ§ÑÁêÜÁ®ãÂ∫èÔºâÊù•Â£∞ÊòéÁöÑÔºåÂÖ∂‰∏≠ÂåÖÂê´Ë¶ÅÂåπÈÖçÁöÑÂèÇÊï∞ÈõÜ„ÄÇ

```
rocket::build().mount("/hello", routes![world]);
```



‰∏äÈù¢ÁöÑ‰æãÂ≠êËØ¥Êòé‰∏Ä‰∏ãÔºåÈÄöËøámountÊñπÊ≥ïÔºåÂÆÉÂ∞ÜË∑ØÁî±ÂíåÂ§ÑÁêÜÁ®ãÂ∫èÁªÑË£ÖÂú®‰∏ÄËµ∑ÔºåÂÆÉÊåÇËΩΩ‰πãÂêéÔºårocketÊé•Êî∂Âà∞ËØ∑Ê±ÇÂêéÔºåÂ∞±ÂèØ‰ª•Â∞ÜËØ∑Ê±ÇË∑ØÁî±Âà∞Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ

```
#[launch]
fn rocket() -> _ {
    rocket::build().mount("/hello", routes![world])
}
```



‰∏äÈù¢ÁöÑ‰æãÂ≠êËØ¥Êòé‰∏Ä‰∏ãÔºåÂú®rocketÊåÇËΩΩË∑ØÁî±‰πãÂêéÔºåÂ∞±ÂèØ‰ª•ËøõË°åÂèëÂ∞Ñ‰∫ÜÔºåÂÆÉÂèëÂ∞ÑÊúâ‰∏§ÁßçÊñπÂºèÔºå‰∏äÈù¢ÁöÑ‰æãÂ≠êÊòØÂÆÉÊé®ËçêÁöÑÂèëÂ∞ÑÊñπÂºèÔºåÂÆÉ‰ºöÁîüÊàê‰∏Ä‰∏™ÂáΩÊï∞Êù•ËÆæÁΩÆÂºÇÊ≠•ËøêË°åÊó∂ÂíåÂêØÂä®webÊúçÂä°„ÄÇ

ÊòØ‰∏çÊòØÂæàÁÆÄÂçïÔºüÂè™ÈúÄË¶ÅÁºñÂÜôÂ§ÑÁêÜÁ®ãÂ∫èÔºåÁÑ∂ÂêéÊåâÁÖßÊ†ºÂºèËøõË°åÊåÇËΩΩ‰πãÂêéÔºåÂ∞±ÂèØ‰ª•ËøõË°åÂèëÂ∞Ñ‰∫Ü„ÄÇÂÖ∂ÂÆûÔºåÂÆÉËøòÊúâÂæàÂ§öÁöÑÂäüËÉΩÔºå‰Ω†ÂèØ‰ª•Êü•ÁúãÂÆòÊñπÊñáÊ°£rocket.rs„ÄÇ

‰Ω†Âú®‰ΩøÁî®ÂÆÉ‰πãÈó¥ÔºåÂª∫ËÆÆÂÖàÊµèËßà‰∏ãÂÆÉÁöÑÊñáÊ°£‰ªãÁªçÔºåÁÑ∂ÂêéËøêË°åÂÆÉÁöÑexample‰∏ãÁöÑ‰æãÂ≠ê„ÄÇÂÆòÊñπÁöÑÊñáÊ°£ÂΩìÂâçÊòØ0.5-rcÔºå‰∏äÈù¢ÊâÄÂàóÂá∫ÁöÑ‰æãÂ≠êÂíåËØ¥ÊòéÈÉΩÊòØÂü∫‰∫éËøô‰∏™ÁâàÊú¨ÁöÑ„ÄÇ

ÊàëÂú®Êú¨Âú∞ËøêË°årocket demoÊó∂ÔºåÂèëÁé∞Á∫ø‰∏äÁöÑÁâàÊú¨ÊòØ0.4.11ÔºåÂÆÉÁöÑ‰æãÂ≠êÂíåËØ¥Êòé‰∏é0.5-rcÊúâ‰∫õËÆ∏ÁöÑÂ∑ÆÂºÇÔºåÊàëÂú®‰ΩøÁî®0.4.11ÁâàÊú¨Êó∂ÔºåÂèëÁé∞Âú®windows 10‰∏ãÁºñËØë‰ºöÊä•ÈîôÔºåÊä•Èîô‰ø°ÊÅØÂ¶Ç‰∏ãÔºö

```

error: failed to run custom build command for `pear_codegen v0.1.5`

Caused by:
  process didn't exit successfully: `D:\workspace\rust-workspace\rocket-demo\target\debug\build\pear_codegen-57c49e3ab9feb78c\build-script-build` (exit code: 101)
  --- stderr
  Error: Pear requires a 'dev' or 'nightly' version of rustc.
  Installed version: 1.70.0 (2023-05-31)
  Minimum required:  1.31.0-nightly (2018-10-05)
  thread 'main' panicked at 'Aborting compilation due to incompatible compiler.', C:\Users\DEV\.cargo\registry\src\mirrors.ustc.edu.cn-61ef6e0cd06fb9b8\pear_codegen-0.1.5\build.rs:24:13
  note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
warning: build failed, waiting for other jobs to finish...
```



ÊêúÁ¥¢‰πãÂêéÔºåGitHubÁöÑËß£ÂÜ≥ÊñπÊ≥ïÊòØËøêË°åcargo updateÔºåÁÑ∂ÂêéÂÜçÊ¨°ËøêË°åÔºåËøô‰∏™ÊàëÊ≤°ÊúâÂÆûÈôÖÊµãËØïÔºåÂõ†‰∏∫ÊàëÂèëÁé∞‰ΩøÁî®0.5-rcÁöÑÁâàÊú¨ÁöÑrocketÔºåÂú®ÂÜôÊ≥ï‰∏äÊØîËæÉÁÆÄÁªÉ„ÄÇÂ∞±Â∞Ü‰æùËµñÁõ¥Êé•ÂàáÊç¢Âà∞0.5-rc„ÄÇ

Âú®[dependencies]‰∏≠Âä†ÂÖ•Ôºö

```
rocket = "=0.5.0-rc.3"
```



Ê∫êÊñá‰ª∂main.rsÂ¶Ç‰∏ãÔºö

```
#[macro_use] extern crate rocket;

#[get("/")]
fn hello() -> &'static str {
    "Hello, world!"
}

#[launch]
fn rocket() -> _ {
    rocket::build().mount("/", routes![hello])
}
```



ÂèØ‰ª•ËøêË°åÔºåËøêË°åÂêéËæìÂá∫Ôºö

```bash
Configured for debug.
   >> address: 127.0.0.1
   >> port: 8000
   >> workers: 4
   >> max blocking threads: 512
   >> ident: Rocket
   >> IP header: X-Real-IP
   >> limits: bytes = 8KiB, data-form = 2MiB, file = 1MiB, form = 32KiB, json = 1MiB, msgpack = 1MiB, string = 8KiB
   >> temp dir: C:\Users\DEV\AppData\Local\Temp\
   >> http/2: true
   >> keep-alive: 5s
   >> tls: disabled
   >> shutdown: ctrlc = true, force = true, grace = 2s, mercy = 3s
   >> log level: normal
   >> cli colors: true
Routes:
   >> (hello) GET /
Fairings:
   >> Shield (liftoff, response, singleton)
Shield:
   >> X-Content-Type-Options: nosniff
   >> Permissions-Policy: interest-cohort=()
   >> X-Frame-Options: SAMEORIGIN
Rocket has launched from http://127.0.0.1:8000
```

ÊàëÁî®ËøáaxumÔºåÂú®ÂëΩ‰ª§Ë°åËæìÂá∫ËøôÂùóÔºåËøòÊòØËßâÂæórocketÊØîËæÉÂ•Ω‰∏ÄÁÇπÔºåËæìÂá∫ÁöÑ‰ø°ÊÅØÂæàËØ¶ÁªÜ„ÄÇÂÖ∂ÂÆÉÁöÑËøòÊ≤°ÊúâÊ∑±ÂÖ•‰∫ÜËß£ÔºåÂæÖÊàë‰∫ÜËß£‰πãÂêéÔºåÂú®ÂÖ∂ÂÆÉÁöÑÊñáÁ´†ËøõË°å‰ªãÁªç„ÄÇÁΩë‰∏äÁöÑËßÇÁÇπÔºårocketÊÄßËÉΩÁõ∏ÊØîËæÉ‰∫éaxum„ÄÅwarpÁ≠âÁ®çÂæÆÂ∑ÆÁÇπÔºåÊàë‰∏™‰∫∫ËßâÂæóÂÆÉÂú®ËæÖÂä©ËøôÂùóÊØîËæÉÂº∫Ôºå‰æãÂ¶ÇÈÖçÁΩÆÊñá‰ª∂„ÄÅÂëΩ‰ª§Ë°åËæìÂá∫„ÄÅÂäüËÉΩÊ®°ÂùóÁ≠âÊñπÈù¢„ÄÇÊúüÂæÖ0.5ÁâàÊú¨ÁöÑÁ®≥ÂÆöÁâàÂèëÂ∏É„ÄÇ

## ÊéåÊè° Sauron„ÄêÊïôÁ®ã„ÄëÔºöÁî® Rust ÊâìÈÄ†‰ºòÈõÖÈ´òÊïàÁöÑ Web Â∫îÁî®ÔºåÁÆÄÂåñÁºñÁ†ÅÔºå‰∏ìÊ≥®‰∏öÂä°ÈÄªËæë

[ÊéåÊè° Sauron„ÄêÊïôÁ®ã„ÄëÔºöÁî® Rust ÊâìÈÄ†‰ºòÈõÖÈ´òÊïàÁöÑ Web Â∫îÁî®ÔºåÁÆÄÂåñÁºñÁ†ÅÔºå‰∏ìÊ≥®‰∏öÂä°ÈÄªËæë (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkwNjYxNTY3Mg==&mid=2247494230&idx=1&sn=e1deed931f55a1f0d21e0d4eaeff25cb&chksm=c0e76441f790ed579acc629cca14f1b624a594f1b6aa94010c4668e7000a57cb7d8b6ac0abac&cur_album_id=3386270396001402881&scene=190#rd)

## ËÅä‰∏ÄËÅä‰ΩøÁî®RustËøõË°åWebÂºÄÂèëÁöÑÁªÜËäÇ

[ËÅä‰∏ÄËÅä‰ΩøÁî®RustËøõË°åWebÂºÄÂèëÁöÑÁªÜËäÇ (qq.com)](https://mp.weixin.qq.com/s/kDxIJEy9kfvvRXEZCzVI7Q)

# Web ÂâçÁ´ØÁïåÈù¢ÊûÑÂª∫

## KoboldÔºö ÁÆÄÊ¥ÅÂ£∞ÊòéÂºèÁöÑ Web ÁïåÈù¢ÊûÑÂª∫Â∑•ÂÖ∑Â∫ì

ÊñáÊ°£Ôºöhttps://docs.rs/kobold/latest/kobold/

- Â£∞ÊòéÊÄß[`ËßÜÂõæÔºÅ`](https://docs.rs/kobold/latest/kobold/macro.view.html) ÂÆèÔºåÂÆÉ‰ΩøÁî® HTML È£éÊ†ºÁöÑËØ≠Ê≥ïÂíåÂèØÈÄâÁöÑÁªìÊùüÊ†áËÆ∞„ÄÇ
- ÂÖ∑ÊúâÂèØÈÄâÂèÇÊï∞ÁöÑÂäüËÉΩ[ÁªÑ‰ª∂](https://docs.rs/kobold/latest/kobold/attr.component.html)„ÄÇ
- Áä∂ÊÄÅÁÆ°ÁêÜÂíå‰∫ã‰ª∂Â§ÑÁêÜ„ÄÇ
- È´òÊÄßËÉΩÂíå Rust ÁîüÊÄÅÁ≥ªÁªü‰∏≠ÂßãÁªà‰øùÊåÅÊúÄ‰ΩéÁöÑ Wasm Âç†Áî®Á©∫Èó¥„ÄÇ

ÊïôÁ®ãÔºö[Rust Kobold ÊïôÁ®ãÔºö ÁÆÄÊ¥ÅÂ£∞ÊòéÂºèÁöÑ Web ÁïåÈù¢ÊûÑÂª∫Â∑•ÂÖ∑ (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkwNjYxNTY3Mg==&mid=2247493858&idx=1&sn=a7d094714c2691bd1f954909369f731a)

## Rust DOM Ê°ÜÊû∂ÔºöDominator ÊòØ‰∏ñÁïå‰∏äÊúÄÂø´ÁöÑ DOM Ê°ÜÊû∂‰πã‰∏Ä

### Ê¶ÇËø∞

È°πÁõÆÂú∞ÂùÄ

`Dominator` ÊòØ‰∏ñÁïå‰∏äÊúÄÂø´ÁöÑ `DOM` Ê°ÜÊû∂‰πã‰∏ÄÔºàÂÆÉÂíå `Inferno` ‰∏ÄÊ†∑Âø´Ôºâ„ÄÇ

ÂÆÉ‰∏ç‰ΩøÁî® VDOMÔºåËÄåÊòØ‰ΩøÁî®ÂéüÂßãÁöÑ DOM ËäÇÁÇπ‰ª•Ëé∑ÂæóÊúÄ‰Ω≥ÊÄßËÉΩ„ÄÇÂÆÉÁ¥ßË¥¥Â∫ïÂ±ÇÔºåÂá†‰πéÊ≤°ÊúâÂºÄÈîÄÔºöÊâÄÊúâÊìç‰ΩúÈÉΩÂÜÖËÅîÂà∞ÂéüÂßãÁöÑ DOM Êìç‰Ωú‰∏ä„ÄÇ

Âç≥‰ΩøÂú®ÈùûÂ∏∏Â§ßÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠ÔºåÂÆÉ‰πüËÉΩÈùûÂ∏∏Â•ΩÂú∞Êâ©Â±ïÔºåÂõ†‰∏∫Êõ¥Êñ∞ÂßãÁªàÊòØ O(1)Êó∂Èó¥ÔºåÊó†ËÆ∫‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫èÊúâÂ§öÂ§ßÊàñÂµåÂ•óÊúâÂ§öÊ∑±„ÄÇ

ÂÆÉÂÖ∑ÊúâÊñπ‰æøÁöÑÈ´òÁ∫ßÂ£∞ÊòéÂºè `API`ÔºåÂÖ∂Â∑•‰ΩúÊñπÂºèÁ±ª‰ºº‰∫é `React` ÁªÑ‰ª∂Ôºå‰ΩÜ‰∏ì‰∏∫ Rust Âíå FRP ‰ø°Âè∑ËÆæËÆ°„ÄÇ

ÂÆÉÈÄöÂ∏∏ÂäüËÉΩÈΩêÂÖ®ÔºåÂ∞ΩÁÆ°ÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªÂèØËÉΩ‰ºöÊ∑ªÂä†Êõ¥Â§öÁöÑ‰æøÂà©ÊñπÊ≥ï„ÄÇ

ÂÆÉÁõ∏ÂΩìÁ®≥ÂÆöÔºöÁ†¥ÂùèÊÄßÂèòÊõ¥ÈùûÂ∏∏ÁΩïËßÅÔºåÂπ∂‰ΩøÁî®Ê≠£Â∏∏ÁöÑËØ≠‰πâÂåñÁâàÊú¨Á≥ªÁªüËøõË°åÂ§ÑÁêÜ„ÄÇ

ÊàëÂú®Â§ö‰∏™Â§ßÂûãÂ∫îÁî®Á®ãÂ∫è‰∏≠ÊàêÂäü‰ΩøÁî®‰∫Ü `Dominator`ÔºåÂÆÉÁöÑÊÄßËÉΩË°®Áé∞ÈùûÂ∏∏Âá∫Ëâ≤„ÄÇ

### ËøêË°åÁ§∫‰æã

Âè™ÈúÄÊâßË°å `yarn`ÔºåÁÑ∂ÂêéÊâßË°å `yarn start`ÔºàÁºñËØë‰æùËµñÈ°πÈúÄË¶Å‰∏ÄÊÆµÊó∂Èó¥ÔºåËØ∑ËÄêÂøÉÁ≠âÂæÖÔºâ

#### Âä®ÁîªÈ°πÁõÆ

Â∑•Á®ãÁõÆÂΩïÁªìÊûÑ

```
cd examples/animation
```

![ÂõæÁâá](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/640-1714731117954-329.webp)

##### rollup.config.js

```
import rust from "@wasm-tool/rollup-plugin-rust";
import serve from "rollup-plugin-serve";
import livereload from "rollup-plugin-livereload";
import { terser } from "rollup-plugin-terser";

const is_watch = !!process.env.ROLLUP_WATCH;

export default {
    input: {
        index: "./Cargo.toml",
    },
    output: {
        dir: "dist/js",
        format: "iife",
        sourcemap: true,
    },
    plugins: [
        rust({
            serverPath: "js/",
        }),

        is_watch && serve({
            contentBase: "dist",
            open: true,
        }),

        is_watch && livereload("dist"),

        !is_watch && terser(),
    ],
};
```

##### package.json

```json
{
	"private": true,
	"author": "Pauan <pauanyu+github@pm.me>",
	"name": "animation",
	"version": "0.1.0",
	"scripts": {
		"build": "rimraf dist/js && rollup --bundleConfigAsCjs --config",
		"watch": "rimraf dist/js && rollup --bundleConfigAsCjs --config --watch"
	},
	"devDependencies": {
		"@wasm-tool/rollup-plugin-rust": "^2.0.0",
		"rimraf": "^5.0.0",
		"rollup": "^3.21.0",
		"rollup-plugin-livereload": "^2.0.0",
		"rollup-plugin-serve": "^2.0.0",
		"rollup-plugin-terser": "^7.0.2"
	}
}
```

examples/animation/Cargo.toml

```yaml
[package]
name = "animation"
version = "0.1.0"
description = "Animation demo using dominator"
authors = ["Pauan <pauanyu+github@pm.me>"]
categories = ["wasm"]
readme = "README.md"
license = "MIT"
edition = "2018"

[workspace]

[dependencies]
console_error_panic_hook = "0.1.6"
dominator = "0.5.18"
wasm-bindgen = "0.2.74"
futures = "0.3.15"
futures-signals = "0.3.20"
gloo-timers = { version = "0.2.1", features = ["futures"] }
once_cell = "1.7.2"

[dependencies.web-sys]
version = "0.3.51"
features = [
    "console",
]
```

examples/animation/src/lib.rs

```rust
use wasm_bindgen::prelude::*;
use std::sync::Arc;
use once_cell::sync::Lazy;
use futures::stream::StreamExt;
use futures_signals::map_ref;
use futures_signals::signal::{Mutable, SignalExt};
use futures_signals::signal_vec::MutableVec;
use gloo_timers::future::IntervalStream;
use dominator::{Dom, html, clone, events, class};
use dominator::traits::AnimatedSignalVec;
use dominator::animation::{easing, Percentage, MutableAnimation, AnimatedMapBroadcaster};


struct Bar {
    color: u32,
    wave_animation: MutableAnimation,
    hover_animation: MutableAnimation,
}

impl Bar {
    fn new(color: u32) -> Arc<Self> {
        Arc::new(Self {
            color,
            wave_animation: MutableAnimation::new(3000.0),
            hover_animation: MutableAnimation::new(300.0),
        })
    }

    fn render(bar: Arc<Bar>, insert_animation: AnimatedMapBroadcaster) -> Dom {
        static CLASS: Lazy<String> = Lazy::new(|| class! {
            .style("border-radius", "10px")
            .style("position", "relative")
            .style("border-style", "solid")
            .style("border-width", "5px")
        });

        let low: f64 = bar.color as f64;
        let high: f64 = (bar.color + 60) as f64;

        html!("div", {
            .class(&*CLASS)


            .future(bar.wave_animation.signal().for_each(clone!(bar => move |t| {
                let t: f64 = t.into_f64();

                // Automatically cycles back and forth between 0 and 1
                // This creates a wave effect
                if t == 0.0 {
                    bar.wave_animation.animate_to(Percentage::new(1.0));

                } else if t == 1.0 {
                    bar.wave_animation.animate_to(Percentage::new(0.0));
                }

                async {}
            })))


            // Animation when hovering over the Bar
            .event(clone!(bar => move |_: events::MouseEnter| {
                bar.hover_animation.animate_to(Percentage::new(1.0));
            }))

            .event(clone!(bar => move |_: events::MouseLeave| {
                bar.hover_animation.animate_to(Percentage::new(0.0));
            }))


            // These will animate when the Bar is inserted/removed
            .style_signal("left", insert_animation.signal()
                .map(|t| t.none_if(1.0).map(|t| easing::in_out(t, easing::cubic)))
                .map(|t| t.map(|t| format!("{}px", t.range_inclusive(100.0, 0.0)))))

            .style_signal("height", map_ref! {
                let insert = insert_animation.signal().map(|t| easing::in_out(t, easing::cubic)),

                let hover = bar.hover_animation.signal().map(|t| easing::out(t, easing::cubic)) =>

                // Animate the height between 5px and 15px when hovering
                // But if the Bar is being inserted/removed then it will interpolate to 0px
                Some(format!("{}px", insert.range_inclusive(0.0, hover.range_inclusive(5.0, 15.0))))
            })

            .style_signal("border-width", insert_animation.signal()
                .map(|t| t.none_if(1.0).map(|t| easing::in_out(t, easing::cubic)))
                .map(|t| t.map(|t| format!("{}px", t.range_inclusive(0.0, 5.0)))))


            // These will animate in a continuous wave-like pattern
            .style_signal("width", bar.wave_animation.signal()
                .map(|t| easing::in_out(t, easing::cubic))
                .map(|t| Some(format!("{}px", t.range_inclusive(167.0, 500.0)))))

            .style_signal("margin-left", bar.wave_animation.signal()
                .map(|t| easing::in_out(t, easing::cubic))
                .map(|t| Some(format!("{}px", t.range_inclusive(0.0, 20.0)))))

            .style_signal("background-color", bar.wave_animation.signal()
                .map(|t| easing::in_out(t, easing::cubic))
                .map(move |t|
                    Some(format!("hsl({}, {}%, {}%)",
                        t.range_inclusive(low, high),
                        t.range_inclusive(50.0, 100.0),
                        t.range_inclusive(50.0, 100.0)))))

            .style_signal("border-color", bar.wave_animation.signal()
                .map(|t| easing::in_out(t, easing::cubic))
                .map(move |t|
                    Some(format!("hsl({}, {}%, {}%)",
                        t.range_inclusive(high, low),
                        t.range_inclusive(100.0, 50.0),
                        t.range_inclusive(100.0, 50.0)))))
        })
    }
}


struct App {
    current_color: Mutable<u32>,
    bars: MutableVec<Arc<Bar>>,
}

impl App {
    fn new() -> Arc<Self> {
        Arc::new(Self {
            current_color: Mutable::new(0),
            bars: MutableVec::new(),
        })
    }

    fn new_color(&self) -> u32 {
        // Cycles through the color hue spectrum
        self.current_color.replace_with(|x| (*x + 10) % 360)
    }

    fn new_bar(&self) {
        let mut lock = self.bars.lock_mut();

        // Limits the number of bars to 40
        if lock.len() >= 40 {
            lock.remove(0);
        }

        lock.push_cloned(Bar::new(self.new_color()));
    }

    fn render_bars(app: Arc<Self>) -> Dom {
        html!("div", {
            .children_signal_vec(app.bars.signal_vec_cloned()
                // Animates the Bar for 2000ms when inserting/removing
                .animated_map(2000.0, |bar, animation| Bar::render(bar, animation)))
        })
    }

    fn render(app: Arc<Self>) -> Dom {
        static CLASS: Lazy<String> = Lazy::new(|| class! {
            .style("display", "flex")
            .style("flex-direction", "row")
        });

        html!("div", {
            .class(&*CLASS)

            // Inserts a new colored bar every 500ms
            .future(IntervalStream::new(500).for_each(clone!(app => move |_| {
                app.new_bar();
                async {}
            })))

            .children(&mut [
                // Renders the bars twice, both columns will always be perfectly in sync
                Self::render_bars(app.clone()),
                Self::render_bars(app),
            ])
        })
    }
}


#[wasm_bindgen(start)]
pub fn main_js() -> Result<(), JsValue> {
    #[cfg(debug_assertions)]
    console_error_panic_hook::set_once();

    let app = App::new();
    dominator::append_dom(&dominator::body(), App::render(app));

    Ok(())
}
```

examples/animation/.gitignore

```
node_modules
/dist/js
/target
/wasm-pack.log
/yarn-error.log
```

examples/animation/dist/index.html

```html
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>rust-dominator ‚Ä¢ Animation</title>
	</head>
	<body>
		<script src="js/index.js"></script>
	</body>
</html>
```

ÂÆâË£ÖÊåáÂçó ËøêË°å `yarn install` ‰ª•ÂÆâË£ÖÈ°πÁõÆ‰æùËµñ„ÄÇ

ÂºÄÂèëÊûÑÂª∫Ê≠•È™§ ÊâßË°å `yarn watch` Êù•ÊûÑÂª∫È°πÁõÆÂπ∂Ëá™Âä®Âú®ÊµèËßàÂô®‰∏≠ÊâìÂºÄ„ÄÇ ÂΩì‰Ω†ËøõË°åÊõ¥ÊîπÊó∂ÔºåÂÆÉ‰ºöËá™Âä®ÈáçÊñ∞Âä†ËΩΩ„ÄÇ

Áîü‰∫ßÊûÑÂª∫Ê≠•È™§ ËøêË°å `yarn build` Êù•ÊûÑÂª∫È°πÁõÆÔºåÂπ∂Â∞ÜÂÖ∂ÊîæÁΩÆÂú® `dist` Êñá‰ª∂Â§π‰∏≠„ÄÇ

### ÂºÇÊ≠•È°πÁõÆ

![ÂõæÁâá](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/640-1714731117954-330.webp)

### Á§æÂå∫

‰ªñ‰ª¨Êúâ‰∏Ä‰∏™ `Disxxd` ÊúçÂä°Âô®„ÄÇÂ¶ÇÊúâ‰ªª‰ΩïÂÖ≥‰∫é `Dominator` ÁöÑÈóÆÈ¢òÔºåËØ∑ÈöèÊó∂Âú®ÈÇ£ÈáåÊèêÈóÆ„ÄÇ

# Ê®°ÊùøÂºïÊìé

## Askama Ê®°ÊùøÂºïÊìé

ÊñáÁ´†Ôºö[Askama Ê®°ÊùøÂºïÊìéÔºöRust ÂºÄÂèëËÄÖÁöÑÊñ∞ÂûãÊ®°ÊùøÂºïÊìéÂ∑•ÂÖ∑„ÄêÊïôÁ®ã„Äë (qq.com)](https://mp.weixin.qq.com/s/AOpX3l1qsoXJo7XIjWCP2Q)

### Reference

[1] Jinja:https://jinja.palletsprojects.com/

[2] ÂÆòÊñπÊñáÊ°£:https://djc.github.io/askama/

[3] Armin Ronacher:http://lucumr.pocoo.org/

[4] ÈóÆÈ¢òË∑üË∏™Âô®:https://github.com/djc/askama/issues

[5] Êé®Áâπ:https://twitter.com/djco/

[6] Patreon:https://www.patreon.com/dochtman

[7] ÊúÄ‰Ω≥ÊÄßËÉΩ:https://github.com/djc/template-benchmarks-rs

[8] JetBrains ‰∫ßÂìÅ:https://plugins.jetbrains.com/plugin/16591-askama-template-support

[9] ÈõÜÊàê:./integrations.md

[10] Ê®°ÊùøËØ≠Ê≥ï:template_syntax.md

[11] Jinja:http://jinja.pocoo.org/

[12] Twig:http://twig.sensiolabs.org/

[13] Tera:https://github.com/Keats/tera

[14] dependencies ÈÉ®ÂàÜ:https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html

[15] `Serialize`:https://docs.rs/serde/1./serde/trait.Serialize.html*

[16] `askama_rocket::Template`:https://docs.rs/askama_rocket

[17] Á§∫‰æã:https://github.com/djc/askama/blob/main/askama_rocket/tests/basic.rs

[18] `askama_actix::Template`:https://docs.rs/askama_actix

[19] Á§∫‰æã:https://github.com/djc/askama/blob/main/askama_actix/tests/basic.rs

[20] `askama_axum::Template`:https://docs.rs/askama_axum

[21] Á§∫‰æã:https://github.com/djc/askama/blob/main/askama_axum/tests/basic.rs

[22] `askama_warp::Template`:https://docs.rs/askama_warp

[23] Á§∫‰æã:https://github.com/djc/askama/blob/main/askama_warp/tests/warp.rs

[24] ËøáÊª§Âô®ÊñáÊ°£:filters.md

[25] ÈÖçÁΩÆÊñá‰ª∂:configuration.md

[26] ËøôÈáå:#Á©∫ÁôΩÁ¨¶ÊéßÂà∂

[27] OWASP ËΩ¨‰πâÂª∫ËÆÆ:https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html#output-encoding-for-html-contexts

[28] render in place:https://github.com/djc/askama/blob/main/testing/tests/render_in_place.rs

# ÂÖ®Ê†àÊ°ÜÊû∂

[MoonZoon ÊïôÁ®ãÔºö‰∏Ä‰∏™ Rust ÂÖ®Ê†àÊ°ÜÊû∂Ôºå‚ÄúÊàë‰ª¨‰∏çÊÉ≥Âõ†‰∏∫Êï∞Áôæ‰∏á‰∏çÂøÖË¶ÅÁöÑÊäÄÊúØÂæÆÂÜ≥Á≠ñËÄåÊµ™Ë¥πÊó∂Èó¥ÂíåÈáëÈí±„ÄÇ‚Äù„ÄêËÄóË°ÄÊï¥ÁêÜ„Äë (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkwNjYxNTY3Mg==&mid=2247494055&idx=1&sn=515465b9c0218464ee32b03404e34d43&chksm=c0e767b0f790eea60a722ab773a3d05e8a1bc2d76e10a72dbbdc7ea0fa622630117d093a16af&cur_album_id=3386270396001402881&scene=190#rd)

[Leptos Ê°ÜÊû∂Ê∑±Â∫¶Ëß£ÊûêÔºöÁî± Rust ËØ≠Ë®ÄÊâìÈÄ†ÁöÑÂÖ®Ê†à Web Ê°ÜÊû∂ÔºåÁî® Rust ÊâìÈÄ†È´òÊïà„ÄÅÂ£∞ÊòéÂºèÁöÑ Web Â∫îÁî®‰∏ñÁïå (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkwNjYxNTY3Mg==&mid=2247493898&idx=1&sn=08f76fc6262825f438a430c6c95794c7&chksm=c0e7671df790ee0bb218ac52c0cc9a38fb0e9ba44080a5de3fd85a474569f9dc515ac5d0801d&cur_album_id=3386270396001402881&scene=190#rd)



# Á∫øÁ®ãÂ∫ì

## governor - Áî®‰∫éË∞ÉËäÇÊï∞ÊçÆÊµÅÂä®ÁöÑÂ∫ì

githubÂú∞ÂùÄÔºöhttps://github.com/boinkor-net/governor

Ëøô‰∏™Â∫ìÊòØRustÁ®ãÂ∫è‰∏≠Áî®‰∫éÈÄüÁéáÈôêÂà∂ÔºåÂÆÉ‰ΩøÁî®ÈÄöÁî®ÂçïÂÖÉÈÄüÁéáÁÆóÊ≥ïÂÆûÁé∞„ÄÇ

ÂÆÉÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©‰Ω†ÁöÑÁ®ãÂ∫è‰∫ÜËß£ÂÆÉÂ∫îËØ•ÁªôÂ§ñÈÉ®ÊúçÂä°Â∏¶Êù•Â§öÂ§ßÁöÑÂéãÂäõÔºåÂπ∂‰∏îÔºåÂú®ÊüêÁßçÁ®ãÂ∫¶‰∏äÔºåÂÖÅËÆ∏‰Ω†ÁöÑÊúçÂä°Ë∞ÉËäÇÂÆÉ‰ª¨‰ªéÁî®Êà∑ÈÇ£ÈáåÊâøÊãÖÁöÑÂéãÂäõ„ÄÇÂú®ÊüêÁßçÁ®ãÂ∫¶‰∏äÔºåÂÆÉÁöÑÂäüËÉΩÂ∞±ÂÉèÊ†áÂøóÊÄßÁöÑËí∏Ê±ΩË∞ÉÈÄüÂô®„ÄÇ

ËØ•crate‰∏≠ÁöÑÈÄüÁéáÈôêÂà∂ÁÆóÊ≥ï‰ΩøÁî®ÈÄöÁî®ÂçïÂÖÉÈÄüÁéáÁÆóÊ≥ï(GCRA)ÂÆûÁé∞„ÄÇGCRAÂú®ÂäüËÉΩ‰∏äÁ≠âÂêå‰∫éÊºèÊ°∂ÁÆóÊ≥ïÔºå‰ΩÜ‰∏éÂ§ßÂ§öÊï∞ÊºèÊ°∂ÁÆóÊ≥ïÂÆûÁé∞Áõ∏ÊØîÊúâ‰∏Ä‰∫õ‰ºòÂäøÔºö

- ‰∏çÈúÄË¶ÅÂêéÂè∞‚ÄúÊª¥‚ÄùËøáÁ®ãÊù•‰øùÊåÅÂØπÊ°∂ÁöÑÁª¥Êä§
- ÊØèÂΩìÊúâËØ∑Ê±ÇËøõÂÖ•Êó∂ÔºåÂÆÉÈÉΩ‰ºö‰ª•Á∫≥ÁßíÁ∫ßÊåÅÁª≠Êõ¥Êñ∞Áä∂ÊÄÅ„ÄÇ
- ÂÆÉÂ∞ÜÂÖ∂Áä∂ÊÄÅ‰øùÂ≠òÂú®Âçï‰∏™AtomicU64Êï¥Êï∞‰∏≠

ËøôÈáå‰ΩøÁî®ÁöÑÈÄüÁéáÈôêÂà∂Áä∂ÊÄÅ‰∏çÂç†Áî®Â§™Â§öÂÜÖÂ≠ò(Âè™Êúâ64‰Ωç!)ÔºåÂπ∂‰∏îÈÄöËøácompare-and-swapÊìç‰ΩúÂú®Á∫øÁ®ãÂÆâÂÖ®ÁöÑÊÉÖÂÜµ‰∏ãÊõ¥Êñ∞„ÄÇ‰∏é‰ΩøÁî®‰∫íÊñ•ÈîÅÁöÑratelimit_meterÂÆûÁé∞Áõ∏ÊØîÔºåÂÆÉÂú®Â§öÁ∫øÁ®ã‰∏≠‰ΩøÁî®Êó∂Âπ≥ÂùáÂø´10ÂÄç„ÄÇ

## SmolÔºöRustËØ≠Ë®Ä‰∏≠ÁöÑËΩªÈáèÁ∫ßÂºÇÊ≠•ËøêË°åÊó∂

‰ª•ÂÖ∂Â∞èÂ∑ß„ÄÅÂø´ÈÄüÂíåÁé∞‰ª£ÂåñÁöÑÁâπÁÇπÔºåÂú®RustÂºÇÊ≠•ËøêË°åÊó∂È¢ÜÂüüÁã¨Ê†ë‰∏ÄÂ∏ú„ÄÇÊú¨ÊñáÂ∞ÜÊ∑±ÂÖ•Êé¢ËÆ®SmolÁöÑËÆæËÆ°ÁêÜÂøµ„ÄÅÊ†∏ÂøÉÂäüËÉΩ‰ª•ÂèäÂ¶Ç‰ΩïÂú®RustÈ°πÁõÆ‰∏≠‰ΩøÁî®SmolÊù•ÊâßË°åÂºÇÊ≠•‰ªªÂä°„ÄÇ

### SmolÁöÑËÆæËÆ°Âì≤Â≠¶

Âú®ÂºÇÊ≠•ÁºñÁ®ãÁöÑ‰∏ñÁïå‰∏≠ÔºåÊïàÁéáÂíåÊòìÁî®ÊÄßÊòØË°°Èáè‰∏Ä‰∏™ËøêË°åÊó∂Â•ΩÂùèÁöÑÂÖ≥ÈîÆÊ†áÂáÜ„ÄÇSmolÊ≠£ÊòØÂü∫‰∫éËøôÊ†∑ÁöÑÁêÜÂøµËØûÁîüÁöÑ„ÄÇÂÆÉÊó®Âú®Êèê‰æõ‰∏Ä‰∏™Êó¢Â∞èÂ∑ßÂèàÂø´ÈÄüÁöÑÂºÇÊ≠•runtimeÔºåÈÄöËøáÂ∞ΩÈáèÂáèÂ∞ëAPIÁöÑÊï∞ÈáèÂíåÂ§çÊùÇÂ∫¶ÔºåËÆ©ÂºÄÂèëËÄÖËÉΩÂ§üÂø´ÈÄü‰∏äÊâãÂπ∂ÊúâÊïàÂú∞ÊâßË°åÂºÇÊ≠•‰ª£Á†Å„ÄÇ

### SmolÊ†∏ÂøÉÂäüËÉΩ

SmolÂü∫‰∫éRustÁöÑ`async-std`Âíå`tokio`ÊûÑÂª∫ÔºåÊèê‰æõ‰∫Ü‰∏ÄÂ•óÁÆÄÊ¥ÅËÄåÂº∫Â§ßÁöÑAPIÊù•Â§ÑÁêÜÂºÇÊ≠•‰ªªÂä°„ÄÇ

1. **ÂàõÂª∫ÂºÇÊ≠•ÂáΩÊï∞**ÔºöSmolÂÖÅËÆ∏ÂºÄÂèëËÄÖ‰ª•ÊúÄÂ∞ëÁöÑ‰ª£Á†ÅË°åÊï∞ÂàõÂª∫ÂºÇÊ≠•ÂáΩÊï∞„ÄÇ
2. **Á≠âÂæÖFuture**ÔºöÈÄöËøáSmolÔºåÊàë‰ª¨ÂèØ‰ª•ËΩªÊùæÁ≠âÂæÖ‰∏Ä‰∏™futureÁöÑÂÆåÊàê„ÄÇ
3. **ÂàõÂª∫ÂÆöÊó∂Âô®**ÔºöÊèê‰æõ‰∫ÜÂàõÂª∫ÂÆöÊó∂Âô®ÁöÑÁÆÄÊ¥ÅAPIÔºåÊñπ‰æøÂú®ÂºÇÊ≠•‰ªªÂä°‰∏≠ÊâßË°åÂÆöÊó∂Êìç‰Ωú„ÄÇ
4. **È´òÊïàÁöÑË∞ÉÂ∫¶**ÔºöÂæóÁõä‰∫éÂÖ∂‰ºòË∂äÁöÑË∞ÉÂ∫¶ËÉΩÂäõÔºåSmolËÉΩÂ§üÈ´òÊïàÂú∞ÁÆ°ÁêÜÂíåÊâßË°åÂºÇÊ≠•‰ªªÂä°„ÄÇ

### Âú®Rust‰∏≠‰ΩøÁî®Smol

Ë¶ÅÂú®RustÈ°πÁõÆ‰∏≠‰ΩøÁî®SmolÔºåÈ¶ñÂÖàÈúÄË¶ÅÂ∞ÜÂÆÉÊ∑ªÂä†Âà∞È°πÁõÆÁöÑ‰æùËµñ‰∏≠„ÄÇÂú®Cargo.tomlÊñá‰ª∂‰∏≠Ê∑ªÂä†Ôºö

```
[dependencies]
smol = "ÁâàÊú¨Âè∑"
```

ËØ∑Âú®`ÁâàÊú¨Âè∑`Â§ÑÂ°´ÂÜôÊúÄÊñ∞ÊàñÈÄÇÂêàÈ°πÁõÆÈúÄË¶ÅÁöÑsmolÁâàÊú¨„ÄÇ

#### ÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂºÇÊ≠•ÂáΩÊï∞

ËøôÈáåÔºåÊàë‰ª¨Â±ïÁ§∫Â¶Ç‰Ωï‰ΩøÁî®SmolÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂºÇÊ≠•ÂáΩÊï∞ÔºåÂπ∂Á≠âÂæÖÂÆÉÂÆåÊàê„ÄÇ

```rust
// ÂºïÂÖ•smolÂåÖ
use smol::Timer;
use std::time::Duration;

// ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂºÇÊ≠•ÂáΩÊï∞ÔºåÂ∞ÜÂú®ÊåáÂÆöÊó∂Èó¥ÂêéÂÆåÊàê
async fn delay(duration: Duration) {
    Timer::after(duration).await;
}

fn main() {
    // ‰ΩøÁî®smolÁöÑblock_onÊù•ËøêË°åÂºÇÊ≠•‰ª£Á†ÅÂùó
    smol::block_on(async {
        // Ë∞ÉÁî®delayÂáΩÊï∞ÔºåÂπ∂Á≠âÂæÖ2Áßí
        delay(Duration::from_secs(2)).await;
        println!("2ÁßíÂêéÔºåÂª∂Êó∂ÂÆåÊàêÔºÅ");
    });
}
```

### SmolÁöÑÊâ©Â±ïÂíåÂÆûÈôÖÂ∫îÁî®

Áî±‰∫éÂÖ∂ËΩªÈáèÂíåÈ´òÊïàÁöÑÁâπÊÄßÔºåSmol‰∏ç‰ªÖÈÄÇÁî®‰∫éÂ∞èÂûãÈ°πÁõÆÔºå‰πüËÉΩÂ§üÂú®ËµÑÊ∫êÊúâÈôêÁöÑÁéØÂ¢É‰∏≠ÂèëÊå•Â∑®Â§ß‰ΩúÁî®„ÄÇ‰æãÂ¶ÇÔºåÂÆÉÂèØ‰ª•Áî®‰∫éÊûÑÂª∫È´òÊÄßËÉΩÁöÑÁΩëÁªúÊúçÂä°Âô®„ÄÅÂæÆÊúçÂä°‰ª•ÂèäIoTËÆæÂ§áÁöÑÂºÇÊ≠•Â∫îÁî®Á≠â„ÄÇ

### ÁªìËØ≠

Smol‰ª•ÂÖ∂‰ºòÈõÖÂíåÁÆÄÊ¥ÅÁöÑËÆæËÆ°ÔºåÂú®RustÁöÑÂºÇÊ≠•ÁºñÁ®ãÁîüÊÄÅ‰∏≠Âç†ÊçÆ‰∫Ü‰∏ÄÂ∏≠‰πãÂú∞„ÄÇÂÆÉÈÄöËøáÊèê‰æõÊúÄÂ∞èËÄå‰∏∞ÂØåÁöÑAPIÔºåÂ∏ÆÂä©ÂºÄÂèëËÄÖËΩªÊùæÂú∞ÁºñÂÜôÈ´òÊïàÁöÑÂºÇÊ≠•‰ª£Á†Å„ÄÇÊó†ËÆ∫ÊòØÂàùÂ≠¶ËÄÖËøòÊòØÊúâÁªèÈ™åÁöÑRustÁ®ãÂ∫èÂëòÔºåSmolÈÉΩÊòØÂÆûÁé∞ÂºÇÊ≠•ÁºñÁ®ãÁöÑ‰ºòÁßÄÈÄâÊã©„ÄÇÈöèÁùÄRustÁîüÊÄÅÁöÑ‰∏çÊñ≠Â£ÆÂ§ßÔºåSmolÂèäÂÖ∂ËÉåÂêéÁöÑÊÄùÊÉ≥Êó†Áñë‰ºöÁªßÁª≠ÊøÄÂä±ÂíåÂΩ±ÂìçÊú™Êù•ÁöÑÂºÇÊ≠•ËøêË°åÊó∂ËÆæËÆ°„ÄÇ

# GUI

## Slint

[ÂõΩ‰∫ß‰ΩéÊàêÊú¨ÂçïÁâáÊú∫‰∏≠ËøêË°åRust GUI (qq.com)](https://mp.weixin.qq.com/s/IABJvefYj43NjWXZL87Nkg)

Slint ÊòØ‰∏Ä‰∏™Â£∞ÊòéÊÄß GUI Â∑•ÂÖ∑ÂåÖÔºåÁî®‰∫é‰∏∫ Rust„ÄÅC++ Êàñ JavaScript Â∫îÁî®Á®ãÂ∫èÊûÑÂª∫Êú¨Êú∫Áî®Êà∑ÁïåÈù¢„ÄÇ

### Slint ËµÑÊñô

- ÊåáÂçóÔºöhttps://slint-ui.com/releases/1.0.2/docs/slint/index.html
- ÊñáÊ°£Ôºöhttps://slint-ui.com/releases/1.0.2/docs/rust/slint
- ‰ªìÂ∫ìÔºöhttps://github.com/slint-ui/slint
- Ê®°ÊùøÔºöhttps://github.com/slint-ui/slint-rust-template
- Á§∫‰æãÔºöhttps://github.com/slint-ui/slint/tree/master/examples
- ÊïôÁ®ãÔºöhttps://slint-ui.com/releases/1.0.2/docs/tutorial/rust
- [Rust ÂºÄÂèë Êé¢Á¥¢ Slint UI 1.5 ÂÆâÂçì (qq.com)](https://mp.weixin.qq.com/s?__biz=Mzg2NTgxNzg3OQ==&mid=2247484143&idx=1&sn=903c65961459daee860bffd5c99602e5&chksm=cfce0c61f8c94b764529048bb02ccd66bcf26c9fdc74c7b63599f380c5a52412d641bf5918c4&scene=132&exptype=timeline_recommend_article_extendread_samebiz&show_related_article=1&subscene=0&scene=132#wechat_redirect)

[Rust UI Ê°ÜÊû∂ÔºöÁî® Rust Âíå Slint Âà∂‰Ωú‰∏Ä‰∏™ÁÆÄÊòìËÆ°ÁÆóÂô®ÔºàLive codingÔºâ (qq.com)](https://mp.weixin.qq.com/s/ZmnG4Cu4R5C45vzcv9catQ)

[Slint 1.0Ôºö‰∏ã‰∏Ä‰ª£ÂéüÁîü GUI Â∑•ÂÖ∑ÂåÖÊàêÁÜü ‚Äî Slint ÂçöÂÆ¢](https://slint.dev/blog/announcing-slint-1.0)

## DioxusÔºöÈÄÇÁî®‰∫é Web„ÄÅÊ°åÈù¢„ÄÅÁßªÂä®ËÆæÂ§áÁ≠âÁöÑÂÖ®Ê†à GUI Â∫ì„ÄÇ

- GitHubÔºöhttps://github.com/dioxuslabs/dioxus
- ÂÆòÁΩëÔºöhttps://dioxuslabs.com/

### ‰ªÄ‰πàÊòØ Dioxus Ôºü

Dioxus ÊòØ‰∏Ä‰∏™‰ΩøÁî® Rust ÁºñÁ®ãËØ≠Ë®ÄÊûÑÂª∫ÁöÑË∑®Âπ≥Âè∞Áî®Êà∑ÁïåÈù¢ÔºàUIÔºâÊ°ÜÊû∂„ÄÇÂÆÉÂèóÂà∞ÊµÅË°åÁöÑ React Â∫ìÁöÑÂêØÂèëÔºå‰∏ìÊ≥®‰∫é‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∏ÄÁßç‰ºòÈõÖ„ÄÅÈ´òÊïà‰∏îÁ¨¶Âêà‰∫∫‰ΩìÂ∑•Á®ãÂ≠¶ÁöÑÁºñÁ®ã‰ΩìÈ™å„ÄÇDioxus Êó®Âú®ÂÖÅËÆ∏ÂºÄÂèëËÄÖ‰ΩøÁî®Âçï‰∏ÄÁöÑ‰ª£Á†ÅÂ∫ìÊù•ÂàõÂª∫ËøêË°åÂú®Ê°åÈù¢„ÄÅWeb„ÄÅÁßªÂä®ËÆæÂ§áÁ≠âÂ§ö‰∏™Âπ≥Âè∞‰∏äÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÈùûÂ∏∏Â•ΩÁî®„ÄÇ

### Dioxus Ê°ÜÊû∂ÁöÑÁã¨ÁâπÁöÑÁâπÊÄß

- **Ë∑®Âπ≥Âè∞ÂÖºÂÆπÊÄß**ÔºöDioxus ÊîØÊåÅÂ§öÁßçÂπ≥Âè∞ÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÊ°åÈù¢„ÄÅWeb„ÄÅÁßªÂä®ËÆæÂ§áÁ≠â„ÄÇ
- **Âü∫‰∫é Rust ÁöÑÊÄßËÉΩÂíåÂÆâÂÖ®ÊÄß**ÔºöÂà©Áî® Rust ËØ≠Ë®ÄÁöÑ‰ºòÂäøÔºåDioxus Êèê‰æõ‰∫ÜÈ´òÊÄßËÉΩÂíåÂÜÖÂ≠òÂÆâÂÖ®ÁöÑ UI ÂºÄÂèë‰ΩìÈ™å„ÄÇ
- **React È£éÊ†ºÁöÑ API ËÆæËÆ°**ÔºöDioxus ÁöÑ‰ΩúËÄÖÊúÄÂàùÊòØÊåâÁÖß React ËÆæËÆ°ÁöÑËøô‰∏™Ê°ÜÊû∂ÔºåÂÜÖÈÉ®ÂÆûÁé∞Âíå API È£éÊ†ºÈÉΩÊòØ‰∏•Ê†ºÊåâÁÖß React Style Âà∂‰ΩúÁöÑÔºåÂ∞ΩÁÆ°ÂêéÁª≠ÊúâÊâÄÂèòÂä®‰ª•Êõ¥Â•ΩÂú∞ÈÄÇÂ∫î Rust ËØ≠Ë®ÄÁöÑÁâπÊÄß„ÄÇ
- **Â£∞ÊòéÂºè UI ÁºñÁ®ã**Ôºö‰Ωú‰∏∫‰∏Ä‰∏™Â£∞ÊòéÂºèÊ°ÜÊû∂ÔºåDioxus ÂÖÅËÆ∏ÂºÄÂèëËÄÖÈÄöËøáÁÆÄÂçïÂ£∞ÊòéÊù•ËÆæËÆ° UIÔºåËÄåÊó†ÈúÄÊâãÂä®ÂàõÂª∫ÂíåÁÆ°ÁêÜÂÖÉÁ¥†„ÄÇ
- **ÂºÇÊ≠•ÁºñÁ®ãÊîØÊåÅ**ÔºöDioxus Êèê‰æõ‰∫Ü UseFuture HooksÔºå‰ΩøÂæóÂºÄÂèëËÄÖÂèØ‰ª•ËΩªÊùæÂ§ÑÁêÜÂºÇÊ≠•Êìç‰ΩúÔºåÂ¶ÇÁΩëÁªúËØ∑Ê±ÇÁ≠â„ÄÇ
- **Ë∑ØÁî±Âô®ÊîØÊåÅ**ÔºöDioxus ÂÜÖÁΩÆ‰∫ÜË∑ØÁî±Âô®ÊîØÊåÅÔºåÂÖÅËÆ∏ÂºÄÂèëËÄÖÂú®Â∫îÁî®Á®ãÂ∫è‰∏≠ËΩªÊùæÂÆûÁé∞‰∏çÂêåÈ°µÈù¢ÁöÑÂØºËà™ÂíåÁä∂ÊÄÅÁÆ°ÁêÜ„ÄÇ

### ÊîØÊåÅÁöÑÂπ≥Âè∞

ÁõÆÂâçÂ∑≤ÁªèÊîØÊåÅÁöÑÂπ≥Âè∞‰πüÊòØÈùûÂ∏∏‰∏∞ÂØå‰∫ÜÔºåÂåÖÊã¨ÁΩëÁ´ôÈ°πÁõÆ„ÄÅÊ°åÈù¢Â∫îÁî®„ÄÅÁßªÂä®Á´ØÂ∫îÁî®ÂèäÁªàÁ´ØÁ®ãÂ∫èÁ≠âÔºåÊõ¥Â§öËØ¶ÁªÜÂèØ‰ª•Áõ¥Êé•Âà∞ÂÆòÁΩëÊü•ÈòÖ„ÄÇ

### ÈÄâÊã© Dioxus ÁöÑÂ•ΩÂ§ÑÊòØ‰ªÄ‰πàÔºü

- **ÂºÄÂèëËÄÖÂèãÂ•ΩÁöÑÂ∑•ÂÖ∑ÊîØÊåÅ**ÔºöDioxus Êèê‰æõ‰∫ÜËá™Âä®Ê†ºÂºèÂåñÁöÑ RSX ‰ª£Á†ÅÔºåËøôÁßçÊ†ºÂºèÊòØ Dioxus ÁöÑ‰∏ìÊúâÊ†áËÆ∞ËØ≠Ë®ÄÔºåÁî®‰∫éÂ£∞ÊòéÂºèÂú∞ÁºñÂÜô UI ‰ª£Á†Å„ÄÇÊ≠§Â§ñÔºåDioxus ËøòÊúâ VSCode Êèí‰ª∂ÔºåËøõ‰∏ÄÊ≠•ÊèêÈ´ò‰∫ÜÂºÄÂèëÊïàÁéáÂíå‰ΩìÈ™å„ÄÇ
- **ÁÉ≠Âä†ËΩΩÂíåË∑®Âπ≥Âè∞ÊîØÊåÅ**ÔºöDioxus ÊîØÊåÅÁÉ≠Âä†ËΩΩÂäüËÉΩÔºåËøôÊÑèÂë≥ÁùÄÂºÄÂèëËÄÖÂèØ‰ª•Âú®‰∏çÈáçÂêØÂ∫îÁî®ÁöÑÊÉÖÂÜµ‰∏ãÂÆûÊó∂Êü•Áúã‰ª£Á†ÅÊõ¥ÊîπÁöÑÊïàÊûú„ÄÇËøô‰∏ÄÁâπÊÄß‰∏ç‰ªÖÈÄÇÁî®‰∫éÊ°åÈù¢Á®ãÂ∫èÔºå‰πüÈÄÇÁî®‰∫éÁΩëÈ°µÁ®ãÂ∫èÔºåÊûÅÂ§ßÂú∞ÊèêÂçá‰∫ÜÂºÄÂèëÊµÅÁ®ãÁöÑ‰æøÊç∑ÊÄß„ÄÇ
- **ÂÖ®Èù¢‰∏îËØ¶Â∞ΩÁöÑÊñáÊ°£**ÔºöDioxus ÈùûÂ∏∏ÈáçËßÜÊñáÊ°£ÁöÑÂÆåÂñÑÔºåÊèê‰æõ‰∫ÜÂÖ®Èù¢ÁöÑÂºÄÂèëÊåáÂçóÂíåÂØπÊâÄÊúâ HTML ÂÖÉÁ¥†ÁöÑËØ¶Â∞ΩÊñáÊ°£ÊîØÊåÅÔºå‰ΩøÂæóÂºÄÂèëËÄÖËÉΩÂ§üÂø´ÈÄü‰∏äÊâãÂπ∂ÊúâÊïàËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ
- **ÂèØÊâ©Â±ïÊÄßÂíåÁÅµÊ¥ªÊÄß**ÔºöDioxus ÁöÑËÆæËÆ°ÂÖÅËÆ∏ÂºÄÂèëËÄÖËΩªÊùæÊûÑÂª∫Êñ∞ÁöÑÊ∏≤ÊüìÂô®ÔºåÈÄöËøáÂÆûÁé∞‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰ºòÂåñÂ†ÜÊ†àÊú∫ÔºåÂèØ‰ª•Êâ©Â±ïÊ°ÜÊû∂ÁöÑÂäüËÉΩ„ÄÇÊ≠§Â§ñÔºåÂºÄÂèëËÄÖËøòÂèØ‰ª•ÊûÑÂª∫Âπ∂ÂàÜ‰∫´Ëá™Â∑±ÁöÑÁªÑ‰ª∂‰ª£Á†ÅÔºåÂ¢ûÂä†‰∫ÜÊ°ÜÊû∂ÁöÑÂèØÂÆöÂà∂ÊÄß„ÄÇ

## Druid

- GitHubÔºöhttps://github.com/linebender/druid
- https://linebender.org/druid/
- https://github.com/linebender/druid/blob/master/CHANGELOG.md
- https://raphlinus.github.io/rust/gui/2022/05/07/ui-architecture.html

Âà´Áî®‰∫ÜÔºåÂéüÂõ†Ôºö[Rust ÂéüÁîü UI Ê°ÜÊû∂ Druid Ë¢´ÂñäÁªàÊ≠¢‰∫ÜÔºåÂπ∂ÂÆ£Â∏É xilem ÊâçÊòØÊú™Êù•ÔºÅ (qq.com)](https://mp.weixin.qq.com/s/JOzdbfcKAOqcVAWnWSYKdA)

### Druid Ê°ÜÊû∂Ê¶ÇËø∞

Druid ÈááÁî®Á±ª‰ºº‰∫é React ÁöÑÂìçÂ∫îÂºèÊ®°ÂûãÔºå‰ΩøÂæóÊï∞ÊçÆÂíå UI ‰πãÈó¥ÂèØ‰ª•‰øùÊåÅÂêåÊ≠•Êõ¥Êñ∞„ÄÇ‰ΩÜÊòØ Druid ËøòÊã•ÊúâËá™Â∑±Áã¨ÁâπÁöÑÁâπÊÄßÔºåÂåÖÊã¨ÂºπÊÄßÁõíÂ≠êÂ∏ÉÂ±ÄÔºàflexboxÔºâÁöÑÊ†∑ÂºèËÆæËÆ°„ÄÅÊï∞ÊçÆÁªëÂÆöÂèä‰∫ã‰ª∂Â§ÑÁêÜÊú∫Âà∂„ÄÇDruid ÂäõÊ±ÇÊèê‰æõÂπ≥Âè∞ÂéüÁîüÁöÑÂ§ñËßÇÂíåÊÑüËßâÔºåÂÆÉÈÄöËøá‰ΩøÁî®Â∫ïÂ±ÇÂπ≥Âè∞Ëá™Â∑±ÁöÑÊéß‰ª∂ÂÆûÁé∞Ëøô‰∏ÄÁÇπ„ÄÇÂΩìÂâçÁöÑ Druid ÊîØÊåÅËåÉÂõ¥ÂåÖÊã¨ Windows„ÄÅmacOS„ÄÅLinux ‰ª•Âèä Redox Á≠âÂ§ö‰∏™Âπ≥Âè∞„ÄÇ

### Druid ÁöÑÊ†∏ÂøÉÁâπÊÄß

Druid ÁöÑÊ†∏ÂøÉÁâπÊÄß‰∏ªË¶Å‰ΩìÁé∞Âú®Ôºö

1. **Âπ≥Âè∞ÂéüÁîüÂ§ñËßÇÂíåÊÑüËßâ**Ôºö‰ΩøÁî®Âπ≥Âè∞Ëá™Â∑±ÁöÑÊéß‰ª∂Ôºå‰∏∫‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªüÂπ≥Âè∞Êèê‰æõ‰∏ÄËá¥ÁöÑÁî®Êà∑‰ΩìÈ™å„ÄÇ
2. **ÂìçÂ∫îÂºèÊï∞ÊçÆÊ®°Âûã**Ôºö‰ΩøÁî® Rust ÁöÑÁ±ªÂûãÁ≥ªÁªüÊù•ÁÆÄÂåñÊï∞ÊçÆ‰∏é UI Èó¥ÁöÑÂêåÊ≠•„ÄÇ
3. **ÁÅµÊ¥ªÁöÑÂ∏ÉÂ±ÄÁ≥ªÁªü**ÔºöÂü∫‰∫é flexbox Ê®°ÂûãÔºåÂèØ‰ª•ËΩªÊùæÂú∞ËÆæËÆ°ÂìçÂ∫îÂºèÂ∏ÉÂ±Ä„ÄÇ
4. **Êï∞ÊçÆÁªëÂÆö**ÔºöÂÖÅËÆ∏ÁªëÂÆöÂ∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑÊï∞ÊçÆÔºå‰ΩøÂæóÊï∞ÊçÆÊõ¥Êñ∞Êó∂ËÉΩÂ§üËá™Âä®ÂèçÊò†Âà∞ÁïåÈù¢‰∏ä„ÄÇ
5. **‰∫ã‰ª∂Â§ÑÁêÜ**ÔºöÊèê‰æõÂº∫Â§ßÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ≥ªÁªüÔºåËÉΩÂ§üÁÅµÊ¥ªÂ∫îÂØπÁî®Êà∑Êìç‰ΩúÂíåÂÜÖÈÉ®‰∫ã‰ª∂„ÄÇ

### ÂÆâË£Ö Druid

ÂÆâË£Ö Druid ÂâçÔºåÈúÄË¶Å‰øùËØÅ Rust ÂºÄÂèëÁéØÂ¢ÉÂ∑≤ÁªèË¢´Ê≠£Á°ÆÂÆâË£Ö„ÄÇDruid ÂèØ‰ª•ÈÄöËøá Rust ÁöÑÂåÖÁÆ°ÁêÜÂ∑•ÂÖ∑ Cargo ËΩªÊùæÂÆâË£ÖÔºö

```bash
[dependencies]
druid = "0.7.0"
```

ÂêëÈ°πÁõÆÁöÑ`Cargo.toml`Êñá‰ª∂‰∏≠Ê∑ªÂä†‰∏äËø∞‰æùËµñÂπ∂‰øùÂ≠òÂêéÔºåËøêË°å`cargo build`ÂëΩ‰ª§Êù•ÂÆâË£Ö Druid ÂèäÂÖ∂‰æùËµñÂ∫ì„ÄÇ

### ÂàõÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑ Druid Â∫îÁî®

#### Step 1: ‰∏ªË¶ÅÊï∞ÊçÆÁªìÊûÑÂÆö‰πâ

Âú®ÂàõÂª∫ GUI Â∫îÁî®Êó∂ÔºåÈ¶ñÂÖàÈúÄË¶ÅÂÆö‰πâÂ∫îÁî®ÁöÑ‰∏ªË¶ÅÊï∞ÊçÆÁªìÊûÑÔºåËøô‰∏™ÁªìÊûÑÂ∞Ü‰ºö‰Ωú‰∏∫Êï∞ÊçÆÁªëÂÆöÂèä‰∫ã‰ª∂Â§ÑÁêÜÁöÑÂü∫Á°Ä„ÄÇ

```rust
struct AppState {
    value: u32,
}

impl Default for AppState {
    fn default() -> Self {
        AppState { value: 0 }
    }
}
```

#### Step 2: ÊûÑÂª∫ UI ÁïåÈù¢

Êé•‰∏ãÊù•ÔºåÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞Êù•ÊûÑÂª∫ GUI ÁöÑÂ∏ÉÂ±ÄÂíåÊéß‰ª∂Ôºö

```rust
fn build_ui() -> impl Widget<AppState> {
    // ‰ΩøÁî®FlexÊûÑÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂûÇÁõ¥Â∏ÉÂ±Ä
    Flex::column()
        .with_child(Button::new("Increment").on_click(|_ctx, data: &mut AppState, _env| {
            data.value += 1;
        }))
        .with_child(Label::new(|data: &AppState, _env: &Env| format!("Value: {}", data.value)))
}
```

Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ÂåÖÂê´ÊåâÈíÆÂíåÊ†áÁ≠æÁöÑÁÆÄÂçïÂûÇÁõ¥Â∏ÉÂ±Ä„ÄÇÊåâÈíÆË¢´ÁªëÂÆö‰∫Ü‰∏Ä‰∏™ÁÇπÂáª‰∫ã‰ª∂ÔºåÊØèÊ¨°ÁÇπÂáªÈÉΩ‰ºöÂØºËá¥`AppState`‰∏≠ÁöÑ`value`Â¢ûÂä† 1„ÄÇ

#### Step 3: ËøêË°åÂ∫îÁî®

ÊúÄÂêéÔºåÊàë‰ª¨Âú® main ÂáΩÊï∞‰∏≠‰ΩøÁî®`AppLauncher`Êù•ÂêØÂä®Âπ∂ËøêË°åÂ∫îÁî®Ôºö

```rust
fn main() {
    AppLauncher::with_window(WindowDesc::new(build_ui()))
        .use_simple_logger()
        .launch(AppState::default())
        .expect("Failed to launch application");
}
```

‰ª•‰∏ä‰ª£Á†ÅÂ±ïÁ§∫‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑ Druid Â∫îÁî®ÁöÑÂàõÂª∫ÊñπÂºè„ÄÇÂÆåÊï¥ÁöÑÂ∫îÁî®Â∞ÜÂåÖÂê´Êõ¥Â§öÁöÑÂ∏ÉÂ±Ä„ÄÅÊéß‰ª∂‰ª•Âèä‰∫ã‰ª∂Â§ÑÁêÜ„ÄÇ

### Êâ©Â±ïÂäüËÉΩÔºöËá™ÂÆö‰πâÊéß‰ª∂‰∏é‰∏ªÈ¢ò

Druid ‰∏ç‰ªÖÈôê‰∫éÂÜÖÁΩÆÊéß‰ª∂ÔºåÂºÄÂèëËÄÖ‰πüÂèØ‰ª•ÂàõÂª∫Ëá™ÂÆö‰πâÊéß‰ª∂‰ª•Êª°Ë∂≥ÁâπÂÆöÈúÄÊ±Ç„ÄÇÊ≠§Â§ñÔºåÈÄöËøá‰øÆÊîπÊéß‰ª∂ÁöÑ`Env`ÁéØÂ¢ÉÔºåËøòÂèØ‰ª•ÂØπÊéß‰ª∂ÁöÑ‰∏ªÈ¢òËøõË°åËá™ÂÆö‰πâÔºå‰ª•ÂåπÈÖçÂ∫îÁî®Á®ãÂ∫èÁöÑÈ£éÊ†ºÈúÄÊ±Ç„ÄÇ

### ÁªìËÆ∫

Druid Ê°ÜÊû∂ÊòØ Rust ËØ≠Ë®Ä‰∏≠Áî®‰∫éÂàõÂª∫ GUI Â∫îÁî®ÁöÑÊúâÂäõÂ∑•ÂÖ∑„ÄÇÂÆÉÁöÑËÆæËÆ°ÁêÜÂøµ„ÄÅÁÅµÊ¥ªÁöÑÂ∏ÉÂ±ÄÂèä‰∫ã‰ª∂Â§ÑÁêÜÊú∫Âà∂‰∏∫ÂºÄÂèëÂØåÊúâÂìçÂ∫îÊÄßÂíåÂéüÁîü‰ΩìÈ™åÁöÑÂ∫îÁî®Á®ãÂ∫èÊèê‰æõ‰∫ÜÂùöÂÆûÁöÑÂü∫Á°Ä„ÄÇÂØπ‰∫éÈÇ£‰∫õÊé¢Á¥¢ Rust Âπ∂ÊÑøÊÑèÂ∞ùËØïÊñ∞ÊñπÊ≥ïÁöÑ GUI ÂºÄÂèëËÄÖÊù•ËØ¥ÔºåDruid Êó†ÁñëÊòØ‰∏Ä‰∏™ÂÄºÂæóÂÖ≥Ê≥®ÁöÑÈÄâÊã©„ÄÇ

## GTK4-RS

ÂºÄÊ∫êÂú∞ÂùÄÔºö[gtk-rs/gtk4-rsÔºöGTK 4 ÁöÑ Rust ÁªëÂÆö (github.com)](https://github.com/gtk-rs/gtk4-rs)

## FruiÔºöÂºÄÂèëËÄÖÂèãÂ•ΩÁöÑ GUI Ê°ÜÊû∂

### ÂâçË®Ä

Frui ÊòØ‰∏Ä‰∏™ÂØπÂºÄÂèëËÄÖÁõ∏ÂΩìÂèãÂ•ΩÁöÑ UI Ê°ÜÊû∂ÔºåÂÆÉ‰ΩøÂæóÂºÄÂèëËÄÖÊûÑÂª∫Áî®Êà∑ÁïåÈù¢ÂèòÂæóÁÆÄÂçïÔºåÂπ∂‰∏îÊòØ‰∏Ä‰∏™ÁúüÊ≠£ÊÑè‰πâ‰∏äÂèó Flutter ÂêØÂèë„ÄÅÁî®Á∫Ø Rust ÂÜôÁöÑ UI Ê°ÜÊû∂„ÄÇÂ¶ÇÊûú‰Ω†‰∫ÜËß£ FlutterÔºåÊàñËÄÖ Vue/React ÁöÑËØùÔºåÂ≠¶‰π†Ëøô‰∫õ‰∏úË•øÂ∞Ü‰ºöÂèòÂæóÂæàÂÆπÊòìÔºå‰ΩÜÊòØÂ¶ÇÊûú‰Ω†Âπ∂‰∏ç‰∫ÜËß£ÔºåËøòÊòØÂª∫ËÆÆ‰Ω†ÂéªÂ≠¶‰π†Âü∫Á°ÄÂÜÖÂÆπÔºåÂπ∂‰∏îÊé®Ëçê‰∏ÄÊú¨‰π¶„ÄäFlutter ÂÆûÊàò¬∑Á¨¨‰∫åÁâà„ÄãÔºåËØªËÄÖÂèØ‰ª•Âú® Github ‰∏äËá™Ë°åÊêúÁ¥¢„ÄÇÊú¨ÊúüÂÜÖÂÆπËøòÊòØËÄÅËßÑÁü©ÔºåÂÜô‰∏™ Counter ÁöÑ Demo Êù•ÁúãÁúã„ÄÇ

> Áî±‰∫é Frui Áé∞Âú®ÂàöÂèëË°åÁ¨¨‰∏ÄÁâàÔºåÊâÄ‰ª•Ë¶ÅÊ±Ç‰∏çÊòØÂæàÈ´òÔºåÊú¨ÊúüÂÜÖÂÆπ‰∏ªË¶Å‰ΩìÈ™åÂÖ∂ÁºñÁ†ÅÊñπÂºè„ÄÇ

### ‰∏Ä„ÄÅÊñ∞Âª∫È°πÁõÆ

#### 1. ÂàõÂª∫È°πÁõÆ

ËøôÈáå‰æùÊóßËøòÊòØÊàë‰ª¨ÁöÑËÄÅËßÑÁü©ÔºåÂàõÂª∫‰∏Ä‰∏™ Counter ÁöÑ Demo È°πÁõÆ„ÄÇ

```
cargo new gui_frui_001
```

#### 2. ÂØºÂÖ• idea

‰ΩøÁî® idea ÊâìÂºÄÂàöÊâçÂàõÂª∫ÁöÑÈ°πÁõÆ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_cafc4c4b05104dbeb9c37579f724cc96.png)

#### 3. ÂºïÂÖ•‰æùËµñ

Âú®`Cargo.toml`‰∏≠ÂØºÂÖ•‰æùËµñ

```
frui = "0.0.1"
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_0c0ec569f18b484d8715279401ec3109.png)

#### 4. ÊâßË°åÊ°à‰æã‰ª£Á†Å

Â∞Ü‰ª•‰∏ã‰ª£Á†ÅÂ§çÂà∂Âà∞`main.rs`

```rust
#![feature(min_specialization)]
#![feature(type_alias_impl_trait)]
use frui::prelude::*;
#[derive(ViewWidget)]
struct App;
impl ViewWidget for App {
    fn build<'w>(&'w self, _: BuildContext<'w, Self>) -> Self::Widget<'w> {
        Center::child(Text::new("Hello, World!"))
    }
}
fn main() {
    run_app(App);
}
```

ÁÑ∂Âêé idea Â∞±‰ºöÊä•Èîô

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_c8773e15111b4fbfaae5542c9bba415b.png)

Âõ†‰∏∫ÊàëÁî®ÁöÑÊòØÁ®≥ÂÆöÁâàÁöÑ RustÔºåÂõ†Ê≠§‰∏Ä‰∫õÁâπÊÄßÊòØÊ≤°ÊúâÁöÑÔºåÊâÄ‰ª•Ë¶ÅÂÆâË£Ö nightly ÁâàÊú¨ÁöÑ RustÔºåÁõ¥Êé•ÊâßË°å‰ª•‰∏ã‰ª£Á†Å

```
rustup toolchain install nightly
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_9fc03509a1f64e94864b2c7155def447.png)ÁÑ∂ÂêéÂàóÂá∫ÂΩìÂâç Rust ÁöÑÁâàÊú¨

```
rustup toolchain list
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_10f29acf5c4d4b9fa420e2fe23b2d92c.png)Áé∞Âú®ÊøÄÊ¥ª`nightly`ÁâàÊú¨ÁöÑÁºñËØëÂô®

```
rustup default nightly
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_3a0c269acdac4968966d9fe080e49584.png)Êé•‰∏ãÊù•ÂéªÈ°πÁõÆÁõÆÂΩïË¶ÜÁõñÈÖçÁΩÆÊñá‰ª∂

```
rustup override set nightly
```

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_5867227816b344eaa63ac5d583050c70.png)Ê≠§Êó∂ idea Ëøò‰ºöÊèêÁ§∫ÈîôËØØÁöÑÔºåËøôÊòØÂõ†‰∏∫ nightly Ê≤°ÊúâÊ∫êÁ†ÅÔºåÊèí‰ª∂ÈªòËÆ§Áî®ÁöÑ stable ÁöÑÊ∫êÁ†ÅÔºåÊâÄ‰ª•Ê£ÄÊü•ËØ≠Ê≥ïÂá∫Èîô‰∫ÜÔºå‰∏çÂøÖÁÆ°‰ªñÔºåÁõ¥Êé•ËøêË°å

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_79cb6b1223ee4df7886b78403b5b0552.png)

Â¶ÇÊûú‰Ω†‰πüËøêË°å‰∫Ü‰∏ãÈù¢ÁöÑÁ™óÂè£ÔºåËØ¥Êòé‰Ω†Â∑≤ÁªèÈÖçÁΩÆÊàêÂäü‰∫Ü„ÄÇ![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_f4ee5aae601b48c9bc6e58241a296303.png)

### ‰∫å„ÄÅÂÆûÁé∞ËÆ°Êï∞Âô® Demo

#### 1.ÂØºÂÖ•ËµÑÊ∫ê

Âú®ÂÆûÁé∞ Counter Demo ‰πãÂâçÔºåÊàë‰ª¨ÈúÄË¶ÅÂØºÂÖ•Ê°ÜÊû∂ÊâÄÈúÄË¶ÅÁöÑËµÑÊ∫êÔºåÊàëÂèëÁé∞ÂÖ∂Ê°ÜÊû∂Âπ∂Êú™ÊâìÂåÖ UI Áõ∏ÂÖ≥ÁöÑËµÑÊ∫êÔºåË¶ÅÊòØÂíå Flutter ÈÇ£Ê†∑ÂèØ‰ª•Áõ¥Êé•Áî® Material ÁöÑ UI Â∞±Â§™Â•Ω‰∫ÜÔºåÊàëËßâÂæó‰ª•ÂêéÂèØËÉΩ‰ºöÂá∫Á±ª‰ººÁöÑ„ÄÇ

È¶ñÂÖàÈúÄË¶Å‰ªé Github ‰∏äÁöÑ`frui-main\examples`Â§çÂà∂Âá∫`misc`Êñá‰ª∂Â§πÂà∞Êàë‰ª¨È°πÁõÆÁöÑÁõÆÂΩïÊù•Ôºå

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_d4f5d43561924a4b899122898d7ad5ab.png)

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_ababcddf24b547c1882d72ca9c6a4ecb.png)ÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™ÁâàÊú¨ÁõÆÂâçÂè™Êèê‰æõ‰∫ÜÊåâÈíÆÂíåÂºÄÂÖ≥ÔºåËøòÊúâ StateÔºåÂà∞Áé∞Âú®‰∏∫Ê≠¢ÔºåÊ°ÜÊû∂Áõ∏ÂÖ≥ÁöÑÂÜÖÂÆπÈÉΩÂ∑≤ÁªèÂØºÂÖ•ÂÆåÊØï„ÄÇ

#### 2.ÁºñÂÜôÁ™óÂè£‰ª£Á†Å

Frui ÁöÑ‰ª£Á†ÅÂíå Flutter ÊòØÈ´òÂ∫¶Áõ∏‰ººÁöÑÔºå‰ªéÁºñÂÜôÁ™óÂè£‰ª£Á†ÅËøôÈáåÂ∞±ÂèØ‰ª•ÁúãÂá∫Êù•„ÄÇÈ¶ñÂÖàË¶ÅÂÅöÁöÑÂ∞±ÊòØÂÖàÂÆö‰πâÁ™óÂè£ StateÔºåËøôÈáåÊàë‰ª¨ÂÆö‰πâ‰∫Ü CrabCounterÔºåÂπ∂‰∏îÂÆûÁé∞ WidgetStateÔºåÂπ∂‰∏îÁªô‰∏Ä‰∏™Êï¥Êï∞ÂûãÁöÑ StateÔºåÁâπÂà´ÈáçË¶ÅÁöÑÊòØ‰∏ÄÂÆöË¶ÅÂÜô create_state ÊñπÊ≥ïÔºåÂàùÂßãÂåñ State„ÄÇ

```
#[derive(ViewWidget)]
struct CrabCounter;
impl WidgetState for CrabCounter {
    type State = isize;
    fn create_state(&self) -> Self::State { 0 }
}
```

Êé•‰∏ãÊù•Â∞±ÊòØË¶ÅÁºñÂÜôÁ™óÂè£ÔºåÂÆûÁé∞Á™óÂè£ÈÄªËæë„ÄÇÂú®ËøôÈáåÁªô Crab Counter ÂÆûÁé∞‰∫Ü ViewWidget ÁâπË¥®ÔºåÂÖ∂ÂøÖÈ°ªË¶ÅÂÆûÁé∞‰∏Ä‰∏™ build ÊñπÊ≥ïÔºåËøîÂõûÊûÑÂª∫ÁöÑÁ™óÂè£ÔºåÂÖ∂‰ª£Á†ÅÂ¶Ç‰∏ã

```rust
impl ViewWidget for CrabCounter {
    fn build<'w>(&'w self, ctx: BuildContext<'w, Self>) -> Self::Widget<'w> {
        Column::builder()
            .space_between(60.0)
            .main_axis_size(MainAxisSize::Max)
            .cross_axis_size(CrossAxisSize::Max)
            .main_axis_alignment(MainAxisAlignment::Center)
            .cross_axis_alignment(CrossAxisAlignment::Center)
            .children((
                Text::new(format!("{} ü¶Ä", *ctx.state()))
                    .size(100.0)
                    .weight(FontWeight::BOLD),
                Row::builder()
                    .space_between(10.0)
                    .children((
                        Button {
                            label: Text::new("+").size(30.),
                            on_click: || *ctx.state_mut() += 1,
                        },
                        Button {
                            label: Text::new("-").size(30.),
                            on_click: || *ctx.state_mut() -= 1,
                        },
                    )),
            ))
    }
}
```

‰ª•‰∏ä‰ª£Á†ÅÁöÑÂ∏ÉÂ±ÄÊòØËøô‰∏™Ê†∑Â≠êÁöÑ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_3ff8e6cd1f8241ee92dc95ca5f4e9708.png)Ë¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåButton Ëá≥Â∞ëÈúÄË¶Å‰º†ÂÖ•‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØÊåâÈíÆÁöÑÊ†áÁ≠æ‚Äî‚ÄîTextÔºåÂΩìÁÑ∂‰πüÂèØ‰ª•ÊòØ ImageÔºåÁõÆÂâçÂπ∂‰∏çÊ∏ÖÊ•öÂÆÉÊòØÂê¶ÊúâËøô‰∏™ÁªÑ‰ª∂‰∫ÜÔºåÊâÄ‰ª•ËøòÊòØÊåâÂÆòÊñπÁöÑÊù•ÔºåÁõ¥Êé•Áî® TextÔºõ‰∏Ä‰∏™ÊòØÁÇπÂáªÁöÑÂõûË∞ÉÂáΩÊï∞Ôºå

#### 3. ËøêË°åÊïàÊûú

Ê≠§Êó∂Êàë‰ª¨ËøêË°å Counter Á®ãÂ∫èÔºåÂ¶ÇÊûúËøêË°åÊ≤°ÊúâÈîôËØØÔºåÈÇ£Â∫îËØ•ÊòØ‰∏ãÈù¢Ëøô‰∏™Ê†∑Â≠êÁöÑ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_e9c9176020544a9895f7110ca6efb42e.png)‰∏äÈù¢ÁöÑ Text ÈÉ®ÂàÜÔºåÂ∑¶ËæπÊòØËÆ°Ê¨°ÁöÑÊï∞Â≠óÔºåÂè≥ËæπÊòØ Rust ÁöÑÂêâÁ••Áâ© ü¶ÄÔºå‰∏ãÈù¢ÊòØ‰∏§‰∏™ÊåâÈíÆÔºå‰∏Ä‰∏™+Ôºå‰∏Ä‰∏™-

Rust ÁöÑÂêâÁ••Áâ©ÊòØ ü¶ÄÔºåËÄåÈùûÂõæ‰∏≠ÁôΩËâ≤ÁöÑÊ†∑Â≠êÔºåÂÆòÊñπÁªôÂá∫ÁöÑËøêË°åÁªìÊûúÂ∫îËØ•ÊòØ‰∏ãÈù¢Ëøô‰∏™Ê†∑Â≠êÁöÑ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_e5a546a4ea374156a64520ad87225e04.png)Rust ÊòØÊîØÊåÅËøôÁßçÊñáÊú¨ÁöÑÔºå‰ΩÜÊòØ‰∏çÁü•ÈÅì‰∏∫‰ªÄ‰πàË°®Áé∞Âá∫Êù•ÂíåÂÆòÊñπÁªôÁöÑÊ°à‰æãÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ

### ÊÄªÁªì

Êú¨ÊúüÂ≠¶‰π†‰∫ÜÂè¶‰∏Ä‰∏™Áî±Á∫Ø Rust ÂÜôÁöÑ UI Ê°ÜÊû∂‚Äî‚ÄîFruiÔºåËøôÊòØ‰∏Ä‰∏™ÂØπÂºÄÂèëËÄÖÁõ∏ÂΩìÂèãÂ•ΩÁöÑÊ°ÜÊû∂ÔºåÂÄüÈâ¥‰∫é FlutterÔºåÂèØÊÉúÊòØÂàöËµ∑Ê≠•ÁöÑÊ°ÜÊû∂ÔºåÁõ∏‰ø°ÂÖ∂Âú®‰ª•ÂêéÁöÑÂèëÂ±ïËÇØÂÆö‰ºöÂèòÂæóÊõ¥Â•Ω„ÄÇ

Frui Ê°ÜÊû∂ÁöÑË∑ØÂ≠êÊòØÂ≠¶‰π† Flutter ÁöÑÔºåÂÖ∂‰ª£Á†Å‰πüÊòØÈ´òÂ∫¶Áõ∏‰ººÔºå‰ª£Á†Å‰πüÂÆπÊòìÁêÜËß£ÔºåÁ°ÆÂÆûÂÅöÂà∞‰∫ÜÂØπÂºÄÂèë‰∫∫ÂëòÂèãÂ•ΩÔºåËøôÊòØÈùûÂ∏∏ÂÄºÂæóËÇØÂÆöÁöÑÔºåÂ≠¶‰π†Ëøá Flutter ÁöÑ‰∫∫ÁîöËá≥ÂèØ‰ª•Áõ¥Êé•ËøÅÁßªËøáÊù•Ôºå‰∏çÈúÄË¶ÅÂ≠¶‰π†Â§™Â§öÁöÑÂÜÖÂÆπÔºåÈôç‰Ωé‰∫ÜÂ≠¶‰π†ÊàêÊú¨„ÄÇ‰ΩÜÊòØËØ•È°πÁõÆËøòÂ§ÑÂú®ÂàöÂºÄÂßãÈò∂ÊÆµÔºåÊàëËßâÂæóÂèØ‰ª•ÂÖ≥Ê≥®‰∏ÄÊâãÔºåËØ•Ê°ÜÊû∂Â¶ÇÊûúÂÅöÂÆåÔºåÂèØËÉΩÊòØ Rust ÁöÑ‰∏ªÊµÅÊ°ÜÊû∂„ÄÇÊ≠§Â§ñÔºåËøô‰∏™ Counter Ëøò‰∏çÊîØÊåÅÁÇπÂÖ≥Èó≠ÊåâÈíÆÊù•ÂÖ≥Èó≠Á™óÂè£ÔºåÊàëËßâÂæóËøôÂèØËÉΩÊòØÂõ†‰∏∫Ê≤°ÊúâÂÆûÁé∞ÂÖ≥Èó≠ÊåâÈíÆÁöÑ‰ª£Á†ÅÂØºËá¥ÁöÑÔºåÂêéÁª≠ÈöèÁùÄËØ•È°πÁõÆÁöÑÂèëÂ±ïÔºå‰ºöË°•ÈΩêËøôÈÉ®ÂàÜÂÜÖÂÆπ„ÄÇ

ÊØîËæÉËµ∑‰∏äÊúüÁöÑ UI Ê°ÜÊû∂‚Äî‚ÄîIcedÔºåÂÖ∂Êû∂ÊûÑÊÄùÊÉ≥‰∏é Flutter ‰πüÊòØÈ´òÂ∫¶Áõ∏‰ººÔºå‰∏é Frui ‰∏çÂêåÁöÑÊòØÔºåIced ‰∏ªË¶ÅÂÄüÂä©‰∫é‰∏Ä‰∏™ SandboxÔºå‰ΩÜÊòØÂÖ∂ÁºñÁ®ãÊâãÊ≥ïÊòØÂØπÂºÄÂèëËÄÖÊØîËæÉÊúâÂ•ΩÁöÑ„ÄÇÂú®ÊàëÁöÑ‰ΩìÈ™å‰∏≠Ôºå‰∏ªË¶ÅÈÅáÂà∞ÁöÑÊòØÊñáÊ°£ÁâàÊú¨Èîô‰π±Ôºå‰∏çÊîØÊåÅ‰∏≠ÊñáÔºåÊâÄ‰ª•ÂØºËá¥‰ΩìÈ™åÂæàÂ∑Æ„ÄÇÊàëÂú®Âà´ÁöÑÂçö‰∏ª‰∏ãÈù¢ÁúãÂà∞ Iced ÊòØÊîØÊåÅ‰∏≠ÊñáÁöÑÔºå‰ΩÜÊòØÊàëÂä†‰∏≠ÊñáÂ∞±‰π±Á†ÅÔºåÁõÆÂâçËøò‰∏çÊ∏ÖÊ•öÊòØ‰ªÄ‰πàÈóÆÈ¢ò„ÄÇ

#### ÂÆåÊï¥‰ª£Á†Å

counter ÁöÑÂÆåÊï¥‰ª£Á†Å

```rust
use frui::prelude::*;
use rand::Rng;
/// This widget will display a different number every time its state is lost.
#[derive(ViewWidget)]
pub struct RandomState;
impl WidgetState for RandomState {
    type State = usize;
    fn create_state<'a>(&'a self) -> Self::State {
        rand::thread_rng().gen()
    }
}
impl ViewWidget for RandomState {
    fn build<'w>(&'w self, ctx: BuildContext<'w, Self>) -> Self::Widget<'w> {
        Text::new(ctx.state().to_string())
    }
}
/// This widget will display a different number every time it gets rebuilt.
#[derive(ViewWidget)]
pub struct ChangesOnRebuild;
impl ViewWidget for ChangesOnRebuild {
    fn build<'w>(&'w self, _: BuildContext<'w, Self>) -> Self::Widget<'w> {
        Text::new(rand::thread_rng().gen::<usize>().to_string())
    }
}
```

Ê≠§Â§ÑÈôÑ‰∏ä Flutter ÁöÑ Counter ‰ª£Á†ÅÔºåËØªËÄÖÂèØËßÇÂØüÂÖ∂ÂºÇÂêåÔºåËá≥‰∫é Flutter ÂÅöÂºÄÂèëÁöÑÂ•ΩÂ§ÑÔºåÂè™ÊúâÂΩìËØªËÄÖÁúüÊ≠£ÂéªÁî®ÁöÑÊó∂ÂÄôÊâç‰ºö‰Ωì‰ºöÂà∞‰∫Ü„ÄÇ

```rust
class MyHomePage extends StatefulWidget {
  const MyHomePage({Key? key, required this.title}) : super(key: key);
  final String title;
  @override
  State<MyHomePage> createState() => _MyHomePageState();
}
class _MyHomePageState extends State<MyHomePage> {
  int _counter = 0;
  void _incrementCounter() {
    setState(() {
      _counter++;
    });
  }
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(widget.title),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            const Text(
              'ÁÇπÂáªÊåâÈíÆÁöÑÊ¨°Êï∞:',
            ),
            Text(
              '$_counter',
              style: Theme.of(context).textTheme.headline4,
            ),
          ],
        ),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: _incrementCounter,
        tooltip: 'Increment',
        child: const Icon(Icons.add),
      ),
    );
  }
}
```

## icedÔºörust ÂéüÁîüË∑®Âπ≥Âè∞ GUI Ê°ÜÊû∂

GitHubÔºöhttps://github.com/iced-rs/iced

ÂÆòÁΩëÔºöhttps://iced.rs/

Â≠¶‰π†Ôºö

[„Äê‰∏ÄËµ∑Â≠¶ Rust | Ê°ÜÊû∂ÁØá | iced Ê°ÜÊû∂„Äërust ÂéüÁîüË∑®Âπ≥Âè∞ GUI Ê°ÜÊû∂‚Äî‚Äîiced*iced rust*ÂπøÈæôÂÆáÁöÑÂçöÂÆ¢-CSDN ÂçöÂÆ¢](https://blog.csdn.net/weixin_47754149/article/details/127271805)

[ÂÜ∞ÔºàIcedÔºâÊïôÁ®ã ‚Äî‚Äî ‰∏ÄÊ¨æÈù¢Âêë Rust ÁöÑË∑®Âπ≥Âè∞ GUI Â∫ì (qq.com)](https://mp.weixin.qq.com/s?__biz=MzkwNjYxNTY3Mg==&mid=2247493651&idx=1&sn=7e42f46ab501898ad72eec3e2e024314&chksm=c0e76604f790ef123329fee9f37473b66506d0c3f3b1e69f84e77d2b5de91928814db9037df5&cur_album_id=3386270396001402881&scene=190#rd)

### ‰ªãÁªç

- Áî±‰∫éÂÖ∂Â§öÂäüËÉΩÊÄßÔºåËØ• iced Â∫ìÊòØÊúÄÂèóÊ¨¢ËøéÁöÑ Rust Â∫ì‰πã‰∏Ä„ÄÇÂ∞ΩÁÆ°ËØ•Â∫ìÂ∑≤Âú®ËÆ∏Â§öÈ°πÁõÆ‰∏≠‰ΩøÁî®Ôºå‰ΩÜÂÆÉÈùûÂ∏∏‰∏çÁ®≥ÂÆöÂπ∂‰∏îÂèëÂ±ïËøÖÈÄü„ÄÇÊÇ®ÂèØ‰ª•Ê±ÇÂä©‰∫é‰ΩøÁî®ËæÉÊóßÁöÑÁâàÊú¨ÔºåÂõ†‰∏∫‰∏ªÂàÜÊîØ‰∏çÊñ≠ÂèòÂåñÔºåÂπ∂‰∏îÂú®Áîü‰∫ß‰∏≠‰ΩøÁî®ÂèØËÉΩ‰ºöÂæàÊòÇË¥µ„ÄÇ

- iced ÊòØ‰∏Ä‰∏™‰∏éÊ∏≤ÊüìÂô®Êó†ÂÖ≥ÁöÑ„ÄÅÂåÖÂê´ÁîµÊ±†ÁöÑ„ÄÅ‰ª•Êï∞ÊçÆ‰∏∫‰∏≠ÂøÉÁöÑË∑®Âπ≥Âè∞ Rust Â∫ìÔºåÁî®‰∫éÊûÑÂª∫ GUI ÂíåÂâçÁ´ØÔºåÂÖ∂ÁÅµÊÑüÊù•Ëá™ Elm Êû∂ÊûÑ„ÄÇËØ• iced Â∫ìÊèê‰æõ‰∫Ü‰∏Ä‰∏™Êòì‰∫é‰ΩøÁî®ÁöÑÂèçÂ∫îÂºèÁºñÁ®ãÊ®°ÂûãÔºåÂÖ∑ÊúâÂØπÂºÇÊ≠•Êìç‰ΩúÂíåËá™ÂÆö‰πâÂ∞èÈÉ®‰ª∂ÁöÑ‰∏ÄÊµÅÊîØÊåÅ„ÄÇ

- ‰ΩøÁî®ËØ•Â∫ìÊûÑÂª∫ÁöÑ GUI Â∫îÁî®Á®ãÂ∫è iced ÂèØ‰ª•Âú®ÂÖ∑ÊúâÂìçÂ∫îÂºèÂ∏ÉÂ±ÄÁöÑ Windows„ÄÅmacOS„ÄÅLinux Âíå WebÔºà‰ΩøÁî® DOMÔºâ‰∏äËøêË°å„ÄÇÊåâÁÖßÊÉØ‰æãÔºåiced Â∞ÜÂ∫îÁî®Á®ãÂ∫èÂàÜ‰∏∫Âõõ‰∏™Ê¶ÇÂøµÔºö

- StateÔºöÁî®‰∫éÂ∫îÁî®Á®ãÂ∫èÁöÑÁä∂ÊÄÅ

- Ê∂àÊÅØÔºöÁî®‰∫éÊ∂àÊÅØÂíå‰∫ã‰ª∂

- ËßÜÂõæÈÄªËæëÔºöÁî®‰∫éÂ∞ÜÁä∂ÊÄÅÊòæÁ§∫‰∏∫Áî®Êà∑‰∫§‰∫íÁöÑÂ∞èÈÉ®‰ª∂

- Êõ¥Êñ∞ÈÄªËæëÔºöÁî®‰∫éÊõ¥Êñ∞Áä∂ÊÄÅÂíå‰∏éÊ∂àÊÅØ‰∫§‰∫í

- ÊÇ®ÂèØ‰ª•ËΩªÊùæÂú∞ÂºÄÂßã‰ΩøÁî® Iced Â∫ìÁî®‰∫éÂâçÁ´Ø Web Â∫îÁî®Á®ãÂ∫è„ÄÇËØ•ËøáÁ®ãÁ±ª‰ºº‰∫éÊûÑÂª∫ GUI Â∫îÁî®Á®ãÂ∫èÔºåÊÇ®ÂèØ‰ª•Êü•Áúã iced ÊñáÊ°£‰ª•‰∫ÜËß£ÊúâÂÖ≥ËØ•ËΩØ‰ª∂ÂåÖÁöÑÊõ¥Â§ö‰ø°ÊÅØ„ÄÇ

### ÂâçË®Ä

Â≠¶‰π†‰∏ÄÈó®ÁºñÁ®ãËØ≠Ë®ÄÔºåÁªùÂØπ‰∏çÂèØ‰ª•ÊäõÂºÉËØ•ÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ∫îÁî®„ÄÇÂú®Â≠¶‰π†ÂÖ∂‰ªñÁºñÁ®ãËØ≠Ë®ÄÊó∂Ôºå‰æãÂ¶Ç C++ÔºåÂè™Â≠¶‰π†ËØ≠Ê≥ïÔºåÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÊòØÁõ∏ÂΩìÊûØÁá•ÁöÑÔºåËøôÂ∞±ÂæàËÄÉËôë‰∏Ä‰∏™‰∫∫ÁöÑÊØÖÂäõ‰∫Ü„ÄÇÊ≠§Êó∂ÊúÄÂ•ΩÁöÑÂäûÊ≥ïÂ∞±ÊòØËÆ©Â≠¶‰π†ÂèòÂæóÊúâË∂£Ëµ∑Êù•ÔºåÂú®ÊàëÂ≠¶‰π†ÁöÑÊó∂ÂÄôÔºåÊàëÁöÑÂÖ¥Ë∂£‰πãÊ∫êÂ∞±ÊòØÊÉ≥Ë¶ÅÂÅöÂá∫ Windows ‰∏äÂçé‰∏ΩÁöÑÁ™óÂè£ÔºåÊù•ÊèêÈ´òËá™Â∑±ÁöÑÂ≠¶‰π†ÂíåÂ∑•‰ΩúÊïàÁéáÔºå‰∏∫Ê≠§ÊàëÂ≠¶‰π†Ëøá QTÔºåMFCÔºåËøô‰∫õÊ°ÜÊû∂ÈÉΩÊå∫Â•ΩÔºåÁ°ÆÂÆûÂÆûÁé∞‰∫ÜÊàëÊÉ≥Ë¶ÅÁöÑÊïàÊûúÔºå‰ΩÜÊòØÂºÄÂèëËæÉ‰∏∫ÁπÅÁêêÔºåÂêéÊù•ÊàëÂèàÂ≠¶‰π† qt pythonÔºåÁ°ÆÂÆûÂºÄÂèëÂèòÂæóÂæàÊñπ‰æø‰∫ÜÔºå‰ΩÜÊòØÊñ∞ÁöÑÈóÆÈ¢òÂèàÂá∫Áé∞‰∫ÜÔºåÂ∞±ÊòØÊâìÂåÖ‰∏çÊñπ‰æøÔºå‰∏∫Ê≠§ÔºåÊàëÂú®Ëøô‰∏™Ë∑Ø‰∏äÁªèÂéÜ‰∫ÜÊõ≤ÊäòÁöÑÊé¢Á¥¢„ÄÇ

Ê≠§Êó∂Â≠¶‰π† Rust ‰πüÊòØ‰∏ÄÊ†∑ÁöÑÔºåË¶ÅÊÉ≥ÊèêÂçáËá™Â∑±ÁöÑÂ≠¶‰π†ÂäõÔºåÂ∞±Ë¶ÅÊâæÂà∞ÂÖ∂‰∏≠ÊÑüÂÖ¥Ë∂£ÁöÑÁÇπÔºåÂØπ‰∫é RustÔºåÊàëÂæàÊÉ≥Âà©Áî® Rust ÁöÑ‰ºòÂäøÊù•ÂÆûÁé∞ Windows ÁöÑÁ™óÂè£Ôºå‰πüÊâæËøáÁõ∏ÂÖ≥ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÊØîÂ¶Ç Rust ÁöÑ qtÔºå‰ΩÜÊòØÂÆÉÊØîËæÉÁπÅÁêêÔºåÂú®ÂêéÈù¢ÁöÑÊñáÁ´†‰ºö‰ªãÁªçÂà∞ÔºõËøòÊúâ‰ΩøÁî® Rust ‰Ωú‰∏∫ÂêéÁ´ØÁöÑË∑®Âπ≥Âè∞ ui Ê°ÜÊû∂ Tauri UIÔºå‰ªñÁöÑÊÄùË∑ØÊõ¥ÂÉèÊòØ Electron ËøôÁßçÁöÑÔºåÂâçÁ´Ø‰ΩøÁî® html+css Â∏ÉÂ±ÄÔºåÁÑ∂ÂêéÂêéÁ´Ø‰ΩøÁî® RustÔºåÂÜçÊâìÂåÖÂ•Ω appÔºåÂÖ∂‰ΩøÁî®ÊñπÂºèÂú®Êú¨Á≥ªÂàóÊñáÁ´†ÂêéÈù¢‰πü‰ºö‰ªãÁªçÔºõËøòÊúâÂ∞±ÊòØÊú¨ÊúüÊñáÁ´†Ë¶Å‰ªãÁªçÁöÑ IcedÔºåÂÆÉÊõ¥ÂÉèÊòØ Rust ÁöÑ flutterÔºåÂü∫‰∫é Elm ÂÆûÁé∞ÁöÑË∑®Âπ≥Âè∞ GUI Ê°ÜÊû∂„ÄÇ

Iced ÊòØ‰∏Ä‰∏™ÊàëËæÉ‰∏∫ÊÑüÂÖ¥Ë∂£ÁöÑ GUI Ê°ÜÊû∂ÔºåÂÖ∂ÂºÄÂèëÊñπÂºèÂØπÊàëÊàëËøôÁßçÂ≠¶‰π†‰∫Ü Vue ÁöÑ‰∫∫Êù•ËØ¥Áõ∏ÂΩìÂèãÂ•ΩÔºå‰∏îÈÖçÂíå Rust ÁöÑÁâπÁÇπÔºåÂ∑≤ÁªèÊòØÂæàËàíÊúç‰∫Ü„ÄÇÊ≠§Â§ñÂÆÉÈ¢úÂÄº‰πüÊå∫È´òÔºåËøôÂ∞±ÊòØÊàëÂ≠¶‰π†ÂÆÉÁöÑÁêÜÁî±„ÄÇ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_eb9afa313e524c0ab0562260a82cba37.png)

### Iced ÁöÑÁâπÁÇπ

- ÁÆÄÂçïÊòìÁî®ÔºåÊúâ‰∏ÄÁ≥ªÂàóÂÜÖÁΩÆ API
- Á±ªÂûãÂÆâÂÖ®ÔºåÊúâ‰∏ÄÂ•ó‰∫§‰∫íÁºñÁ®ãÊ®°Âûã
- Ë∑®Âπ≥Âè∞ÔºàÊîØÊåÅ WindowsÔºåMacÔºåLinux Âíå WebÔºâ
- ÂìçÂ∫îÂºèÂ∏ÉÂ±Ä
- Âü∫‰∫é widgets
- ÊîØÊåÅËá™ÂÆö‰πâ widgets
- ËøòÊúâÂÖ∂‰ªñÁâπÊÄßÔºåÂª∫ËÆÆÂéª Github Êü•Áúã

### ‰∏Ä„ÄÅÊê≠Âª∫È°πÁõÆ

#### 1. Ê≠£Â∏∏ÂàõÂª∫È°πÁõÆ

È¶ñÂÖàÂàõÂª∫‰∏Ä‰∏™È°πÁõÆ

```bash
cargo new gui_iced_001
```

#### 2. ÂØºÂÖ• idea

‰ΩøÁî® idea ÂØºÂÖ•È°πÁõÆ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_1b6fdeeb2f6046e7bb0ec10651954c79.png)

#### 3. ÂºïÂÖ•‰æùËµñ

ÊâìÂºÄ Cargo.tomlÔºåÁÑ∂ÂêéÂú®‰æùËµñÂá∫ÂÜôÂÖ•

```
iced = "0.4"
```

> `Ê≥®ÊÑèÔºö`Êú¨‰∫∫Áî®ÁöÑÊòØ 2021 ‰ª•ÂêéÁöÑÁâàÊú¨ÔºåÂ¶ÇÊûú‰Ω†‰∏çÊòØÔºåÂª∫ËÆÆÂéªÂÆòÁΩëÂ≠¶‰π†ÂØπÂ∫îÁöÑÂ§ÑÁêÜÁ≠ñÁï•ÔºåËøôÈáå‰∏çËß£Èáä„ÄÇ

Ê≠§Êó∂Êñá‰ª∂Â∫îËØ•ÊòØËøôÊ†∑ÁöÑ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_a8407846d1134ceab1577389028e2f95.png)Âà∞Ê≠§‰∏∫Ê≠¢ÔºåÈ°πÁõÆÂ∞±Êê≠Âª∫ÂÆåÊØïÔºåÊé•‰∏ãÊù•Â∞±ÊòØÂÜôÊàë‰ª¨ÁöÑ demo ‰∫Ü„ÄÇ

### ‰∫å„ÄÅÁºñÂÜô demo

Âú® Github ‰∏äÊòØÊúâÂæàÂ§ö Iced ÁöÑ‰æãÂ≠êÁöÑÔºåÂÖ∂‰∏≠ÊúÄÁªèÂÖ∏Ôºå‰πüÊòØÂÆòÁΩëÂîØ‰∏ÄÂÜô‰∏äÂéªÁöÑ‰æãÂ≠êÂ∞±ÊòØ Counter ËÆ°Êï∞Âô®ÔºåÂõ†‰ªéËøôÈáåÂ∞±ÂÆûÁé∞ Counter ÁöÑ demo„ÄÇËôΩÁÑ∂ËØ¥Ëøô‰∏™ÂæàÁÆÄÂçïÔºå‰ΩÜÊòØÂÖ∂‰∏≠ÂùëÂæàÂ§öÔºåÂ•Ω‰∏çÂÆπÊòìÊâçÂÜôÂá∫Ëøô‰∏™ demoÔºåÂ∞±ËØ¥‰∏§‰∏™ÊØîËæÉÂùëÁöÑÂú∞ÊñπÊääÔºåËøô‰∏™Ê°ÜÊû∂Ë°åÂíåÂàó‰∏çÂàÜÔºå‰æãÂ≠ê‰∏≠‰ª£Á†ÅÂ§™ËøáËÄÅÊóßÔºåÈÉΩÊòØÊàë‰∏ÄÊ≠•‰∏ÄÊ≠•Êé¢Á¥¢Âá∫Êù•ÁöÑ„ÄÇ

> ‰ª•‰∏ãÂÜÖÂÆπ‰∏éÂÆòÁΩë‰ºöÊúâËæÉÂ§ßÁöÑÂ∑ÆÂà´ÔºåÂÆòÁΩëÁöÑËøêË°å‰∏ç‰∫ÜÔºåËØ∑Ê≥®ÊÑèÁîÑÂà´„ÄÇ

#### 1. ÁºñÂÜô State

È¶ñÂÖà‰∏∫Á®ãÂ∫èÁºñÂÜô‰∏Ä‰∏™ StateÔºåËøô‰∏™Ê†∏ÂøÉÊ¶ÇÂøµÂú®Â≠¶‰π† Vue Âíå React ÊàñËÄÖ Flutter ÁöÑÊó∂ÂÄôÂøÖÁÑ∂‰ºöÁî®Âà∞ÔºåËøôÈáåÊöÇÊó∂‰∏çÂÅöËß£ÈáäÔºåÁõ¥Êé•ÁªôÂá∫‰ª£Á†Å

```rust
struct Counter {
    value: i32,
    // The local state of the two buttons
    increment_button: button::State,
    decrement_button: button::State,
}
```

ËøôÈáåÊòØÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ÁªìÊûÑ‰Ωì`Counter `ÔºåËøô‰∏™ÁªìÊûÑ‰ΩìÂ∞±ÂΩì‰ΩúÊàë‰ª¨Á™óÂè£ÁöÑ StateÔºåÂÖ∂ÊàêÂëò`value`‰ª£Ë°®ËÆ°Êï∞Âô®ËÆ°Êï∞ÁöÑÊï∞ÂÄºÔºå`increment_button`Âíå`decrement_button`ÊòØ‰∏§‰∏™ÊåâÈíÆ+Âíå-ÁöÑ state„ÄÇ

#### 2. ÂÆö‰πâÊ∂àÊÅØÁ±ªÂûã

Êé•‰∏ãÊù•Â∞±ÊòØÂÆö‰πâÁ®ãÂ∫è‰∏≠Áî®Âà∞ÁöÑÊ∂àÊÅØÁ±ªÂûãÔºåÁ®ãÂ∫è‰∏≠ÁöÑ‰∫§‰∫íÊòØÈÄöËøá‰ø°Âè∑Êù•ËøõË°åÁöÑÔºåËøôÁÇπ Qt Â∞±ÂÅöÁöÑÂæàÂ•ΩÔºåÂ¶ÇÊûú‰Ω†Â≠¶‰π†Ëøá qt ÊàñËÄÖÂâçÁ´ØÁöÑ Vue Á≠âÊ°ÜÊû∂ÔºåËøô‰∏™Â∞±ÂæàÂ•ΩÁêÜËß£‰∫Ü„ÄÇ

```rust
#[derive(Debug, Clone, Copy)]
enum Message {
    IncrementPressed,
    DecrementPressed,
}
```

ËøôÈáåÂÆö‰πâ‰∫Ü‰∏§‰∏™Ê∂àÊÅØÔºå‰∏Ä‰∏™ÊòØ`IncrementPressed`Ôºå‰ª£Ë°®+ÊåâÈíÆË¢´ÁÇπÂáªÔºå‰∏Ä‰∏™ÊòØ`DecrementPressed`Ôºå‰ª£Ë°®-ÊåâÈíÆË¢´ÁÇπÂáª„ÄÇ

#### 3. ÁºñÂÜôËßÜÂõæÈÄªËæë

ËøôÈáåÂÆòÊñπÁªôÂá∫ÁöÑ‰æãÂ≠êÊòØÁõ¥Êé•‰∏∫ Counter ÂÆûÁé∞ view Âíå updateÔºå‰ΩÜÊòØÁªèËøáÊàëÁöÑÊé¢Á¥¢ÔºåÊòØ‰∏çÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÁöÑ„ÄÇ

Iced Á®ãÂ∫èËøêË°åÔºåÈúÄË¶ÅÂÆûÁé∞ Application ÊàñËÄÖ SandboxÔºåËøô‰ø©ÊòØ‰ªÄ‰πàÊÑèÊÄùÁé∞Âú®ÂÖà‰∏çÁÆ°ÔºåÊàë‰ª¨ËøôÈáå‰ΩøÁî®ÁöÑÊòØ SandboxÔºåÂõ†‰∏∫ÂÖ∂Ë∂≥Â§üÁöÑÁÆÄÂçï„ÄÇ

‰∏Ä‰∏™Á©∫ÁöÑ Sandbox Â∫îËØ•ÊòØËøôÊ†∑ÁöÑ

```rust
impl Sandbox for Counter {
    type Message = ();
    fn new() -> Self {
        todo!()
    }
    fn title(&self) -> String {
        todo!()
    }
    fn update(&mut self, message: Self::Message) {
        todo!()
    }
    fn view(&mut self) -> Element<'_, Self::Message> {
        todo!()
    }
}
```

ËøôÈáå‰ªé‰∏äÂà∞‰∏ãÂºÄÂßã‰ªãÁªç

##### Message

‰ª£Ë°®ÁöÑÊòØÂΩìÂâçÁ™óÂè£ÁöÑÊâÄÊúâÊ∂àÊÅØÔºåÂú®‰ΩøÁî®Êó∂ÔºåÈúÄË¶Å‰º†ÂÖ•ÂÆö‰πâÂ•ΩÁöÑÊ∂àÊÅØÊûö‰∏æÔºåÂ∞±ÊØîÂ¶ÇËØ¥ËøôÈáåÊó∂Áî®Ê≥ïÂ∫îËØ•ÊòØËøôÊ†∑ÁöÑÔºå

```rust
#[derive(Debug, Clone, Copy)]
enum Message {
    IncrementPressed,
    DecrementPressed,
}
// ....
type Message = Message;
```

##### new

ËøôÈáåÂíåÈÄöÂ∏∏ÁºñÂÜô‰ª£Á†Å‰∏ÄÊ†∑ÔºåÈúÄË¶ÅËøîÂõûËá™Ë∫´ÂÆû‰æãÔºåÂ∞±‰∏çÂÅöËøáÂ§öËß£Èáä‰∫Ü

```rust
fn new() -> Self {
        Self { value: 0, increment_button: Default::default(), decrement_button: Default::default() }
    }
```

##### title

ËßÅÂêçÁü•‰πâÔºåËøôÈáåÂ∞±ÊòØË¶ÅËøîÂõûÂΩìÂâçÁ™óÂè£ÁöÑÂêçÂ≠ó

```rust
fn title(&self) -> String {
        String::from("Counter - Iced")
    }
```

##### update

ËøôÈáåÊó∂Â§ÑÁêÜÁ™óÂè£ÁöÑÊ∂àÊÅØÈÄªËæëÔºåÊú¨Á™óÂè£Â§ÑÁêÜ‰∏§‰∏™Ê∂àÊÅØÔºå‰∏Ä‰∏™ÊòØ`IncrementPressed`Ôºå‰ª£Ë°®+ÊåâÈíÆË¢´ÁÇπÂáªÔºåÂ¶ÇÊûúË¢´ÁÇπÂáª‰∫ÜÔºåState ÁöÑ Value Â∞±+1Ôºå‰∏Ä‰∏™ÊòØ`DecrementPressed`Ôºå‰ª£Ë°®-ÊåâÈíÆË¢´ÁÇπÂáªÔºåÂ¶ÇÊûúË¢´ÁÇπÂáª‰∫ÜÔºåState ÁöÑ Value Â∞±-1„ÄÇËøôÈáåÂ§ÑÁêÜÁõ∏ÂΩìÁÆÄÂçïÔºåÂπ∂Êú™ËÄÉËôëËæπÁïåÂÄº„ÄÇ

```rust
fn update(&mut self, message: Message) {
        match message {
            Message::IncrementPressed => {
                self.value += 1;
            }
            Message::DecrementPressed => {
                self.value -= 1;
            }
        }
    }
```

##### view

ËøôÈáåË¶ÅËøîÂõûÁ™óÂè£ÁöÑÂ∏ÉÂ±ÄÔºåÂÆûÈôÖ‰∏ä‰πüÂ∞±ÊòØË¶ÅÊûÑÂª∫Ëøô‰∏™Á™óÂè£ÔºåËøôÈáå Counter ÁöÑÁ™óÂè£‰ª£Á†ÅÂ¶Ç‰∏ã

```rust
fn view(&mut self) -> Element<Message> {
        Column::new().push(
            Text::new("Counter")
        ).push(
            Row::new().push(
                Button::new(&mut self.increment_button, Text::new("+"))
                    .on_press(Message::IncrementPressed).width(Length::Fill),
            ).push(
                Text::new(self.value.to_string()).size(22),
            ).push(
                Button::new(&mut self.decrement_button, Text::new("-"))
                    .on_press(Message::DecrementPressed).width(Length::Fill),
            )
        )
        .align_items(Alignment::Center).into()
    }
```

ÂèØ‰ª•ÁúãÂà∞ÔºåËøôÈáå‰ΩøÁî®ÁöÑÊó∂ÈìæÂºèË∞ÉÁî®Ôºå‰∏ÄÂ±ÇÂ•ó‰∏ÄÂ±ÇÔºåÂÖ∂‰ª£Á†ÅÂíå flutter ÁâπÂà´ÁöÑÁõ∏‰ººÔºåÂ¶ÇÊûú‰Ω†Â≠¶‰π†Ëøá flutterÔºåÈÇ£ÂøÖÁÑ∂ÈùûÂ∏∏ÁÜüÊÇâÔºåËøôÈáåÊàëÁîª‰∏Ä‰∏™ÂõæÔºåÊù•Ëß£ÈáäËøôÊÆµ‰ª£Á†ÅÔºåÈ¶ñÂÖàÁî± Column Â∞ÜÁ™óÂè£ÂàÜ‰∏∫‰∏§Ë°åÔºåÂÖ∂Â∏ÉÂ±ÄÂíåÁ∫¢Ê°ÜÊòØ‰∏ÄËá¥ÁöÑÔºå‰∏ä‰∏ã‰∏§Ë°å

> `Ê≥®ÊÑèÔºö`Ëøô‰∏™Ê°ÜÊû∂Ë°åÂíåÂàóÂÇªÂÇªÂàÜ‰∏çÊ∏ÖÔºåColumn ÊòØÂàóÁöÑÊÑèÊÄùÔºåÂú®Ëøô‰∏™Ê°ÜÊû∂ÈáåÈù¢ÊòØË°åÁöÑÊÑèÊÄù„ÄÇ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_760b571e6ad34cbdbe97d1f43061fff4.png)Á¨¨‰∏ÄË°åÔºåÂè™Ê∑ªÂä†‰∫Ü‰∏™ Text ÁªÑ‰ª∂ÔºåÂπ∂‰∏îÁªôÂàùÂßãÂÄº`Counter`ÔºåËøôÈáåÂéüÊú¨ÊòØÊâìÁÆó‰ΩøÁî®‰∏≠Êñá`ËÆ°Êï∞Âô®`ÁöÑÔºåÂ•à‰ΩïËøôÁé©ÊÑèÂÑø‰∏çÊîØÊåÅ‰∏≠Êñá

```rust
Column::new().push(
            Text::new("Counter")
        )
```

Á¨¨‰∫åË°åÔºåÂÖ∂‰∏≠Ê∑ªÂä†‰∫Ü‰∏™ Row ÁªÑ‰ª∂(`Âàó`ÁªÑ‰ª∂)ÔºåÂπ∂‰∏îÂä†ÂÖ•‰∫Ü‰∏â‰∏™ÁªÑ‰ª∂ÔºåÂàÜÂà´ÊòØ‰∏§‰∏™ ButtonÔºåÂ∞±ÊòØ+Âíå-ÊåâÈíÆÔºå‰∏Ä‰∏™ Text ÁªÑ‰ª∂ÔºåÁî®Êù•ÊòæÁ§∫ÂΩìÂâç Value

```rust
//...
.push(
            Row::new().push(
                Button::new(&mut self.increment_button, Text::new("+"))
                    .on_press(Message::IncrementPressed).width(Length::Fill),
            ).push(
                Text::new(self.value.to_string()).size(22),
            ).push(
                Button::new(&mut self.decrement_button, Text::new("-"))
                    .on_press(Message::DecrementPressed).width(Length::Fill),
            )
        )
```

ÊâÄ‰ª•Ê≠§Êó∂ÁöÑÁ™óÂè£Â∏ÉÂ±ÄÂ∫îËØ•ÊòØËøôÊ†∑ÁöÑ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_52f99c63c73743eca9949b4be11b6521.png)

#### 4. ÁºñÂÜô main ÂáΩÊï∞

ÂÜôÂ•ΩÁöÑÁ™óÂè£ÊòØÊó†Ê≥ïËá™Âä®ËøêË°åÁöÑÔºåÈúÄË¶ÅÂêØÂä®ÊâçÂèØ‰ª•ÔºåÈÄöÂ∏∏Âú® main ÂáΩÊï∞‰∏≠ÂêØÂä®Á™óÂè£ÔºåÂú®ËøôÈáå‰ºöÂèòÂæóÁÆÄÂçïËµ∑Êù•ÔºåËøôÈáåÁõ¥Êé•Ë¥¥‰∏ä‰ª£Á†Å

```rust
fn main() -> iced::Result {
    Counter::run(Settings::default())
}
```

ÂêØÂä®Á™óÂè£Âè™Ë¶ÅË∞ÉÁî®Á™óÂè£ÁöÑ run ÊñπÊ≥ïÂ∞±Â•Ω‰∫ÜÔºåÂÖ∂‰∏≠‰º†ÂÖ• SettingsÔºåÁî®Êù•ËÆæÁΩÆÁ™óÂè£ÁöÑÂàùÂßãÁä∂ÊÄÅÔºåËøôÈáåÁõ¥Êé•Áî®ÈªòËÆ§Áä∂ÊÄÅ‰∫ÜÔºåÂ¶ÇÊûúÂêéÁª≠ËøòË¶ÅËøõÂÖ•Ê∑±ÂÖ•ÔºåËøôÈáå‰ºö‰∏ìÈó®Âá∫‰∏ÄÊúüÊù•ËøõË°åËÆ≤Ëß£„ÄÇ

### ‰∏â„ÄÅËøêË°åÊïàÊûú

Ê≠§Êó∂Êàë‰ª¨ËøêË°åÂΩìÂâçÂÜôÂ•ΩÁöÑ demo

> `Ê≥®ÊÑèÔºö`ÂÆåÊï¥‰ª£Á†ÅÊîæÂú®ÊñáÁ´†Êú´Â∞æÔºåÂ¶ÇÊûú‰Ω†ÊáíÂæóÊï≤‰ª£Á†ÅÔºåÂèØ‰ª•Áõ¥Êé•Â§çÂà∂„ÄÇ

![image](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/urc4jn6zkhw3i_1c7d3e1529b64e05a455140af4bee5e0.gif)

### ÊÄªÁªì

Êú¨Êúü‰∏∫Â§ßÂÆ∂‰ªãÁªç‰∫Ü Rust ÁöÑ GUI Ê°ÜÊû∂ IcedÔºåÁªèËøáÊàëÁöÑÊé¢Á¥¢ÔºåÁªà‰∫éÊòØÂ∞Ü Counter Demo Êê≠Âª∫Ëµ∑Êù•„ÄÇÁªèËøáÊàëÁöÑ‰ΩìÈ™åÔºåÊàëËÆ§‰∏∫Ëøô‰∏™Ê°ÜÊû∂ÂÖ∂ÂÆûÂπ∂Ê≤°ÊúâÊàëÊÉ≥Ë±°‰∏≠ÁöÑÈÇ£‰πàÂ•ΩÔºåÂÆÉÁ°ÆÂÆûÊòØ Rust ÁöÑÂéüÁîü GUI Ê°ÜÊû∂Ôºå‰πüÁ°ÆÂÆûÊúâ‰ªñËØ¥ÁöÑÈÇ£‰∫õÁâπÁÇπÔºåÁ°ÆÂÆûÊúâÈ¢úÂÄºÔºå‰ΩÜÊòØÂÆÉÊúâ‰∏™ÊúÄÂ§ßÁöÑÈóÆÈ¢òÂ∞±ÊòØ‰∏çÊîØÊåÅ‰∏≠ÊñáÔºåËÄå‰∏îË°åÂíåÂàóÂÇªÂÇªÂàÜ‰∏çÊ∏ÖÔºåÂÆòÊñπÊñáÊ°£Â§™ËøáËÄÅÊóßÔºåÊâÄ‰ª•Êê≠Âª∫ demo ÊµÅÁ®ãÂ∞±ÂèòÂæóÂæàÂ§çÊùÇÔºåÂØπÂºÄÂèë‰∏çÊòØÂæàÂèãÂ•ΩÔºåÂîØ‰∏ÄÂÄºÂæó‰∏ÄËØ¥ÁöÑÂ∞±ÊòØËøô‰∏™‰ª£Á†ÅÔºåÁ°ÆÂÆûÊòØËàíÊúç‰∫Ü‰∏çÂ∞ëÔºåËøôÊòØÂÖ∂‰ªñ UI Ê°ÜÊû∂ÊâÄÊó†Ê≥ïÊØîÁöÑ‰∏äÁöÑÔºåËøôÁÇπÂÄºÂæóËµûÂêåÔºåÂ∏åÊúõ‰ª•ÂêéËøô‰∏™Ê°ÜÊû∂ÊàñËÄÖÂêéÁªßËÄÖËÉΩËß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢òÔºåRust ÁöÑ UI ÊâçËÉΩÂº∫Â§ßËµ∑Êù•„ÄÇ

### ÂÆåÊï¥‰ª£Á†Å

```rust
use iced::{Alignment, button, Button, Column, Element, Length, Row, Sandbox, Settings, Text};
fn main() -> iced::Result {
    Counter::run(Settings::default())
}
struct Counter {
    value: i32,
    // The local state of the two buttons
    increment_button: button::State,
    decrement_button: button::State,
}
#[derive(Debug, Clone, Copy)]
enum Message {
    IncrementPressed,
    DecrementPressed,
}
impl Sandbox for Counter {
    type Message = Message;
    fn new() -> Self {
        Self { value: 0, increment_button: Default::default(), decrement_button: Default::default() }
    }
    fn title(&self) -> String {
        String::from("Counter - Iced")
    }
    fn update(&mut self, message: Message) {
        match message {
            Message::IncrementPressed => {
                self.value += 1;
            }
            Message::DecrementPressed => {
                self.value -= 1;
            }
        }
    }
    fn view(&mut self) -> Element<Message> {
        Column::new().push(
            Text::new("Counter")
        ).push(
            Row::new().push(
                Button::new(&mut self.increment_button, Text::new("+"))
                    .on_press(Message::IncrementPressed).width(Length::Fill),
            ).push(
                Text::new(self.value.to_string()).size(22),
            ).push(
                Button::new(&mut self.decrement_button, Text::new("-"))
                    .on_press(Message::DecrementPressed).width(Length::Fill),
            )
        )
        .align_items(Alignment::Center).into()
    }
}
```

Âú® Rust Á§æÂå∫‰∏≠ÔºåIced ÊòØÂÄºÂæóÂÖ≥Ê≥®ÁöÑË∑®Âπ≥Âè∞ GUI (ÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢) Â∫ì‰πã‰∏Ä„ÄÇÁî± `iced-rs` Âõ¢ÈòüÂºÄÂèëÔºåIced ÁöÑËÆæËÆ°ÁÅµÊÑüÊù•Ê∫ê‰∫é Elm ËØ≠Ë®ÄÔºåÂÆÉ‰ª•ÁÆÄÊ¥ÅÊÄßÂíåÁ±ªÂûãÂÆâÂÖ®ÊÄß‰∏∫ÁâπËâ≤ÔºåÊó®Âú®Êèê‰æõ‰∏Ä‰∏™ÁÆÄÂçïÊòìÁî®‰∏îÂäüËÉΩ‰∏∞ÂØåÁöÑ GUI ÂºÄÂèë‰ΩìÈ™å„ÄÇÊú¨ÊñáÂ∞ÜÊ∑±ÂÖ•Êé¢ËÆ® IcedÔºåÂπ∂Êèê‰æõËØ¶Â∞ΩÁöÑÁ§∫‰æãÂíåÊïôÂ≠¶ÔºåÂ∏åÊúõÂ∏ÆÂä©ËØªËÄÖÊõ¥Â•ΩÂú∞ÁêÜËß£Âíå‰ΩøÁî®Ëøô‰∏™Â∫ì„ÄÇ

### Iced ÁöÑÊ†∏ÂøÉÁâπÊÄß

Iced ‰∏ìÊ≥®‰∫é‰ª•‰∏ãÂá†‰∏™Ê†∏ÂøÉÁâπÊÄßÔºö

- **ÁÆÄÊ¥ÅÊòìÁî®ÁöÑ API**ÔºöÊèê‰æõ‰∫Ü‰∏ÄÂ•óÁªìÊûÑÊ∏ÖÊô∞ÁöÑ APIÔºå‰æø‰∫éÂø´ÈÄü‰∏äÊâãÂíåÂºÄÂèë„ÄÇ
- **Á±ªÂûãÂÆâÂÖ®ÁöÑÂèçÂ∫îÂºèÁºñÁ®ãÊ®°Âûã**ÔºöÂà©Áî® Rust Âº∫Â§ßÁöÑÁ±ªÂûãÁ≥ªÁªüÔºåÁ°Æ‰øù‰∫Ü‰ª£Á†ÅÁöÑÂÆâÂÖ®ÊÄß„ÄÇ
- **Ë∑®Âπ≥Âè∞ÊîØÊåÅ**ÔºöÂêåÊó∂ÊîØÊåÅ Windows, macOS, Linux, ‰ª•Âèä Web Âπ≥Âè∞„ÄÇ
- **ÂìçÂ∫îÂºèÂ∏ÉÂ±Ä**ÔºöÊòì‰∫éÂàõÂª∫ÁÅµÊ¥ª‰∏îËá™ÈÄÇÂ∫îÁöÑÁî®Êà∑ÁïåÈù¢„ÄÇ
- **ÂÜÖÁΩÆÊéß‰ª∂**ÔºöÂåÖÂê´‰∏∞ÂØåÁöÑÈ¢ÑÂà∂Êéß‰ª∂‰æõÂºÄÂèëËÄÖ‰ΩøÁî®„ÄÇ
- **Ëá™ÂÆö‰πâÊéß‰ª∂ÊîØÊåÅ**ÔºöÂÖÅËÆ∏ÂºÄÂèëËÄÖÊ†πÊçÆÈúÄÊ±ÇÂàõÂª∫ÂÆöÂà∂ÁöÑÊéß‰ª∂„ÄÇ
- **Ë∞ÉËØïÂè†Âä†Â±Ç**ÔºöÂÜÖÁΩÆÊÄßËÉΩÂ∫¶ÈáèÂ∑•ÂÖ∑ÔºåÊñπ‰æøÂºÄÂèëËÄÖËøõË°åÊÄßËÉΩË∞ÉËØï„ÄÇ

### ‰ΩøÁî® Iced ÊûÑÂª∫‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Rust Â∫îÁî®

Ë¶ÅÂºÄÂßã‰ΩøÁî® Iced ÊûÑÂª∫ GUI Â∫îÁî®Ôºå‰Ω†ÈúÄË¶ÅÈ¶ñÂÖàÁ°Æ‰øù Rust ÁöÑÂºÄÂèëÁéØÂ¢ÉÂ∑≤ÁªèÊê≠Âª∫Â•Ω„ÄÇÊé•‰∏ãÊù•ÔºåÊàë‰ª¨Â∞ÜÈÄêÊ≠•ÊûÑÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂ∫îÁî®Êù•Â±ïÁ§∫ Iced ÁöÑÁî®Ê≥ï„ÄÇ

#### Á¨¨‰∏ÄÊ≠•ÔºöÂàõÂª∫È°πÁõÆÂπ∂Ê∑ªÂä†‰æùËµñ

ÊâìÂºÄÁªàÁ´ØÔºå‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ Rust È°πÁõÆÔºö

```bash
cargo new my_iced_app
cd my_iced_app
```

ÁÑ∂ÂêéÔºåÊâìÂºÄ `Cargo.toml` Êñá‰ª∂ÔºåÊ∑ªÂä† Iced Â∫ì‰Ωú‰∏∫‰æùËµñÔºö

```rust
[dependencies]
iced = "0.4"
```

#### Á¨¨‰∫åÊ≠•ÔºöÁºñËæë main.rs

Êé•‰∏ãÊù•ÔºåÊàë‰ª¨Â∞ÜÁºñÂÜôÂ∫îÁî®ÁöÑ‰∏ªÈÄªËæë„ÄÇÁºñËæë `src/main.rs` Êñá‰ª∂ÔºåÂ°´ÂÖ•‰ª•‰∏ã‰ª£Á†ÅÔºö

```rust
use iced::{Application, Button, Column, Command, Element, Sandbox, Settings, Text};

pub fn main() -> iced::Result {
    Counter::run(Settings::default())
}

struct Counter {
    value: i32,
    increment_button: Button,
    decrement_button: Button,
}

#[derive(Debug, Clone, Copy)]
enum Message {
    IncrementPressed,
    DecrementPressed,
}

impl Sandbox for Counter {
    type Message = Message;

    fn new() -> Self {
        Counter {
            value: 0,
            increment_button: Button::new(),
            decrement_button: Button::new(),
        }
    }

    fn title(&self) -> String {
        String::from("Iced Counter Example")
    }

    fn update(&mut self, message: Message) -> Command<Message> {
        match message {
            Message::IncrementPressed => self.value += 1,
            Message::DecrementPressed => self.value -= 1,
        }
        Command::none()
    }

    fn view(&mut self) -> Element<Message> {
        Column::new()
            .push(
                Button::new(&mut self.increment_button, Text::new("Increment"))
                    .on_press(Message::IncrementPressed),
            )
            .push(
                Button::new(&mut self.decrement_button, Text::new("Decrement"))
                    .on_press(Message::DecrementPressed),
            )
            .push(Text::new(self.value.to_string()))
            .into()
    }
}
```

#### Á¨¨‰∏âÊ≠•ÔºöËøêË°å‰Ω†ÁöÑÁ¨¨‰∏Ä‰∏™ Iced Â∫îÁî®

‰øùÂ≠ò `main.rs` Êñá‰ª∂ÂêéÔºåËøêË°å‰ª•‰∏ãÂëΩ‰ª§ÔºåÁºñËØëÂπ∂ÂêØÂä® GUI Â∫îÁî®Ôºö

```bash
cargo run
```

Â∫îÁî®ÂêØÂä®ÂêéÔºå‰Ω†‰ºöÁúãÂà∞‰∏Ä‰∏™ÁÆÄÂçïÁöÑËÆ°Êï∞Âô®ÁïåÈù¢ÔºåÁïåÈù¢‰∏äÊúâ‚ÄúIncrement‚ÄùÂíå‚ÄúDecrement‚Äù‰∏§‰∏™ÊåâÈíÆÁî®‰∫éÂ¢ûÂáèËÆ°Êï∞ÂÄº„ÄÇ

### Êâ©Â±ïÔºöÂàõÂª∫ÂìçÂ∫îÂºèÂ∏ÉÂ±ÄÂíåËá™ÂÆö‰πâÊéß‰ª∂

Iced ‰∏ç‰ªÖÈôê‰∫éÂàõÂª∫Âü∫Á°ÄÁöÑÊéß‰ª∂ÂíåÂ∏ÉÂ±ÄÔºå‰Ω†ËøòÂèØ‰ª•Âà©Áî®ÂìçÂ∫îÂºèÂ∏ÉÂ±ÄÂàõÂª∫Â§çÊùÇ‰∏îËá™ÈÄÇÂ∫îÁöÑÁïåÈù¢„ÄÇÊ≠§Â§ñÔºåËá™ÂÆö‰πâÊéß‰ª∂ÂèØ‰ª•ËÆ©‰Ω†ÁöÑÂ∫îÁî®Êõ¥Âä†Âê∏Âºï‰∫∫Ôºå‰∏ãÈù¢Êàë‰ª¨Êù•Áúã‰∏Ä‰∏™Ëá™ÂÆö‰πâÊéß‰ª∂ÁöÑ‰æãÂ≠êÔºö

```rust
use iced::{button, Button, Column, Command, Element, Sandbox, Settings, Text};

// ÂÆö‰πâ‰Ω†ÁöÑËá™ÂÆö‰πâÊéß‰ª∂
struct MyCustomWidget {
    // Êéß‰ª∂ÂÜÖÈÉ®ÁöÑÁä∂ÊÄÅÂíåÂ±ûÊÄß
}

// ÂÆûÁé∞Ëá™ÂÆö‰πâÊéß‰ª∂ÁöÑÈÄªËæë
impl MyCustomWidget {
    // ÂàõÂª∫Êéß‰ª∂ÁöÑÊñ∞ÂÆû‰æã
    fn new() -> Self {
        // ÂàùÂßãÂåñÊéß‰ª∂Áä∂ÊÄÅ
    }

    // ÂÆûÁé∞Êéß‰ª∂ÁöÑÊ∏≤ÊüìÈÄªËæë
    fn view(&mut self) -> Element<Message> {
        // ËøîÂõû Element Á±ªÂûãÁöÑ GUI Ë°®Á§∫
    }
}

// ÂêéÁª≠Á±ª‰ºº‰∫é Counter Á§∫‰æãÁöÑÁªìÊûÑÂíåÂÆûÁé∞ÈÄªËæë
```

Âú®ËøôÊÆµ‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™ `MyCustomWidget` Êéß‰ª∂ÔºåÂπ∂‰∏∫ÂÆÉÂÆûÁé∞‰∫ÜÂü∫Á°ÄÁöÑÊûÑÂª∫ÂíåÊ∏≤ÊüìÈÄªËæë„ÄÇËøôÂ∞±ÊòØ Iced ÁÅµÊ¥ªÊÄßÁöÑ‰∏ÄÁßç‰ΩìÁé∞ÔºåÂÖÅËÆ∏‰Ω†Ê†πÊçÆÂÖ∑‰ΩìÁöÑÂ∫îÁî®ÈúÄÊ±ÇËøõË°åÂÆöÂà∂„ÄÇ

### ÁªìËØ≠

ÈÄöËøáÊú¨ÊñáÁöÑ‰ªãÁªçÔºå‰Ω†Â∫îËØ•ÂØπ Iced Êúâ‰∫ÜÂü∫Êú¨ÁöÑ‰∫ÜËß£„ÄÇIced ‰ª•ÂÖ∂ÁÆÄÊ¥ÅÁöÑ API„ÄÅÂº∫Á±ªÂûãËÆæËÆ°ÂíåË∑®Âπ≥Âè∞ÁâπÊÄßÔºå‰∏∫ Rust GUI ÂºÄÂèëÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÈùûÂ∏∏ÊúâÂê∏ÂºïÂäõÁöÑÈÄâÈ°π„ÄÇ‰Ω†ËøòÂèØ‰ª•Âú®ÂÆÉÁöÑ GitHub È°µÈù¢‰∏äÊâæÂà∞Êõ¥Â§öÁöÑ‰ø°ÊÅØ„ÄÅÊñáÊ°£ÂíåÁ§∫‰æãÔºå‰ª•ÂèäÂ¶Ç‰Ωï‰∏∫Ëøô‰∏™ÂºÄÊ∫êÈ°πÁõÆÂÅöÂá∫Ë¥°ÁåÆ„ÄÇ

## Xilem

GitHubÔºöhttps://github.com/linebender/xilem

## relm

relm

- relm ÊòØ‰∏Ä‰∏™Âü∫‰∫é GTK ÁöÑÂºÇÊ≠• GUI Â∫ìÔºåÊúÄÂàùÁî® Rust ÁºñÂÜô„ÄÇÂÆÉÂèóÂà∞ Elm Êû∂ÊûÑÁöÑÂêØÂèëÔºåÊó®Âú®ÁÆÄÂåñ GTK Â∫ìÁöÑ‰ΩøÁî®Âπ∂Êèê‰æõÁ±ª‰ºº Elm ÁöÑ‰ΩìÈ™å„ÄÇ

- ‰∏é GTK Â∫ì‰∏ÄÊ†∑ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® relm ÊûÑÂª∫Ë∑®Âπ≥Âè∞ GUI„ÄÇ

- [antoyo/relm: Idiomatic, GTK+-based, GUI library, inspired by Elm, written in Rust (github.com)](https://github.com/antoyo/relm)

- ÊÇ®ÈúÄË¶ÅÊúâ‰ΩøÁî® GTK Â∫ìÁöÑÁªèÈ™åÊâçËÉΩ‰ΩøÁî® relm Âπ∂ÂÖÖÂàÜÂà©Áî®ËØ•Â∫ì„ÄÇ

- Ë¶Å‰ΩøÁî® relmÔºåÊÇ®ÈúÄË¶ÅÂú®Êñá‰ª∂‰∏≠Â∞Ü gtk Âíå relm Â∫ìÊ∑ªÂä†Âà∞È°πÁõÆÁöÑ‰æùËµñÈ°π‰∏≠ Cargo.toml„ÄÇÊÇ®ËøòÈúÄË¶Å gtk ÂÆâË£ÖËØ•Â∫ì„ÄÇ

- [dependencies]gtk = "0.9.0"relm = "0.20.0"relm-derive = "0.20.0"

- ÊÇ®ËøòÂøÖÈ°ªÂ∞Ü gtk ÊùøÊù°ÁÆ±‰∏é relm ÊùøÊù°ÁÆ±‰∏ÄËµ∑ÂØºÂÖ•„ÄÇ

- use relm::{connect, Relm, Update, Widget};use gtk::prelude::\*;use gtk::{Window, Inhibit,a WindowType};use relm_derive::Msg;

- Rust Á§æÂå∫ÊÑüË∞¢ relm Êèê‰æõÁöÑÂÖ∂‰ªñ Rust Â∫ìÔºàÂ¶Ç Yew„ÄÅSeed Âíå icedÔºâÊèê‰æõÁöÑÁ±ª‰ºº Elm ÁöÑ‰ΩìÈ™å„ÄÇËØ• relm Â∫ìÂ§Ñ‰∫é beta Èò∂ÊÆµÔºåÂ∞öÊú™ÁªèËøáÈÄÇÂΩìÁöÑÊµãËØïÔºåÂπ∂‰∏îÊ≠£Âú®ËøÖÈÄüÂèòÂåñ„ÄÇËØùËôΩÂ¶ÇÊ≠§ÔºåÊÇ®ÂèØËÉΩËøò‰∏çÊÉ≥Âú®Áîü‰∫ß‰∏≠‰ΩøÁî®ÂÆÉ„ÄÇ

‰ΩøÁî®`relm`ÊûÑÂª∫Ë∑®Âπ≥Âè∞ÁöÑ GUI Â∫îÁî®„ÄÇ

Âú®Áé∞‰ª£ËΩØ‰ª∂ÂºÄÂèëËøáÁ®ã‰∏≠ÔºåÁî®Êà∑ÁïåÈù¢ÔºàGUIÔºâÁöÑËÆæËÆ°‰∏éÂÆûÁé∞ÊòØ‰∏çÂèØÊàñÁº∫ÁöÑ‰∏ÄÁéØ„ÄÇÈöèÁùÄ Rust ÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ¥õËµ∑ÔºåÂÖ∂ÂÆâÂÖ®ÊÄß„ÄÅÊÄßËÉΩÂíåÂπ∂ÂèëÁâπÊÄß‰ΩøÂÖ∂Êàê‰∏∫ÂºÄÂèëÈ´òË¥®Èáè GUI Â∫îÁî®ÁöÑÁêÜÊÉ≥ÈÄâÊã©„ÄÇ`relm`Ê°ÜÊû∂Ôºå‰Ωú‰∏∫ Rust ÁîüÊÄÅ‰∏≠ÁöÑ‰∏ÄÂëòÔºåÊèê‰æõ‰∫Ü‰∏ÄÁßçÂ£∞ÊòéÂºè„ÄÅ‰∫ã‰ª∂È©±Âä®ÁöÑÊñπÊ≥ïÊù•ÊûÑÂª∫ GUIÔºåÊú¨ÊñáÂ∞ÜÊ∑±ÂÖ•Êé¢Á©∂`relm`ÁöÑËÆæËÆ°ÁêÜÂøµ„ÄÅÁâπÊÄß‰ª•ÂèäÂ∫îÁî®ÂÆû‰æãÔºå‰∏∫ÂπøÂ§ß Rust Áà±Â•ΩËÄÖÂºÄÂêØÊûÑÂª∫Ë∑®Âπ≥Âè∞ GUI Â∫îÁî®ÁöÑÊñ∞ÁØáÁ´†„ÄÇ

### relm Ê°ÜÊû∂Ê¶ÇËßà

`relm`ÊòØ‰∏Ä‰∏™Áî®‰∫é Rust ËØ≠Ë®ÄÁöÑ GUI Ê°ÜÊû∂ÔºåÂÆÉÂü∫‰∫é`gtk-rs`Â∫ìÔºàGTK+3 ÁöÑ Rust ÁªëÂÆöÔºâÔºåÂÖÅËÆ∏ÂºÄÂèëËÄÖÂàõÂª∫Ë∑®Âπ≥Âè∞ÁöÑ GUI Â∫îÁî®Á®ãÂ∫è„ÄÇ`relm`Âà©Áî® Rust ÁöÑÂÆâÂÖ®Âπ∂ÂèëÁâπÊÄß„ÄÅFutures Á≠âÁé∞‰ª£ÁºñÁ®ãÁêÜÂøµÔºåÈÄöËøá Model-View-UpdateÔºàMVUÔºâÊû∂ÊûÑÔºåÂÆûÁé∞‰∫ÜÈ´òÊïà„ÄÅÁÆÄÊ¥ÅÁöÑ‰ª£Á†ÅÂÆûË∑µÔºåËÆ©ÂºÄÂèëËÄÖËÉΩÂ§üËΩªÊùæÊûÑÂª∫Â§çÊùÇÁöÑÁî®Êà∑ÁïåÈù¢„ÄÇ

### ÁâπÊÄßËß£Êûê

#### ÂºÇÊ≠•ÊîØÊåÅ‰∏é Futures

`relm`Â∞ÜÂºÇÊ≠•ÁºñÁ®ãËßÜ‰∏∫ÂÖ∂Ê†∏ÂøÉÁâπÊÄß‰πã‰∏ÄÔºå‰ΩøÁî® Futures Êù•Â§ÑÁêÜËÄóÊó∂‰ªªÂä°ÂíåÂπ∂ÂèëÔºåËøô‰∏ç‰ªÖÊèêÈ´ò‰∫ÜÂ∫îÁî®ÁöÑÂìçÂ∫îÊÄßÔºå‰πü‰ΩøÂæóÁºñÂÜôÂ§çÊùÇÁöÑÂºÇÊ≠•ÈÄªËæëÂèòÂæóÁÆÄÂçïËÄåÁõ¥ËßÇ„ÄÇ

#### Âü∫‰∫éÂêçÂ≠óÁöÑÂ∞èÈÉ®‰ª∂Ê†áËØÜ

Âú®ÂæàÂ§ö GUI Ê°ÜÊû∂‰∏≠ÔºåÂØπÂ∞èÈÉ®‰ª∂ÁöÑÂºïÁî®ÈÄöÂ∏∏ÈÄöËøáÁ±ª‰ºº`Arc<Mutex<>>`ÁöÑÊñπÂºèËøõË°å„ÄÇËÄå`relm`Êèê‰æõ‰∫Ü‰∏ÄÁßçÊõ¥ÁÆÄÂçï„ÄÅÊõ¥ Rust È£éÊ†ºÁöÑÊñπÂºèÔºåÂç≥ÈÄöËøáÂêçÁß∞Áõ¥Êé•Ê†áËØÜÂ∞èÈÉ®‰ª∂ÔºåÁÆÄÂåñ‰∫Ü‰ª£Á†ÅÂπ∂ÊèêÈ´ò‰∫ÜÂèØËØªÊÄß„ÄÇ

#### Model-View-UpdateÔºàMVUÔºâÊû∂ÊûÑ

MVU Êû∂ÊûÑÊòØ`relm`ÁöÑ‰∏Ä‰∏™Ê†∏ÂøÉÁâπÁÇπÔºåÂÆÉÊòéÊô∞Âú∞Â∞ÜÂ∫îÁî®ÂàÜ‰∏∫‰∏â‰∏™ÈÉ®ÂàÜÔºöÊ®°ÂûãÔºàModelÔºâ„ÄÅËßÜÂõæÔºàViewÔºâÂíåÊõ¥Êñ∞ÔºàUpdateÔºâÔºå‰ΩøÂæóÂ∫îÁî®Áä∂ÊÄÅÁöÑÁÆ°ÁêÜÂèòÂæóÊ∏ÖÊô∞ÔºåÁïåÈù¢‰∏éÈÄªËæëÁöÑÂàÜÁ¶ª‰πüÊõ¥‰∏∫ÂΩªÂ∫ï„ÄÇ

### ÂÆû‰æãÊºîÁ§∫

‰∏∫‰∫ÜÊõ¥Â•ΩÂú∞ÁêÜËß£`relm`Ê°ÜÊû∂ÁöÑÂ∫îÁî®ÔºåËÆ©Êàë‰ª¨Êù•ÊûÑÂª∫‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇÂÅáËÆæÊàë‰ª¨ÈúÄË¶ÅÂÆûÁé∞‰∏Ä‰∏™ TODO ÂàóË°®Â∫îÁî®Ôºå‰ª•‰∏ãÊòØÂ¶Ç‰Ωï‰ΩøÁî®`relm`Êù•ÂÆûÁé∞ÁöÑÂü∫Êú¨Ê≠•È™§Ôºö

```rust
extern crate relm;
#[macro_use]
extern crate relm_derive;
extern crate gtk;

use relm::{Relm, Widget};
use gtk::prelude::*;
use gtk::{Window, WindowType};

#[derive(Msg)]
pub enum Msg {
    Add,
    Quit,
}

pub struct Model {
    // Âú®ËøôÈáåÂÆö‰πâÊ®°Âûã
}

#[derive(Clone)]
pub struct Win {
    // ÁïåÈù¢ÂÖÉÁ¥†ÂÆö‰πâ
}

impl Widget for Win {
    type Model = Model;
    type ModelParam = ();
    type Msg = Msg;
    // ÂàùÂßãÂåñÊ®°Âûã„ÄÅÁïåÈù¢Á≠â
}

fn main() {
    Win::run(()).expect("Win::run failed");
}
```

Âú®Ëøô‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™`Win`ÁªìÊûÑ‰ΩìÊù•‰ª£Ë°®Êàë‰ª¨ÁöÑÂ∫îÁî®Á™óÂè£Ôºå‰ª•Âèä‰∏Ä‰∏™`Msg`Êûö‰∏æÊù•ÂÆö‰πâÂèØËÉΩÁöÑÊ∂àÊÅØÔºà‰∫ã‰ª∂Ôºâ„ÄÇÊàë‰ª¨ÈÄöËøáÂÆûÁé∞`Widget` trait Êù•ÂÆö‰πâÂ∫îÁî®ÁöÑÊ®°Âûã„ÄÅËßÜÂõæÂíåÊõ¥Êñ∞ÈÄªËæë„ÄÇ

### ÁªìËÆ∫

`relm`Ê°ÜÊû∂Êèê‰æõ‰∫Ü‰∏ÄÁßçÈ´òÊïà„ÄÅÁÆÄÊ¥ÅÁöÑÊñπÊ≥ïÊù•ÊûÑÂª∫ Rust GUI Â∫îÁî®ÔºåÁâπÂà´ÊòØÂØπ‰∫éÈÇ£‰∫õËøΩÊ±ÇÂÆâÂÖ®ÊÄßÂíåÈ´òÊÄßËÉΩÁöÑÈ°πÁõÆ„ÄÇÈÄöËøáÂÖ∂ÂºÇÊ≠•ÁâπÊÄß„ÄÅÂü∫‰∫éÂêçÂ≠óÁöÑÂ∞èÈÉ®‰ª∂Ê†áËØÜ‰ª•Âèä MVU Êû∂ÊûÑÔºå`relm`ËÉΩÂ§üÂ∏ÆÂä©ÂºÄÂèëËÄÖÊõ¥Âä†Êñπ‰æøÂú∞ÊûÑÂª∫Â§çÊùÇÁöÑ‰∫§‰∫íÂºèÁïåÈù¢„ÄÇÈöèÁùÄ Rust ÁîüÊÄÅÁöÑ‰∏çÊñ≠ÊàêÁÜüÔºå`relm`Êó†ÁñëÊòØÊûÑÂª∫Ë∑®Âπ≥Âè∞ GUI Â∫îÁî®ÁöÑ‰∏Ä‰∏™ÊúâÂäõÂÄôÈÄâ„ÄÇ

## egui

- ËØ• egui Â∫ìÊòØ‰∏Ä‰∏™Âç≥Êó∂Ê®°Âºè„ÄÅÊòì‰∫é‰ΩøÁî®„ÄÅÂèØÁßªÊ§çÁöÑÂ∫ìÔºåÁî®‰∫éÂú® Rust ‰∏≠ÊûÑÂª∫Âú® Web„ÄÅËÆ°ÁÆóÊú∫ÂíåÊ∏∏ÊàèÂºïÊìéÔºàÂºÄÂèë‰∏≠Ôºâ‰∏äËøêË°åÁöÑ GUI„ÄÇÂÆÉÁöÑÁõÆÊ†áÊòØÊàê‰∏∫Âú® Rust ‰∏≠ÊûÑÂª∫ Web Â∫îÁî®Á®ãÂ∫èÁöÑÊúÄÁÆÄÂçïÁöÑÂ∫ì„ÄÇ

- ËØ• egui Â∫ìÊó®Âú®‰∏∫ÊûÑÂª∫ GUI Êèê‰æõÂÆâÂÖ®„ÄÅÂìçÂ∫îËøÖÈÄü„ÄÅÂèãÂ•Ω‰∏îÂèØÁßªÊ§çÁöÑ‰ΩìÈ™åÔºåËÄåÊó†ÈúÄÂõûË∞ÉÂíåÊúÄÂ∞è‰æùËµñ„ÄÇÊü•Áúã egui ÁöÑÂÆòÊñπÊñáÊ°£‰ª•‰∫ÜËß£Â¶Ç‰Ωï‰ΩøÁî®ÂÆÉÊù•Âà∂‰ΩúË∑®Âπ≥Âè∞ÁöÑ GUI„ÄÇ

- ËØ• egui Â∫ìÊ≠£Âú®ÁßØÊûÅÂºÄÂèë‰∏≠ÔºåÂ¶ÇÊûúÊÇ®Ë∂≥Â§üÂãáÊï¢ÔºåÊÇ®ÂèØ‰ª•Âú®Áîü‰∫ß‰∏≠‰ΩøÁî®ÂÆÉ„ÄÇÂ∫ìÁöÑÁâπÂÆöÈÉ®ÂàÜ egui Â∑≤ÂáÜÂ§áÂ•ΩÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®ÊóßÁâàÊú¨ÔºåÂõ†‰∏∫ËæÉÊñ∞ÁöÑÁâàÊú¨ÂÆπÊòìÂèëÁîüÈáçÂ§ßÊõ¥Êîπ„ÄÇ

## native-windows-gui



## AzulÔºöÈÄÇÁî®‰∫é Rust„ÄÅC Âíå C++ÁöÑÊ°åÈù¢GUIÊ°ÜÊû∂

Azul ‚Äî‚Äî Rust Âíå C++ ÁºñÂÜôÁöÑÊ°åÈù¢ GUI Ê°ÜÊû∂

GitHubÔºö[fschutt/azulÔºöÊ°åÈù¢ GUI Ê°ÜÊû∂ (github.com)](https://github.com/fschutt/azul)

### ‰ªãÁªç

- https://www.oschina.net/p/azul-gui

- Azul Ê°ÜÊû∂ÊòØ‰∏Ä‰∏™ÂèçÂ∫îÂºè GUI Â∫ìÔºåÁî®‰∫éÂú® Rust„ÄÅC Âíå C++ ‰∏≠ÊûÑÂª∫Ê°åÈù¢ GUI„ÄÇÂÆÉÁî± WebRender Êèê‰æõÊîØÊåÅÔºåÊòØ‰∏ÄÁßçÊñáÊ°£ÂØπË±°Ê®°ÂûãÔºåÁ±ª‰ºº‰∫é HTML Âíå CSS„ÄÇÁî±‰∫é Azul Âà©Áî® WebRenderÔºåÂÆÉÊèê‰æõ‰∫ÜÊ∏êÂèò„ÄÅÊ°ÜÈò¥ÂΩ±„ÄÅËæπÊ°ÜÊ†∑ÂºèÂíå CSS ÂèòÊç¢Á≠âÂäüËÉΩ„ÄÇ

- Azul Ê°ÜÊû∂ËøòÊèê‰æõ‰∫ÜËÆ∏Â§öÂÜÖÁΩÆÂ∞èÈÉ®‰ª∂„ÄÅÊØèÁßíË∂ÖËøá 60 Â∏ßÁöÑÂä®Áîª„ÄÅË∑®Âπ≥Âè∞ÂéüÁîüÂØπËØù„ÄÅSVG Ëß£Êûê„ÄÅÈÄöËøáÂÖ±‰∫´Â∫ìÁöÑÂä®ÊÄÅÈìæÊé•‰ª•Âèä HTML Âà∞ Rust ÁöÑÁÉ≠ÈáçËΩΩÁºñËØë„ÄÇ

- Ë¶ÅÂºÄÂßã‰ΩøÁî® Azul Ê°ÜÊû∂ÔºåËØ∑Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞È°πÁõÆÁöÑ‰æùËµñÈ°π‰∏≠Ôºö

- [dependencies]azul = "1.0.0-alpha"

- ÁÑ∂ÂêéÂ∞Ü crates ÂØºÂÖ•ÊÇ®ÁöÑÈ°πÁõÆÂπ∂‰ΩøÁî®ÂÆÉ‰ª¨Ôºö

- `use azul::prelude::*;use azul::widgets::{button::Button, label::Label};`

- Azul Ê°ÜÊû∂ÊñáÊ°£ÈΩêÂÖ®ÔºåÂèØÂ∏ÆÂä©ÊÇ®ÂºÄÂßãÊûÑÂª∫ GUI„ÄÇ

- Azul Ê°ÜÊû∂ÈááÁî®‰∏çÂêåÁöÑ GUI ÂºÄÂèëÊñπÊ≥ïÔºåÂà∞ÁõÆÂâç‰∏∫Ê≠¢ÔºåËØ•Ê°ÜÊû∂Â∑≤Áî®‰∫é 200 Â§ö‰∏™ Rust È°πÁõÆ„ÄÇAzul Ê°ÜÊû∂ÊòØÂäüËÉΩÊÄßÁöÑÔºåÊ†πÊçÆÊñáÊ°£ÔºåÊÇ®ÂèØ‰ª•Âú®Áîü‰∫ß‰∏≠‰ΩøÁî®ÂÆÉ„ÄÇ

- ÂºÄÊ∫êÂú∞ÂùÄÔºöhttps://github.com/fschutt/azul

## vgtk

Rust ÂÆûÁé∞ÁöÑÊ°åÈù¢ UI Ê°ÜÊû∂

- ‰ªãÁªçÔºöhttps://www.oschina.net/p/vgtk

- ÂºÄÊ∫êÂú∞ÂùÄÔºöhttps://github.com/bodil/vgtk

## gtk-rs

### ‰ªãÁªç

- GTK Â∫ìÂú®ÂºÄÂèëËÄÖÁ§æÂå∫‰∏≠ÂæàÂèóÊ¨¢Ëøé„ÄÇËÆ∏Â§öÊµÅË°åÁöÑ Linux GUI Â∫îÁî®Á®ãÂ∫è‰ΩøÁî® GTK Â∫ìÂíå GNOME Â†ÜÊ†à„ÄÇËØ• gtk-rs Â∫ìÂè™ÊòØ‰ºóÂ§öÂèØÁî®‰∫éÁîü‰∫ßÁöÑ Rust GUI Â∫ì‰πã‰∏ÄÔºåÂ∑≤Âú® 500 Â§ö‰∏™È°πÁõÆ‰∏≠‰ΩøÁî®„ÄÇ

- GTK ÊòØÁî± GNOME È°πÁõÆÂºÄÂèëÁöÑÊµÅË°åÁöÑË∑®Âπ≥Âè∞„ÄÅÈù¢ÂêëÂØπË±°ÁöÑÂ∞èÈÉ®‰ª∂Â∑•ÂÖ∑ÂåÖ„ÄÇÂÆÉÁî®‰∫éÊûÑÂª∫ÂèØÂú® Unix„ÄÅWindows Âíå macOS Á≥ªÁªü‰∏ä‰ª•Â§öÁßçËØ≠Ë®ÄÔºà‰ªé Python Âà∞ JavaScript„ÄÅC Âíå RustÔºâËøêË°åÁöÑ‰æøÊê∫Âºè GUI Â∫îÁî®Á®ãÂ∫è„ÄÇ

- GTK È°πÁõÆÊúâÂêÑÁßçÁâàÊú¨Ôºå‰æãÂ¶Ç GTK 3ÔºåÊØè‰∏™ÁâàÊú¨ÈÉΩÊúâÊõ¥ÊîπÂíåÂçáÁ∫ß„ÄÇ

- ËØ• gtk-rs È°πÁõÆ‰∏∫Âü∫‰∫é GNOME Â†ÜÊ†àÁöÑÂ∫ìÔºàÂ¶Ç GTK 3 Âíå GTK 4 Â∫ìÔºâÊèê‰æõÂÆâÂÖ®ÁöÑ Rust ÁªëÂÆö„ÄÇÂíåÂ∫ìÂàÜÂà´Êèê‰æõ GTK 3 Âíå GTK 4 ÂäüËÉΩ gtk3-rs „ÄÇgtk4-rs

- Ë¶ÅÂºÄÂßã‰ΩøÁî®Ëøô‰∫õ gtk-rs Â∫ìÔºåÊÇ®ÈúÄË¶Å Rust Â∑•ÂÖ∑ÈìæÂíå GTK Â∫ì„ÄÇÂàõÂª∫È°πÁõÆÂêéÔºåÂ∞ÜÂ∫ìÊ∑ªÂä†Âà∞ Cargo.tomlGTK 4 crate Êñá‰ª∂‰∏≠ÁöÑ‰æùËµñÈ°π‰∏≠Ôºö

- gtk = { version = "X.X", package = "gtk4" }

- Â¶ÇÊûúÊÇ®‰ΩøÁî®ÁöÑÊòØ macOS Êàñ LinuxÔºåËØ∑‰ΩøÁî® brew ÂåÖÁÆ°ÁêÜÂô®ÂÆâË£Ö GTK 4 Â∫ìÔºö

- brew install gtk4

- Êü•ÁúãËøô‰∫õÈ°µÈù¢‰ª•Ëé∑ÂèñÊúâÂÖ≥ÂêÑÁßç Linux ÂèëË°åÁâàÂíå Windows ÁöÑÂÆâË£ÖËØ¥Êòé„ÄÇ

- ÂÆâË£Ö gtk4 Âπ∂Â∞ÜÂÖ∂Ê∑ªÂä†Âà∞‰æùËµñÈ°πÂêéÔºåÊÇ®ÂèØ‰ª•ÂÉèËøôÊ†∑ÂØºÂÖ• crateÔºö

- use gtk::prelude::\*;use gtk::Application;

- gtk-rs ËøôÊú¨‰π¶ÊòØÂ≠¶‰π†Â¶Ç‰Ωï‰ΩøÁî®ËØ•Â∫ìÂú® Rust ‰∏≠ÊûÑÂª∫ GUI ÁöÑÂ•ΩËµÑÊ∫ê„ÄÇ

### ÁΩëÁ´ô

ÂÆòÁΩëÔºö[Unlocking the GNOME stack for Rust ‚Äì gtk-rs](https://gtk-rs.org/)

GitHub ÂºÄÊ∫ê

- [fltk-rs/fltk-rs: Rust bindings for the FLTK GUI library. (github.com)](https://github.com/fltk-rs/fltk-rs)

- [gtk-rs/gtk4-rs: Rust bindings of GTK 4 (github.com)](https://github.com/gtk-rs/gtk4-rs)

- [gtk-rs/gtk: DEPRECATED, use https://github.com/gtk-rs/gtk3-rs repository instead!](https://github.com/gtk-rs/gtk)

## fltk-rs

‰π¶Á±çÂú∞ÂùÄÔºö[ÂºÄÂßã - fltk book (flatig.vip)](https://fltk.flatig.vip/)

### ‰ªãÁªç

- Ê†πÊçÆËÆ∏Â§öÂÖ∂‰ªñÂºÄÂèë‰∫∫ÂëòÁöÑËØ¥Ê≥ïÔºå‰ΩøÁî®ËØ• fltk-rs Â∫ìÊØî C++ Â∫ìÊõ¥Áõ¥Êé•„ÄÇ

- FLTKÔºàFast Light ToolkitÔºâÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑ„ÄÅË∑®Âπ≥Âè∞ÊîØÊåÅÁöÑÁî®‰∫éÊûÑÂª∫ GUI ÁöÑÂ∑•ÂÖ∑ÂåÖ„ÄÇFLTK Âú® Windows„ÄÅmacOS Âíå UNIX Á≥ªÁªü‰∏äÂèóÊîØÊåÅÔºåÊúÄÂàùÊòØ‰∏∫ C++ ÊûÑÂª∫ÁöÑ„ÄÇÂ¶ÇÊûúÊÇ®‰ΩøÁî® FLTK Â∑•ÂÖ∑ÂåÖÂàõÂª∫ GUI Â∫îÁî®Á®ãÂ∫èÔºåÂàôËØ•Â∫îÁî®Á®ãÂ∫èÂú®ÊâÄÊúâÂèóÊîØÊåÅÁöÑÊìç‰ΩúÁ≥ªÁªü‰∏äÁúãËµ∑Êù•ÈÉΩ‰∏ÄÊ†∑„ÄÇ

- ËØ• fltk-rs Â∫ì‰∏∫ FLTK Â∑•ÂÖ∑ÂåÖÊèê‰æõ Rust ÁªëÂÆö„ÄÇcrate ÊîØÊåÅÊóßÊû∂ÊûÑÔºåfltk-rs Êúâ 80 Â§ö‰∏™ÂèØÂÆöÂà∂ÁöÑÂ∞èÈÉ®‰ª∂ÂíåË∂ÖËøáÂõõ‰∏™ÊîØÊåÅÁöÑ‰∏ªÈ¢òÊñπÊ°àÔºåÂåÖÊã¨ GTK ÊñπÊ°à„ÄÇÊÇ®ËøòÂèØ‰ª•‰ΩøÁî® cratefltk-theme ËøõË°åÊõ¥Â§öËá™ÂÆö‰πâ„ÄÇ

- ËØ• fltk-rs Â∫ìÂèØ‰ª•ÈÄöËøá‰∏ÄÊ¨°ÊâßË°åÂø´ÈÄüÂÆâË£Ö„ÄÅÊûÑÂª∫„ÄÅÂêØÂä®ÂíåËøêË°å„ÄÇÂºÄÂßã‰ΩøÁî® fltk-rscrate ÂæàÂÆπÊòì‚Äî‚ÄîÊÇ®ÊâÄË¶ÅÂÅöÁöÑÂ∞±ÊòØÂ∞ÜÈ°πÁõÆ‰Ωú‰∏∫‰æùËµñÈ°πÊ∑ªÂä†Âà∞ÊÇ®ÁöÑ Cargo.toml Êñá‰ª∂‰∏≠ÔºåÁÑ∂ÂêéÂú®ÊÇ®ÁöÑËÆ°ÁÆóÊú∫‰∏äÂÆâË£ÖÂ∫ì„ÄÇ

- fltk Â¶ÇÊûúÊÇ®‰ΩøÁî®ÁöÑÊòØ macOS Êàñ Linux ËÆ°ÁÆóÊú∫ÔºåÂàôÂèØ‰ª•‰ΩøÁî®Ê≠§ brew ÂëΩ‰ª§ÂÆâË£ÖÂ∫ìÔºö

- brew install fltk

- ÊÇ®ÂèØ‰ª•Âú®ÈìæÊé•È°µÈù¢‰∏äÊâæÂà∞‰∏∫ÂÖ∂‰ªñÊìç‰ΩúÁ≥ªÁªüÂÆâË£ÖÂ∫ìÁöÑËØ¥Êòé„ÄÇfltk Â∞ÜÈ°πÁõÆ‰Ωú‰∏∫‰æùËµñÈ°πÊ∑ªÂä†Âà∞ÊÇ®ÁöÑ Cargo.toml Êñá‰ª∂‰∏≠Ôºö

- [dependencies]fltk = { version = "^1.3", features = ["fltk-bundled"] }

- Ê∑ªÂä†È°πÁõÆÂπ∂ÂÆâË£Ö fltk Â∫ìÂêéÔºåÊÇ®ÂèØ‰ª•Â∞Ü crate ÂØºÂÖ•Âà∞ÊÇ®ÁöÑÈ°πÁõÆ‰∏≠Ôºö

- use fltk::{app, button::Button, frame::Frame, prelude::\*, window::Window};

- Êü•Áúã fltk-rs ÊñáÊ°£‰ª•ËØ¶ÁªÜ‰∫ÜËß£ÂÖ∂ÂäüËÉΩÂíåÁî®ÈÄî„ÄÇ

## Frui

### ‰ªãÁªç

Frui ÊòØ‰∏Ä‰∏™ÂºÄÂèëËÄÖÂèãÂ•ΩÁöÑ UI Ê°ÜÊû∂ÔºåÂÆÉ‰ΩøÊûÑÂª∫Áî®Êà∑ÁïåÈù¢ÂèòÂæóÁÆÄÂçïËÄåÂØåÊúâÊàêÊïà„ÄÇÂÆÉÁöÑÁÅµÊÑüÊù•Ëá™‰∫é Flutter Êû∂ÊûÑ

### ÁΩëÂùÄ

GitHubÔºöhttps://github.com/fruiframework/frui

### ÊïôÁ®ã

- [„Äê‰∏ÄËµ∑Â≠¶ Rust | Ê°ÜÊû∂ÁØá | Frui Ê°ÜÊû∂„Äërust ‰∏Ä‰∏™ÂØπÂºÄÂèëËÄÖÂèãÂ•ΩÁöÑ GUI Ê°ÜÊû∂‚Äî‚ÄîFrui*rust Ê°ÜÊû∂*ÂπøÈæôÂÆáÁöÑÂçöÂÆ¢-CSDN ÂçöÂÆ¢](https://blog.csdn.net/weixin_47754149/article/details/127396748)

## Tauri

ÂÆòÁΩëÊñáÊ°£Ôºö[Âø´ÈÄüÂºÄÂßã | Tauri Apps](https://tauri.app/zh/v1/guides/getting-started/setup/)

## FreyaÔºöÂéüÁîü GUIÔºåÈ´òÊÄßËÉΩ‰∏îÂÜÖÂ≠òÂç†Áî®‰Ωé

- GitHubÔºöhttps://github.com/marc2332/freya
- ÂÆòÁΩëÔºöhttps://freyaui.dev/

Áî± üß¨ Dioxus Âíå üé® Skia Êèê‰æõÊîØÊåÅÁöÑ ü¶Ä Rust Ë∑®Âπ≥Âè∞ GUI Â∫ì„ÄÇ

Freya ËøòÊòØÊØîËæÉÂπ¥ËΩªÔºåÂ±û‰∫éÊ≠£Âú®ÂºÄÂèë‰∏≠Èò∂ÊÆµÔºå‰ºÅ‰∏öËøòÊòØÊó†Ê≥ïÁî®‰∫éÁîü‰∫ßÁöÑÔºå‰ΩÜ‰∏çÂ¶®ÂÆ≥Êàë‰ª¨Â≠¶‰π†Âèä‰∫ÜËß£ÂÆÉÔºåÂπ∂‰∏î‰ΩøÁî®ÂÆÉÔºÅ

![image-20240511163056796](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240511163056796.png)

### Freya ‰ªãÁªç

Freya ÂÆÉÊòØ‰∏Ä‰∏™ÂÆûÈ™åÊÄßÁöÑÈ°πÁõÆÔºåÁî± Dioxus Âíå Skia Êèê‰æõÊîØÊåÅÁöÑÔºåÂÖÅËÆ∏ÂºÄÂèëËÄÖÂú® Windows„ÄÅmacOS Âíå Linux ‰∏äÂàõÂª∫Ë∑®Âπ≥Âè∞ÁöÑÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢„ÄÇFreya ÁöÑËÆæËÆ°ÁõÆÊ†áÊòØÊèê‰æõ‰∏ÄÁßçÁÆÄÂçï„ÄÅÁõ¥ËßÇÁöÑÊñπÂºèÊù•ÊûÑÂª∫Áî®Êà∑ÁïåÈù¢ÔºåÂêåÊó∂‰øùÊåÅÈ´òÊÄßËÉΩÂíåË∑®Âπ≥Âè∞ÂÖºÂÆπÊÄß„ÄÇ

#### Freya ÁâπÁÇπ

- **Âü∫‰∫é Dioxus Âíå Skia**ÔºöFreya Âª∫Á´ãÂú® Dioxus Ëøô‰∏™ UI Â∫ì‰πã‰∏äÔºåÂπ∂‰∏î‰ΩøÁî®‰∫Ü Skia ÂõæÂΩ¢ÂºïÊìéÔºåËøô‰∏∫ÂÆÉÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÂõæÂΩ¢Ê∏≤ÊüìËÉΩÂäõ„ÄÇ
- **ÂÜÖÁΩÆÁªÑ‰ª∂**ÔºöÂ¶ÇÊåâÈíÆ„ÄÅÊªöÂä®ËßÜÂõæ„ÄÅÂºÄÂÖ≥Á≠â„ÄÇ
- **Ë∑®Âπ≥Âè∞ÊîØÊåÅ**ÔºöÂèØ‰ª•Âú®Â§ö‰∏™Êìç‰ΩúÁ≥ªÁªü‰∏äËøêË°åÔºåÂåÖÊã¨ Windows„ÄÅmacOS Âíå Linux„ÄÇ
- **‰∏≠Èó¥‰ª∂ÊîØÊåÅ**ÔºöFreya ÊîØÊåÅ‰∏≠Èó¥‰ª∂ÔºåËøôÂØπ‰∫éÊûÑÂª∫Áîü‰∫ßÂ∞±Áª™ÁöÑ Web Ê°ÜÊû∂ÊòØ‰∏Ä‰∏™ÂÖ≥ÈîÆË¶ÅÊ±Ç„ÄÇ
- **ÁÉ≠ÈáçËΩΩÊîØÊåÅ**ÔºöDioxus ÁöÑÁÉ≠ÈáçËΩΩÊîØÊåÅ‰∏∫ Freya Êèê‰æõ‰∫Ü‰∏Ä‰∏™Âº∫Â§ßÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•Â∏ÆÂä©ÂºÄÂèëËÄÖÊõ¥Âä†È´òÊïàÂú∞ÊûÑÂª∫ÂíåÊµãËØïË∑®Âπ≥Âè∞ÁöÑ Rust ÂéüÁîü GUI Â∫îÁî®Á®ãÂ∫è„ÄÇ

### Freya Âø´ÈÄü‰ΩøÁî®

ÈúÄË¶ÅÊ∑ªÂä† Freya Âíå Dioxus ‰Ωú‰∏∫‰æùËµñÈ°πÔºö

```
freya = "0.2"
dioxus = { version = "0.5", features = ["macro", "hooks"], default-features = false }
```

### Freya Êú™Êù•ÊñπÂêë

Freya ÁõÆÊ†áËá¥Âäõ‰∫éÊàê‰∏∫‰∏Ä‰∏™È´òÊÄßËÉΩ„ÄÅËµÑÊ∫êÁªèÊµéÁöÑ Rust GUI Â∑•ÂÖ∑ÂåÖÔºåÊó®Âú®Êèê‰æõÂçìË∂äÁöÑÂºÄÂèëËÄÖ‰ΩìÈ™åÔºåÂÆûÁé∞ÂπøÊ≥õÁöÑË∑®Âπ≥Âè∞ÂÖºÂÆπÊÄßÔºåÁ°Æ‰øùÂÖ®Èù¢ÁöÑËæÖÂä©ÂäüËÉΩÊîØÊåÅÔºåÊâìÈÄ†Âº∫Â§ßÁöÑÊµãËØïÂ∑•ÂÖ∑ÈõÜÔºåÂπ∂ÊûÑÂª∫‰∏Ä‰∏™‰∏∞ÂØå„ÄÅÁÅµÊ¥ªÁöÑÁªÑ‰ª∂‰∏éÈí©Â≠êÁîüÊÄÅÁ≥ªÁªü„ÄÇ

- È´òÊÄßËÉΩ‰∏îÂÜÖÂ≠òÂç†Áî®‰Ωé
- Ë∑®Âπ≥Âè∞ÊîØÊåÅ
- ÊúâÁî®‰∏îÂèØÊâ©Â±ïÁöÑÁªÑ‰ª∂ÂíåÊåÇÈí©
- ÊúâÁî®ÁöÑÊµãËØï API
- Êèê‰æõËâØÂ•ΩÁöÑÂºÄÂèëËÄÖ‰ΩìÈ™å

## ViziaÔºö‰∏Ä‰∏™Áî®‰∫é Rust ÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ£∞ÊòéÂºèÊ°åÈù¢ GUI Ê°ÜÊû∂

‰∏Ä‰∏™Áî®‰∫é Rust ÁºñÁ®ãËØ≠Ë®ÄÁöÑÂ£∞ÊòéÂºèÊ°åÈù¢ GUI Ê°ÜÊû∂„ÄÇ

‰π¶Á±çÔºö

ÊñáÊ°£Ôºö

ÊºîÁ§∫Ôºö

DiscordÔºö

### ÁâπÊÄß

- #### „ÄåË∑®Âπ≥Âè∞ÔºàWindows„ÄÅLinux„ÄÅMacOSÔºâ„Äç

  ÊûÑÂª∫Âú® Windows„ÄÅMac Âíå Linux ‰∏äÂ§ñËßÇÂíåË°å‰∏∫Áõ∏ÂêåÁöÑÊ°åÈù¢Â∫îÁî®Á®ãÂ∫è„ÄÇ

- #### „ÄåÂ£∞ÊòéÂºè„Äç

  Áî®Á∫Ø Rust ÁºñÂÜô GUI ‰ª£Á†ÅÔºàÊó†ÈúÄ DSL ÂÆèÔºâ„ÄÇ

- #### „ÄåÂìçÂ∫îÂºè„Äç

  ËßÜÂõæÊ¥æÁîüËá™Â∫îÁî®Á®ãÂ∫èÁä∂ÊÄÅ„ÄÇÊõ¥ÊîπÁä∂ÊÄÅÔºåÁªëÂÆöÂà∞ÂÆÉÁöÑËßÜÂõæÂ∞ÜËá™Âä®Êõ¥Êñ∞„ÄÇ

- #### „ÄåÁÅµÊ¥ªÂ∏ÉÂ±Ä„Äç

  ÂàõÂª∫ÈÄÇÂ∫îÂ§ßÂ∞èÂèòÂåñÁöÑÁÅµÊ¥ªÂ∏ÉÂ±Ä„ÄÇÁî± morphorm[1] Êèê‰æõÊîØÊåÅ„ÄÇ

- #### „ÄåÂº∫Â§ßÁöÑÊ†∑ÂºèËÆæËÆ°„Äç

  Âà©Áî®ÊîØÊåÅÁÉ≠ÈáçËΩΩÁöÑ CSS ÂÆåÂÖ®Ëá™ÂÆö‰πâÂ∫îÁî®Á®ãÂ∫èÁöÑÊ†∑Âºè„ÄÇ

- #### „ÄåÂä®Áîª„Äç

  ÈÄöËøáÂèØÂä®ÁîªÁöÑÊ†∑ÂºèÂ±ûÊÄß‰ΩøÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÊ†©Ê†©Â¶ÇÁîü„ÄÇ

- #### „ÄåÂÜÖÁΩÆËßÜÂõæÂíå‰∏ªÈ¢ò„Äç

  ‰ΩøÁî®Ë∂ÖËøá 25 ‰∏™Áé∞ÊàêÁöÑËßÜÂõæ‰ª•Âèä‰∏§‰∏™ÂÜÖÁΩÆ‰∏ªÈ¢òÔºàÊµÖËâ≤ÂíåÊ∑±Ëâ≤ÔºâÂø´ÈÄüÂºÄÂßã„ÄÇÂåÖÊã¨ 4250+ ÂõæÊ†áÔºåÁî± Tabler Icons[2] Êèê‰æõ„ÄÇ

- #### „ÄåÊó†ÈöúÁ¢çÊÄß„Äç

  ‰ΩøÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èËÉΩÂ§üË¢´ËæÖÂä©ÊäÄÊúØËÆøÈóÆÔºåÂ¶ÇÂ±èÂπïÈòÖËØªÂô®ÔºåÁî± accesskit[3] Êèê‰æõÊîØÊåÅ„ÄÇ

- #### „ÄåÊú¨Âú∞Âåñ„Äç

  ‰ΩøÊÇ®ÁöÑÂ∫îÁî®Á®ãÂ∫èÈÄÇÂ∫î‰∏çÂêåÁöÑÂú∞Âå∫ÔºåÂåÖÊã¨‰ΩøÁî® fluent[4] ÁøªËØëÊñáÊú¨„ÄÇ

- #### „ÄåGPU Âä†ÈÄüÊ∏≤Êüì„Äç

  Vizia Âà©Áî® GPU ËøõË°åÂø´ÈÄüÂõæÂΩ¢Êõ¥Êñ∞ÔºåÁî± femtovg[5] Êèê‰æõÊîØÊåÅ„ÄÇ

- #### „ÄåÈü≥È¢ëÊèí‰ª∂ÂºÄÂèë„Äç

  Vizia ‰∏∫Èü≥È¢ëÊèí‰ª∂ÂºÄÂèëÊèê‰æõ‰∫Ü‰∏Ä‰∏™Êõø‰ª£ÁöÑ baseview[6] Á™óÂè£ÂêéÁ´ØÔºå‰æãÂ¶Ç‰∏é nih-plug[7] Ê°ÜÊû∂‰∏ÄËµ∑‰ΩøÁî®„ÄÇ

### Âø´ÈÄü‰∏ÄËßà

‰∏Ä‰∏™ÁÆÄÂçïÁöÑËÆ°Êï∞Âô®Â∫îÁî®Á®ãÂ∫è„ÄÇ‰ΩøÁî® `cargo run --example counter` ËøêË°å„ÄÇ

```rust
use vizia::prelude::*;

// ÂÆö‰πâ‰∏Ä‰∫õÊ®°ÂûãÊï∞ÊçÆ
#[derive(Lens)]
pub struct AppData {
    count: i32,
}

// ÂÆö‰πâ‰∫ã‰ª∂‰ª•Êõ¥ÊîπÊï∞ÊçÆ
pub enum AppEvent {
    Increment,
}

// ÊèèËø∞Â¶Ç‰ΩïÊ†πÊçÆ‰∫ã‰ª∂Êõ¥ÊîπÊï∞ÊçÆ
impl Model for AppData {
    fn event(&mut self, _: &mut EventContext, event: &mut Event) {
        event.map(|app_event, _| match app_event {
            AppEvent::Increment => {
                self.count += 1;
            }
        });
    }
}

fn main() {
    // ÂàõÂª∫‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫è
    Application::new(|cx| {

        // Â∞ÜÊ®°ÂûãÊï∞ÊçÆÊûÑÂª∫Âà∞Ê†ë‰∏≠
        AppData { count: 0 }.build(cx);

        // Â£∞ÊòéÁªÑÊàê UI ÁöÑËßÜÂõæ
        HStack::new(cx, |cx| {

            // Â£∞Êòé‰∏Ä‰∏™ÊåâÈíÆÔºåÂÆÉÂèëÂá∫‰∏Ä‰∏™‰∫ã‰ª∂
            Button::new(cx, |cx| Label::new(cx, "Â¢ûÂä†"))
              .on_press(|cx| cx.emit(AppEvent::Increment));

            // Â£∞Êòé‰∏Ä‰∏™Ê†áÁ≠æÔºåÂÆÉÁªëÂÆöÂà∞Ê®°ÂûãÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂú®Êõ¥ÊîπÊó∂Êõ¥Êñ∞
            Label::new(cx, AppData::count).width(Pixels(50.0));
        })
        .child_space(Stretch(1.0))  // Â∫îÁî®Ê†∑ÂºèÂíåÂ∏ÉÂ±Ä‰øÆÈ•∞Á¨¶
        .col_between(Pixels(50.0));
    })
    .title("ËÆ°Êï∞Âô®") // ÈÖçÁΩÆÁ™óÂè£Â±ûÊÄß
    .inner_size((400, 100))
    .run();
}
```

![ÂõæÁâá](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/640-489498.webp)

### Â≠¶‰π†

#### ‰π¶Á±ç

Vizia ÁöÑÂø´ÈÄüÂÖ•Èó®ÊåáÂçóÂèØÂú® ËøôÈáå[8] ÊâæÂà∞„ÄÇ

#### ÊñáÊ°£

Ëá™Âä®ÁîüÊàêÁöÑ‰ª£Á†ÅÊñáÊ°£ÂèØÂú® ËøôÈáå[9] ÊâæÂà∞„ÄÇ

#### Á§∫‰æã

‰ªìÂ∫ì‰∏≠ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ Á§∫‰æã[10] ÂàóË°®„ÄÇ

‰ΩøÁî® winit[11]ÔºàÈªòËÆ§ÔºâÁ™óÂè£ÂêéÁ´ØËøêË°åÁ§∫‰æãÔºö

```rust
cargo run --release --example example_name
```

#### Baseview

‰ΩøÁî® baseview[12] Á™óÂè£ÂêéÁ´ØËøêË°åÁ§∫‰æãÔºö

```rust
cargo run --release --example example_name --no-default-features --features baseview
```

#### Web

Ë¶Å‰Ωú‰∏∫ Web Â∫îÁî®Á®ãÂ∫èËøêË°åÁ§∫‰æãÔºåÈ¶ñÂÖàÁ°Æ‰øùÂ∑≤ÂÆâË£Ö `wasm32-unknown-unknown` Â∑•ÂÖ∑ÈìæÔºö

```rust
rustup target add wasm32-unknown-unknown
```

ÁÑ∂Âêé‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ËøêË°åÁ§∫‰æãÔºö

```rust
cargo run-wasm --release --example example_name
```

> ‚ùù
>
> **„ÄåÊ≥®ÊÑè„Äç**‰∏Ä‰∫õÁ§∫‰æã‰∏é Web ÁõÆÊ†á‰∏çÂÖºÂÆπÔºåÂ¶ÇÊûúÂú®ÁΩëÁªú‰∏äËøêË°åÔºåÂ∞Ü‰ºöÊïÖÊÑèÂ¥©Ê∫É„ÄÇ
>
> ‚ùû

### Vizia Ê°ÜÊû∂ÁöÑÂä®ÁîªÂäüËÉΩÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºåÂÆÉÂØπÊÄßËÉΩÊúâ‰ªÄ‰πàÂΩ±ÂìçÔºü

Vizia Ê°ÜÊû∂ÁöÑÂä®ÁîªÂäüËÉΩÊòØÈÄöËøáÂÖ∂Â£∞ÊòéÂºè GUI Êû∂ÊûÑÂÆûÁé∞ÁöÑÔºåÂÖÅËÆ∏ÂºÄÂèëËÄÖ‰ª•‰∏ÄÁßçÁÆÄÊ¥ÅËÄåÁõ¥ËßÇÁöÑÊñπÂºèÊù•ÂÆö‰πâÂíåÊéßÂà∂Âä®Áîª„ÄÇÂú® Vizia ‰∏≠ÔºåÂä®ÁîªÈÄöÂ∏∏ÊòØÈÄöËøáÁªëÂÆöÂà∞Â∫îÁî®Á®ãÂ∫èÁä∂ÊÄÅÁöÑËßÜÂõæÊù•ÂÆûÁé∞ÁöÑ„ÄÇÂΩìÂ∫îÁî®Á®ãÂ∫èÁöÑÁä∂ÊÄÅÂèëÁîüÂèòÂåñÊó∂Ôºå‰∏éËØ•Áä∂ÊÄÅÁõ∏ÂÖ≥ËÅîÁöÑËßÜÂõæ‰ºöËá™Âä®Êõ¥Êñ∞ÔºåËøôÁßçÁä∂ÊÄÅÁöÑÂèòÂåñÂèØ‰ª•Ë¢´Áî®Êù•Ëß¶ÂèëÂä®ÁîªÊïàÊûú„ÄÇ

‰ª•‰∏ãÊòØ Vizia Âä®ÁîªÂäüËÉΩÁöÑÂÆûÁé∞ÊñπÂºèÂíåÂØπÊÄßËÉΩÂΩ±ÂìçÁöÑ‰∏Ä‰∫õË¶ÅÁÇπÔºö

1. **„ÄåÂ£∞ÊòéÂºèÂä®Áîª„Äç**ÔºöÂºÄÂèëËÄÖÂèØ‰ª•‰ΩøÁî®Â£∞ÊòéÂºèÁöÑÊñπÊ≥ïÊù•ÂÆö‰πâÂä®ÁîªÔºåËøôÊÑèÂë≥ÁùÄÂä®ÁîªÊòØÈÄöËøáÊèèËø∞ËßÜÂõæÁä∂ÊÄÅÁöÑÂèòÂåñÊù•ÂÆûÁé∞ÁöÑÔºåËÄå‰∏çÊòØÈÄöËøáÂëΩ‰ª§ÂºèÁöÑËÑöÊú¨„ÄÇ
2. **„ÄåÁä∂ÊÄÅÈ©±Âä®„Äç**ÔºöÂä®ÁîªÈÄöÂ∏∏ÊòØÂØπÁä∂ÊÄÅÂèòÂåñÁöÑÂìçÂ∫î„ÄÇÂΩìÂ∫îÁî®Á®ãÂ∫èÁöÑÁä∂ÊÄÅÊõ¥Êñ∞Êó∂ÔºåVizia ÂèØ‰ª•Ëá™Âä®Âú∞Âú®ËßÜÂõæ‰πãÈó¥ËøõË°åËøáÊ∏°ÔºåÂàõÂª∫Âπ≥ÊªëÁöÑÂä®ÁîªÊïàÊûú„ÄÇ
3. **„ÄåCSS Ê†∑ÂºèÂä®Áîª„Äç**ÔºöVizia ÊîØÊåÅ‰ΩøÁî® CSS Êù•ÂÆö‰πâÂä®ÁîªÔºåËøôÂÖÅËÆ∏ÂºÄÂèëËÄÖÂà©Áî®ÁÜüÊÇâÁöÑ CSS ËØ≠Ê≥ïÊù•ÂàõÂª∫Â§çÊùÇÁöÑÂä®ÁîªÊïàÊûú„ÄÇ
4. **„ÄåÊÄßËÉΩ‰ºòÂåñ„Äç**ÔºöVizia ‰ΩøÁî® GPU Âä†ÈÄüÊ∏≤ÊüìÔºåËøôÊÑèÂë≥ÁùÄÂä®ÁîªÂíåÂõæÂΩ¢Êõ¥Êñ∞ÂèØ‰ª•Âà©Áî® GPU ÁöÑÂπ∂Ë°åÂ§ÑÁêÜËÉΩÂäõÔºå‰ªéËÄåÊèêÈ´òÊÄßËÉΩ„ÄÇ
5. **„ÄåÁªÜÁ≤íÂ∫¶ÊéßÂà∂„Äç**ÔºöÂºÄÂèëËÄÖÂèØ‰ª•ÂØπÂä®ÁîªÁöÑÊåÅÁª≠Êó∂Èó¥„ÄÅÂª∂Ëøü„ÄÅËø≠‰ª£Ê¨°Êï∞Á≠âËøõË°åÁªÜÁ≤íÂ∫¶ÊéßÂà∂ÔºåËøôÊúâÂä©‰∫é‰ºòÂåñÂä®ÁîªÁöÑÊÄßËÉΩÂíåËµÑÊ∫ê‰ΩøÁî®„ÄÇ
6. **„ÄåÂä®ÁîªÊÄßËÉΩÊùÉË°°„Äç**ÔºöËôΩÁÑ∂Âä®ÁîªÂèØ‰ª•ÊèêÂçáÁî®Êà∑‰ΩìÈ™åÔºå‰ΩÜÂ§çÊùÇÁöÑÂä®ÁîªÂèØËÉΩ‰ºöÂØπÊÄßËÉΩ‰∫ßÁîüÂΩ±ÂìçÔºåÂ∞§ÂÖ∂ÊòØÂú®ËµÑÊ∫êÂèóÈôêÁöÑËÆæÂ§á‰∏ä„ÄÇVizia Êèê‰æõ‰∫ÜÂ∑•ÂÖ∑ÂíåÊéßÂà∂Ôºå‰ª•‰æøÂºÄÂèëËÄÖÂèØ‰ª•Âú®Âä®ÁîªÊïàÊûúÂíåÊÄßËÉΩ‰πãÈó¥ÂÅöÂá∫ÊùÉË°°„ÄÇ
7. **„ÄåÁÉ≠ÈáçËΩΩ„Äç**ÔºöVizia ÊîØÊåÅ CSS ÁöÑÁÉ≠ÈáçËΩΩÔºåËøôÊÑèÂë≥ÁùÄÂºÄÂèëËÄÖÂèØ‰ª•Âú®‰∏çÈáçÂêØÂ∫îÁî®Á®ãÂ∫èÁöÑÊÉÖÂÜµ‰∏ãÊõ¥ÊîπÊ†∑ÂºèÂíåÂä®ÁîªÔºåËøôÊúâÂä©‰∫éÂø´ÈÄüËø≠‰ª£Âíå‰ºòÂåñÂä®ÁîªÊÄßËÉΩ„ÄÇ
8. **„ÄåÂÜÖÁΩÆËßÜÂõæÂíå‰∏ªÈ¢ò„Äç**ÔºöVizia Êèê‰æõ‰∫Ü‰∏ÄÁªÑÂÜÖÁΩÆÁöÑËßÜÂõæÂíå‰∏ªÈ¢òÔºåËøô‰∫õËßÜÂõæÂíå‰∏ªÈ¢òÂèØËÉΩÂ∑≤ÁªèÂåÖÂê´‰∫Ü‰ºòÂåñÁöÑÂä®ÁîªÊïàÊûúÔºå‰ΩøÂæóÂºÄÂèëËÄÖÂèØ‰ª•Âø´ÈÄüÂú∞ÂÆûÁé∞È´òÊÄßËÉΩÁöÑÂä®Áîª„ÄÇ

ÊÄªÁöÑÊù•ËØ¥ÔºåVizia ÁöÑÂä®ÁîªÂäüËÉΩÊó®Âú®Êèê‰æõÂº∫Â§ßÁöÑÂä®ÁîªËÉΩÂäõÔºåÂêåÊó∂‰øùÊåÅÂØπÊÄßËÉΩÁöÑÁ≤æÁªÜÊéßÂà∂„ÄÇÈÄöËøáÂà©Áî® GPU Âä†ÈÄüÂíåÂ£∞ÊòéÂºèÁöÑÁä∂ÊÄÅÁÆ°ÁêÜÔºåVizia ËÉΩÂ§üÂú®‰∏çËøáÂ∫¶Áâ∫Áâ≤ÊÄßËÉΩÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏∫Ê°åÈù¢Â∫îÁî®Á®ãÂ∫èÂ∏¶Êù•ÁîüÂä®ÁöÑÂä®ÁîªÊïàÊûú„ÄÇ

### Âú® Vizia Ê°ÜÊû∂‰∏≠ÔºåÂ¶Ç‰Ωï‰ΩøÁî® CSS Êù•ÂàõÂª∫Â§çÊùÇÁöÑÂä®ÁîªÊïàÊûúÔºü

Âú® Vizia Ê°ÜÊû∂‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî® CSS Êù•ÂàõÂª∫Â§çÊùÇÁöÑÂä®ÁîªÊïàÊûúÔºåÂõ†‰∏∫ Vizia ÊîØÊåÅÂ∞Ü CSS Ê†∑ÂºèÂ∫îÁî®‰∫é GUI ÁªÑ‰ª∂„ÄÇËøôÊÑèÂë≥ÁùÄ‰Ω†ÂèØ‰ª•Âà©Áî® CSS ÁöÑÂº∫Â§ßÂäüËÉΩÔºåÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éËøáÊ∏°ÔºàtransitionsÔºâ„ÄÅÂèòÊç¢ÔºàtransformsÔºâ„ÄÅÂÖ≥ÈîÆÂ∏ßÂä®ÁîªÔºàkeyframe animationsÔºâÁ≠âÔºåÊù•‰∏∫‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫èÊ∑ªÂä†Âä®ÁîªÊïàÊûú„ÄÇ

‰ª•‰∏ãÊòØ‰∏Ä‰∫õ‰ΩøÁî® CSS Âú® Vizia ‰∏≠ÂàõÂª∫Âä®ÁîªÁöÑÂü∫Êú¨ÊñπÊ≥ïÔºö

**„ÄåËøáÊ∏°ÔºàTransitionsÔºâ„Äç**Ôºö ‰ΩøÁî® CSS ÁöÑ `transition` Â±ûÊÄßÔºå‰Ω†ÂèØ‰ª•Âú®ËßÜÂõæÁöÑÁä∂ÊÄÅÂèëÁîüÂèòÂåñÊó∂ÂàõÂª∫Âπ≥ÊªëÁöÑÂä®ÁîªËøáÊ∏°ÊïàÊûú„ÄÇ‰æãÂ¶ÇÔºå‰Ω†ÂèØ‰ª•ÂØπÊåâÈíÆÁöÑËÉåÊôØÈ¢úËâ≤ÊàñËßÜÂõæÁöÑ‰ΩçÁΩÆÂèòÂåñÊ∑ªÂä†ËøáÊ∏°ÊïàÊûú„ÄÇ

```rust
.button {
  background-color: blue;
  transition: background-color 0.3s ease;
}

.button:hover {
  background-color: green;
}
```

**„ÄåÂèòÊç¢ÔºàTransformsÔºâ„Äç**Ôºö CSS ÁöÑ `transform` Â±ûÊÄßÂèØ‰ª•Áî®Êù•ÁßªÂä®„ÄÅÊóãËΩ¨„ÄÅÁº©ÊîæÊàñÂÄæÊñúËßÜÂõæ„ÄÇËøô‰∫õÂèòÊç¢‰πüÂèØ‰ª•ÈÄöËøáËøáÊ∏°Êù•Âä®ÁîªÂåñ„ÄÇ

```rust
.box {
  transform: rotate(0deg);
  transition: transform 0.5s;
}

.box:hover {
  transform: rotate(360deg);
}
```

**„ÄåÂÖ≥ÈîÆÂ∏ßÂä®ÁîªÔºàKeyframe AnimationsÔºâ„Äç**Ôºö ÈÄöËøáÂÆö‰πâÂÖ≥ÈîÆÂ∏ßÔºå‰Ω†ÂèØ‰ª•ÂàõÂª∫Êõ¥Â§çÊùÇÁöÑÂä®ÁîªË∑ØÂæÑÂíåÊïàÊûú„ÄÇÂÖ≥ÈîÆÂ∏ßÂä®ÁîªÂèØ‰ª•ÊéßÂà∂Âä®ÁîªÁöÑÊØè‰∏™Èò∂ÊÆµÔºåÈùûÂ∏∏ÁÅµÊ¥ª„ÄÇ

```rust
@keyframes example {
  0% { transform: translateX(0); }
  50% { transform: translateX(100px); }
  100% { transform: translateX(0); }
}

.box {
  animation: example 5s infinite;
}
```

**„ÄåÂä®ÁîªÔºàAnimationsÔºâ„Äç**Ôºö CSS ÁöÑ `animation` Â±ûÊÄßÊòØ‰∏Ä‰∏™ÁÆÄÂÜôÂ±ûÊÄßÔºåÂÆÉÂÖÅËÆ∏‰Ω†Âú®‰∏Ä‰∏™Â£∞Êòé‰∏≠ËÆæÁΩÆÂ§ö‰∏™Âä®ÁîªÂ±ûÊÄßÔºåÂåÖÊã¨ÂêçÁß∞„ÄÅÊåÅÁª≠Êó∂Èó¥„ÄÅËø≠‰ª£Ê¨°Êï∞Á≠â„ÄÇ

```rust
.animated-box {
  animation: example 5s infinite alternate;
}
```

1. **„ÄåÂìçÂ∫îÂºèÂä®Áîª„Äç**Ôºö Vizia ÁöÑÂä®ÁîªÂèØ‰ª•ÂìçÂ∫îÂ∫îÁî®Á®ãÂ∫èÁöÑÁä∂ÊÄÅÂèòÂåñ„ÄÇËøôÊÑèÂë≥ÁùÄ‰Ω†ÂèØ‰ª•ÂàõÂª∫Âü∫‰∫éÊï∞ÊçÆÂèòÂåñÁöÑÂä®ÁîªÔºå‰æãÂ¶ÇÔºåÂΩìÁî®Êà∑‰∏éÂ∫îÁî®Á®ãÂ∫è‰∫§‰∫íÊàñÊï∞ÊçÆÊõ¥Êñ∞Êó∂„ÄÇ
2. **„ÄåÊÄßËÉΩËÄÉËôë„Äç**Ôºö ËôΩÁÑ∂ CSS Âä®ÁîªÈùûÂ∏∏Âº∫Â§ßÔºå‰ΩÜ‰πüÈúÄË¶ÅËÄÉËôëÊÄßËÉΩ„ÄÇÂ§çÊùÇÁöÑÂä®ÁîªÊàñËøáÂ§öÁöÑÂä®ÁîªÂèØËÉΩ‰ºöÂØºËá¥ÊÄßËÉΩ‰∏ãÈôçÔºåÁâπÂà´ÊòØÂú®Êõ¥Êñ∞È¢ëÁπÅÁöÑËßÜÂõæ‰∏ä„ÄÇÂõ†Ê≠§ÔºåÂêàÁêÜ‰ΩøÁî®Âä®ÁîªÔºåÂπ∂Âú®ÂøÖË¶ÅÊó∂ËøõË°åÊÄßËÉΩÊµãËØïÂíå‰ºòÂåñ„ÄÇ
3. **„ÄåÁÉ≠ÈáçËΩΩ„Äç**Ôºö Vizia ÊîØÊåÅ CSS ÁöÑÁÉ≠ÈáçËΩΩÔºåËøôÊÑèÂë≥ÁùÄ‰Ω†ÂèØ‰ª•Âú®Â∫îÁî®Á®ãÂ∫èËøêË°åÊó∂Êõ¥Êîπ CSS Ê†∑ÂºèÂíåÂä®ÁîªÔºåËÄåÊó†ÈúÄÈáçÂêØÂ∫îÁî®Á®ãÂ∫èÔºåËøôÊúâÂä©‰∫éÂø´ÈÄüÂºÄÂèëÂíåËø≠‰ª£„ÄÇ

ÈÄöËøáÁªìÂêà Vizia ÁöÑÂ£∞ÊòéÂºè GUI Êû∂ÊûÑÂíå CSS ÁöÑÂä®ÁîªÂäüËÉΩÔºå‰Ω†ÂèØ‰ª•ÂàõÂª∫Âá∫Êó¢ÁæéËßÇÂèàÂÖ∑ÊúâËâØÂ•ΩÁî®Êà∑‰ΩìÈ™åÁöÑÂä®ÁîªÊïàÊûú„ÄÇ

#### ‰ª£Á†ÅÁ§∫‰æã

> ‚ùù
>
> ‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÁ§∫‰æã„ÄÇÂèØ‰ª•Â∏ÆÂä©‰Ω†Âø´ÈÄüÂºÄÂßãÁºñÁ®ãÂ∑•‰Ωú
>
> ‚ùû

examples/animation.rs

```rust
use vizia::prelude::*;

const STYLE: &str = r#"
    @keyframes slidein {
        0% {
            left: 0px;
        }
        50% {
            left: 50px;
        }
        100% {
            left: 200px;
        }
    }
"#;

fn main() -> Result<(), ApplicationError> {
    Application::new(|cx| {
        cx.add_stylesheet(STYLE).expect("Failed to add stylesheet");

        let animation = AnimationBuilder::new()
            .keyframe(0.0, |key| key.scale("1"))
            .keyframe(1.0, |key| key.scale("2.5"));

        let anim_id = cx.add_animation(animation);

        Element::new(cx).background_color(Color::red()).size(Pixels(100.0)).id("elem");

        Button::new(cx, |cx| Label::new(cx, "Play 1"))
            .on_press(|cx| cx.play_animation_for("slidein", "elem", Duration::from_secs(2)));
        Button::new(cx, |cx| Label::new(cx, "Play 2"))
            .on_press(move |cx| cx.play_animation_for(anim_id, "elem", Duration::from_secs(2)));
    })
    .run()
}
```

- ÂõæË°®Á§∫‰æã

```rust
use vizia::prelude::*;

const STYLE: &str = r#"

    label {
        width: 110px;
        height: 30px;
        border-width: 1px;
        border-color: #505050;
        child-top: 1s;
        child-bottom: 1s;
        child-left: 5px;
        text-wrap: false;
    }

    .default {
        cursor: default;
    }

    .crosshair {
        cursor: crosshair;
    }

    .hand {
        cursor: hand;
    }

    .arrow {
        cursor: arrow;
    }

    .move {
        cursor: move;
    }

    .text {
        cursor: text;
    }

    .wait {
        cursor: wait;
    }

    .help {
        cursor: help;
    }

    .progress {
        cursor: progress;
    }

    .not-allowed {
        cursor: not-allowed;
    }

    .context-menu {
        cursor: context-menu;
    }

    .cell {
        cursor: cell;
    }

    .vertical-text {
        cursor: vertical-text;
    }

    .alias {
        cursor: alias;
    }

    .copy {
        cursor: copy;
    }

    .no-drop {
        cursor: no-drop;
    }

    .grab {
        cursor: grab;
    }

    .grabbing {
        cursor: grabbing;
    }

    .all-scroll {
        cursor: all-scroll;
    }

    .zoom-in {
        cursor: zoom-in;
    }

    .zoom-out {
        cursor: zoom-out;
    }

    .e-resize {
        cursor: e-resize;
    }

    .n-resize {
        cursor: n-resize;
    }

    .ne-resize {
        cursor: ne-resize;
    }

    .nw-resize {
        cursor: nw-resize;
    }

    .s-resize {
        cursor: s-resize;
    }

    .se-resize {
        cursor: se-resize;
    }

    .sw-resize {
        cursor: sw-resize;
    }

    .w-resize {
        cursor: w-resize;
    }

    .ew-resize {
        cursor: ew-resize;
    }

    .ns-resize {
        cursor: ns-resize;
    }

    .nesw-resize {
        cursor: nesw-resize;
    }

    .nwse-resize {
        cursor: nwse-resize;
    }

    .col-resize {
        cursor: col-resize;
    }

    .row-resize {
        cursor: row-resize;
    }
    .none {
        cursor: none;
    }
"#;

fn main() -> Result<(), ApplicationError> {
    Application::new(|cx| {
        cx.add_stylesheet(STYLE).expect("Failed to add stylesheet");

        HStack::new(cx, |cx| {
            VStack::new(cx, |cx| {
                Label::new(cx, "Default").class("default");
                Label::new(cx, "Crosshair").class("crosshair");
                Label::new(cx, "Hand").class("hand");
                Label::new(cx, "Arrow").class("arrow");
                Label::new(cx, "Move").class("move");
                Label::new(cx, "Text").class("text");
                Label::new(cx, "Wait").class("wait");
                Label::new(cx, "Help").class("help");
                Label::new(cx, "Progress").class("progress");
                Label::new(cx, "NotAllowed").class("not-allowed");
                Label::new(cx, "ContextMenu").class("context-menu");
                Label::new(cx, "Cell").class("cell");
            })
            .child_space(Stretch(1.0))
            .row_between(Pixels(10.0));

            VStack::new(cx, |cx| {
                Label::new(cx, "VerticalText").class("vertical-text");
                Label::new(cx, "Alias").class("alias");
                Label::new(cx, "Copy").class("copy");
                Label::new(cx, "NoDrop").class("no-drop");
                Label::new(cx, "Grab").class("grab");
                Label::new(cx, "Grabbing").class("grabbing");
                Label::new(cx, "AllScroll").class("all-scroll");
                Label::new(cx, "ZoomIn").class("zoom-in");
                Label::new(cx, "ZoomOut").class("zoom-out");
                Label::new(cx, "EResize").class("e-resize");
                Label::new(cx, "NResize").class("n-resize");
                Label::new(cx, "NeResize").class("ne-resize");
            })
            .child_space(Stretch(1.0))
            .row_between(Pixels(10.0));

            VStack::new(cx, |cx| {
                Label::new(cx, "NwResize").class("nw-resize");
                Label::new(cx, "SResize").class("s-resize");
                Label::new(cx, "SeResize").class("se-resize");
                Label::new(cx, "SwResize").class("sw-resize");
                Label::new(cx, "WResize").class("w-resize");
                Label::new(cx, "EwResize").class("ew-resize");
                Label::new(cx, "NsResize").class("ns-resize");
                Label::new(cx, "NeswResize").class("nesw-resize");
                Label::new(cx, "NwseResize").class("nwse-resize");
                Label::new(cx, "ColResize").class("col-resize");
                Label::new(cx, "RowResize").class("row-resize");
                Label::new(cx, "None").class("none");
            })
            .child_space(Stretch(1.0))
            .row_between(Pixels(10.0));
        })
        .child_space(Stretch(1.0));
    })
    .title("Cursor Icon")
    .inner_size((800, 600))
    .run()
}
```

- Ëá™ÂÆö‰πâËßÜÂõæ

```rust
use vizia::prelude::*;
use vizia::vg;

pub struct CustomView<L: Lens<Target = Color>> {
    color: L,
}

impl<L: Lens<Target = Color>> CustomView<L> {
    pub fn new(cx: &mut Context, color: L) -> Handle<Self> {
        Self { color }
            .build(cx, |cx| {
                Label::new(cx, "This is a custom view!");
            })
            // Redraw when lensed data changes
            .bind(color, |mut handle, _| handle.needs_redraw())
    }
}

impl<L: Lens<Target = Color>> View for CustomView<L> {
    fn draw(&self, cx: &mut DrawContext, canvas: &mut Canvas) {
        let col = self.color.get(cx);
        let bounds = cx.bounds();
        let mut path = vg::Path::new();
        path.rect(bounds.x, bounds.y, bounds.w, bounds.h);
        canvas.fill_path(&path, &vg::Paint::color(col.into()));
    }
}

#[derive(Lens)]
struct AppData {
    color: Color,
}

impl Model for AppData {
    fn event(&mut self, _cx: &mut EventContext, event: &mut Event) {
        event.map(|app_event, _| match app_event {
            AppEvent::SetColor(col) => self.color = *col,
        })
    }
}

pub enum AppEvent {
    SetColor(Color),
}

fn main() -> Result<(), ApplicationError> {
    Application::new(|cx| {
        AppData { color: Color::red() }.build(cx);
        CustomView::new(cx, AppData::color).size(Pixels(200.0));
        Slider::new(cx, AppData::color.map(|c| c.r() as f32 / 255.0))
            .on_changing(|cx, val| {
                cx.emit(AppEvent::SetColor(Color::rgb((val * 255.0) as u8, 0, 0)))
            })
            .width(Pixels(200.0))
            .space(Pixels(20.0));
    })
    .run()
}
```

- ÊãñÊãΩÁ§∫‰æã

```rust
use vizia::prelude::*;
mod helpers;
use helpers::*;

fn main() -> Result<(), ApplicationError> {
    Application::new(|cx| {
        ExamplePage::vertical(cx, |cx| {
            HStack::new(cx, |cx| {
                Element::new(cx).size(Pixels(50.0)).background_color(Color::red()).on_drag(|ex| {
                    ex.set_drop_data(ex.current());
                });

                Element::new(cx).size(Pixels(50.0)).background_color(Color::green()).on_drag(
                    |ex| {
                        ex.set_drop_data(ex.current());
                    },
                );

                Element::new(cx).size(Pixels(50.0)).background_color(Color::blue()).on_drag(|ex| {
                    ex.set_drop_data(ex.current());
                });
            })
            .height(Pixels(100.0))
            .width(Auto)
            .col_between(Pixels(20.0))
            .child_space(Stretch(1.0));

            Element::new(cx)
                .size(Pixels(100.0))
                .background_color(Color::beige())
                .on_drop(|ex, data| {
                    if let DropData::Id(id) = data {
                        let bg = ex.with_current(id, |ex| ex.background_color());
                        ex.set_background_color(bg);
                        ex.emit(WindowEvent::SetCursor(CursorIcon::Default));
                    }
                    if let DropData::File(file) = data {
                        println!("Dropped File: {:?}", file);
                    }
                })
                .on_hover(|ex| {
                    if ex.has_drop_data() {
                        ex.emit(WindowEvent::SetCursor(CursorIcon::Copy));
                    } else {
                        ex.emit(WindowEvent::SetCursor(CursorIcon::Default));
                    }
                });
        });
    })
    .run()
}
```

- Ë∑üÈöèÁ≥ªÁªü‰∏ªÈ¢ò

```rust
use vizia::prelude::*;

#[derive(Debug, Lens)]
pub struct AppData {
    current_theme: String,
}

impl Model for AppData {
    fn event(&mut self, _: &mut EventContext, event: &mut Event) {
        event.map(|event, _| {
            if let WindowEvent::ThemeChanged(theme) = event {
                self.current_theme = match theme {
                    ThemeMode::DarkMode => "Dark Mode",
                    ThemeMode::LightMode => "Light Mode",
                }
                .to_owned();
            }
        })
    }
}

fn main() -> Result<(), ApplicationError> {
    Application::new(|cx: &mut Context| {
        AppData { current_theme: "Light mode".to_owned() }.build(cx);

        cx.emit(EnvironmentEvent::SetThemeMode(AppTheme::System));

        VStack::new(cx, |cx| {
            Label::new(cx, "This example follow system theme change");
            Label::new(cx, "Change your theme to light or dark mode to see how it works\n");
            Label::new(cx, AppData::current_theme.map(|v| format!("Current system theme: {v}")));
        })
        .child_space(Stretch(1.0))
        .space(Stretch(1.0));
    })
    .title("Follow system theme")
    .inner_size((470, 320))
    .run()
}
```

- ÈîÆÁõòÊò†Â∞Ñ

```rust
//! This example showcases how to use a keymap.
//!
//! Key chords:
//! `A`                     => `Action::OnA`
//! `B`                     => `Action::OnB`
//! `C`                     => `Action::OnC`
//! `CTRL+A`                => `Action::OnCtrlA`
//! `ALT+A`                 => `Action::OnAltA`
//! `SHIFT+A`               => `Action::OnShiftA`
//! `LOGO+A`                => `Action::OnLogoA`
//! `ALT+SHIFT+X`           => `Action::OnAltShiftX`
//! `CTRL+ALT+SHIFT+Y`      => `Action::OnCtrlAltShiftY`
//! `CTRL+ALT+SHIFT+LOGO+Z` => `Action::OnCtrlAltShiftLogoZ`

use vizia::prelude::*;

fn main() -> Result<(), ApplicationError> {
    Application::new(|cx| {
        // Build the keymap.
        Keymap::from(vec![
            (
                KeyChord::new(Modifiers::empty(), Code::KeyA),
                KeymapEntry::new(Action::OnA, |_| println!("Action A")),
            ),
            (
                KeyChord::new(Modifiers::empty(), Code::KeyB),
                KeymapEntry::new(Action::OnB, |_| println!("Action B")),
            ),
            (
                KeyChord::new(Modifiers::empty(), Code::KeyC),
                KeymapEntry::new(Action::OnC, |_| println!("Action C")),
            ),
            (
                KeyChord::new(Modifiers::CTRL, Code::KeyA),
                KeymapEntry::new(Action::OnCtrlA, |_| println!("Action OnCtrlA")),
            ),
            (
                KeyChord::new(Modifiers::ALT, Code::KeyA),
                KeymapEntry::new(Action::OnAltA, |_| println!("Action OnAltA")),
            ),
            (
                KeyChord::new(Modifiers::SHIFT, Code::KeyA),
                KeymapEntry::new(Action::OnShiftA, |_| println!("Action OnShiftA")),
            ),
            (
                KeyChord::new(Modifiers::SUPER, Code::KeyA),
                KeymapEntry::new(Action::OnLogoA, |_| println!("Action OnLogoA")),
            ),
            (
                KeyChord::new(Modifiers::ALT | Modifiers::SHIFT, Code::KeyX),
                KeymapEntry::new(Action::OnAltShiftX, |_| println!("Action OnAltShiftX")),
            ),
            (
                KeyChord::new(Modifiers::CTRL | Modifiers::ALT | Modifiers::SHIFT, Code::KeyY),
                KeymapEntry::new(Action::OnCtrlAltShiftY, |_| println!("Action OnCtrlAltShiftY")),
            ),
            (
                KeyChord::new(
                    Modifiers::CTRL | Modifiers::ALT | Modifiers::SHIFT | Modifiers::SUPER,
                    Code::KeyZ,
                ),
                KeymapEntry::new(Action::OnCtrlAltShiftLogoZ, |_| {
                    println!("Action OnCtrlAltShiftLogoZ")
                }),
            ),
        ])
        .build(cx);
    })
    .title("Keymap")
    .run()
}

// The actions that are associated with the key chords.
#[derive(Debug, PartialEq, Copy, Clone)]
enum Action {
    OnA,
    OnB,
    OnC,
    OnCtrlA,
    OnAltA,
    OnShiftA,
    OnLogoA,
    OnAltShiftX,
    OnCtrlAltShiftY,
    OnCtrlAltShiftLogoZ,
}
```

- Êï∞Â≠óËæìÂÖ•

```rust
// TODO: Make this a built-in view

use vizia::prelude::*;

const STYLE: &str = r#"
    textbox:invalid {
        border-color: #ff0000;
    }
"#;

#[derive(Lens)]
pub struct AppData {
    number: i32,
    invalid: bool,
}

#[derive(Debug)]
pub enum AppEvent {
    SetNumber(i32),
    SetInvalid,
}

impl Model for AppData {
    fn event(&mut self, _: &mut EventContext, event: &mut Event) {
        event.map(|app_event, _| match app_event {
            AppEvent::SetNumber(num) => {
                self.number = *num;
                self.invalid = false;
            }
            AppEvent::SetInvalid => {
                self.invalid = true;
            }
        });
    }
}

fn main() -> Result<(), ApplicationError> {
    Application::new(|cx| {
        cx.add_stylesheet(STYLE).expect("Failed to add stylesheet");
        AppData { number: 5, invalid: false }.build(cx);

        HStack::new(cx, |cx| {
            Textbox::new(cx, AppData::number)
                .validate(|val| *val < 50)
                .on_submit(|cx, val, _| {
                    cx.emit(AppEvent::SetNumber(val));
                })
                .width(Pixels(200.0))
                .child_left(Pixels(5.0));

            // Label::new(cx, "Please enter a number less than 50")
            //     .class("validation_error_label")
            //     .toggle_class("validation_error", AppData::invalid);

            Label::new(cx, AppData::number)
                .width(Pixels(200.0))
                .height(Pixels(32.0))
                .child_top(Stretch(1.0))
                .child_bottom(Stretch(1.0))
                .child_left(Pixels(5.0));
        })
        .child_top(Stretch(1.0))
        .child_bottom(Stretch(1.0))
        .height(Auto)
        .space(Stretch(1.0))
        .child_space(Stretch(1.0))
        .col_between(Pixels(10.0));
    })
    .title("Number Input")
    .run()
}
```

- ‰ª£ÁêÜ

```rust
#[allow(unused)]
use vizia::prelude::*;

#[cfg(target_arch = "wasm32")]
fn main() {
    panic!("This example is not supported on wasm - threads are experimental");
}

#[cfg(feature = "baseview")]
fn main() {
    panic!("This example is not supported on baseview - proxies are winit only");
}

#[cfg(all(not(target_arch = "wasm32"), not(feature = "baseview")))]
fn main() -> Result<(), ApplicationError> {
    let app = Application::new(|_| {})
        .on_idle(|_| {
            println!("On Idle: {:?}", Instant::now());
        })
        .title("Proxy");

    let mut proxy = app.get_proxy();

    std::thread::spawn(move || loop {
        proxy.emit(()).expect("Failed to send proxy event");
        std::thread::sleep(std::time::Duration::from_secs(2));
    });

    app.run()
}
```

- ‰øùÂ≠òÂºπÁ™ó

```rust
use vizia::prelude::*;

const STYLE: &str = r#"

    .modal {
        space: 1s;
        child-space: 8px;
        child-left: 1s;
        child-right: 1s;
        background-color: white;
        border-radius: 3px;
        border-width: 1px;
        border-color: #999999;
        outer-shadow: 0 3 10 #00000055;
        overflow: visible;
        child-space: 10px;
        height: auto;
    }

    .modal>vstack>label {
        width: auto;
        height: auto;
        space: 5px;
        child-space: 1s;
    }

    .modal button {
        border-radius: 3px;
        child-space: 1s;
    }

    .modal hstack {
        col-between: 20px;
        size: auto;
    }
"#;

#[derive(Lens)]
pub struct AppData {
    is_saved: bool,
    show_dialog: bool,
}

impl Model for AppData {
    fn event(&mut self, cx: &mut EventContext, event: &mut Event) {
        event.map(|window_event, meta| {
            // Intercept WindowClose event to show a dialog if not 'saved'.
            if let WindowEvent::WindowClose = window_event {
                if !self.is_saved {
                    self.show_dialog = true;
                    meta.consume();
                }
            }
        });

        event.map(|app_event, _| match app_event {
            AppEvent::HideModal => {
                self.show_dialog = false;
            }

            AppEvent::Save => {
                self.is_saved = true;
            }

            AppEvent::SaveAndClose => {
                self.is_saved = true;
                cx.emit(WindowEvent::WindowClose);
            }

            AppEvent::Cancel => {
                self.is_saved = false;
            }
        });
    }
}

pub enum AppEvent {
    HideModal,
    Save,
    SaveAndClose,
    Cancel,
}

fn main() -> Result<(), ApplicationError> {
    Application::new(|cx| {
        cx.add_stylesheet(STYLE).expect("Failed to add stylesheet");
        AppData { is_saved: false, show_dialog: false }.build(cx);

        HStack::new(cx, |cx| {
            Button::new(cx, |cx| Label::new(cx, "Close"))
                .on_press(|cx| cx.emit(WindowEvent::WindowClose));
            Button::new(cx, |cx| Label::new(cx, "Save")).on_press(|cx| cx.emit(AppEvent::Save));
        })
        .col_between(Pixels(10.0))
        .space(Pixels(20.0));

        Dialog::new(cx, AppData::show_dialog, |cx| {
            VStack::new(cx, |cx| {
                Label::new(cx, "Save before close?").width(Stretch(1.0)).child_space(Stretch(1.0));
                HStack::new(cx, |cx| {
                    Button::new(cx, |cx| Label::new(cx, "Save & Close"))
                        .on_press(|cx| cx.emit(AppEvent::SaveAndClose))
                        .width(Pixels(120.0))
                        .class("accent");

                    Button::new(cx, |cx| Label::new(cx, "Cancel"))
                        .on_press(|cx| cx.emit(AppEvent::HideModal))
                        .width(Pixels(120.0));
                })
                .height(Auto);
            })
            .size(Auto)
            .row_between(Pixels(20.0))
            .height(Auto);
        })
        // .on_blur(|cx| cx.emit(AppEvent::HideModal))
        .width(Auto)
        .height(Auto)
        .row_between(Pixels(20.0))
        .class("modal");
    })
    .run()
}
```

- Ê†∑ÂºèË°®

```rust
#[allow(unused)]
use vizia::prelude::*;

#[cfg(target_arch = "wasm32")]
fn main() {
    panic!("This example is not supported on wasm - uses filesystem");
}

#[cfg(not(target_arch = "wasm32"))]
fn main() -> Result<(), ApplicationError> {
    Application::new(|cx| {
        cx.add_stylesheet(include_style!("examples/resources/themes/test.css"))
            .expect("Failed to add stylesheet");
        HStack::new(cx, |cx| {
            Element::new(cx).class("foo");
        })
        .size(Pixels(200.0))
        .class("bar");
    })
    .run()
}
```

### Reference

[1] morphormÔºöhttps://github.com/vizia/morphorm

[2] Tabler IconsÔºöhttps://tabler-icons.io

[3] accesskitÔºöhttps://github.com/accesskit/accesskit

[4] fluentÔºöhttps://github.com/projectfluent/fluent-rs

[5] femtovgÔºöhttps://github.com/femtovg/femtovg

[6] baseviewÔºöhttps://github.com/RustAudio/baseview

[7] nih-plugÔºöhttps://github.com/robbert-vdh/nih-plug

[8] ËøôÈáåÔºöhttps://book.vizia.dev

[9] ËøôÈáåÔºöhttps://docs.vizia.dev

[10] Á§∫‰æãÔºöhttps://github.com/vizia/vizia/tree/main/examples

[11] winitÔºöhttps://github.com/rust-windowing/winit

[12] baseviewÔºöhttps://github.com/RustAudio/baseview

## WGPU-RSÔºöRust ËØ≠Ë®ÄÁöÑÂõæÂΩ¢ÁºñÁ®ãÈù©ÂëΩ

Âú® Rust ÁºñÁ®ãËØ≠Ë®ÄÁöÑÈ¢ÜÂüüÔºå`wgpu-rs` Â∑≤Êàê‰∏∫‰∏Ä‰∏™ÈáçË¶ÅÁöÑÁ™ÅÁ†¥ÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™Êó¢ÂÆâÂÖ®ÂèàÈ´òÊïàÁöÑÊñπÂºèÊù•ËøõË°åÂõæÂΩ¢ÁºñÁ®ã„ÄÇÊú¨ÊñáÂ∞ÜÊ∑±ÂÖ•Êé¢ËÆ® `wgpu-rs` ÁöÑÂÜÖÈÉ®Â∑•‰ΩúÊú∫Âà∂ÔºåÂÆÉÂ¶Ç‰ΩïËÆ©ÂõæÂΩ¢ÁºñÁ®ãÂèòÂæóÊõ¥Âä†ËÆøÈóÆÔºå‰ª•ÂèäÂ¶Ç‰Ωï‰ΩøÁî®ÂÆÉÊù•ÂàõÂª∫‰ª§‰∫∫ÊÉäÂèπÁöÑÂèØËßÜÂåñÊïàÊûú„ÄÇ

### `wgpu-rs` Ê¶ÇËø∞

`wgpu-rs` ÊòØ‰∏Ä‰∏™ Rust È°πÁõÆÔºåÊó®Âú®‰Ωø Rust ËØ≠Ë®ÄÁöÑÂõæÂΩ¢ÁºñÁ®ãÊõ¥Âä†ÂÆπÊòì„ÄÇÂÆÉÊòØ‰∏Ä‰∏™Â∫ìÔºåÂÖÅËÆ∏Áî®Êà∑‰ª•ÂÆâÂÖ®ÂíåËàíÈÄÇÁöÑÊñπÂºèËΩªÊùæÂú∞‰∏é‰ªñ‰ª¨Á≥ªÁªü‰∏≠ÁöÑÂõæÂΩ¢Á°¨‰ª∂‰∫§‰∫í„ÄÇËØ•Â∫ìÂú® `wgpu-core` ‰∏äÊèê‰æõ‰∫ÜÈ´òÁ∫ß„ÄÅÊÉØÁî®ÂíåÊñπ‰æøÁöÑÊäΩË±°ÔºåÂêåÊó∂‰ªçÁÑ∂ÂÖÅËÆ∏ÂØπÂ∫ïÂ±Ç API ÁöÑÁõ¥Êé•‰ΩéÁ∫ßÊéßÂà∂„ÄÇÈÄöËøáËøôÁßçÊñπÂºèÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁßçÁªü‰∏ÄÁöÑÊñπÂºèÊù•ËÆøÈóÆÂêÑÁßçÂêéÁ´ØÁöÑÂõæÂΩ¢ÂíåËÆ°ÁÆóÂäüËÉΩÔºåÂåÖÊã¨ Vulkan„ÄÅMetal„ÄÅDirectX ‰ª•ÂèäÊµèËßàÂô® WebGPU„ÄÇ

### `wgpu-rs` ÁöÑÊ†∏ÂøÉÁâπÊÄß

1. **Ë∑®Âπ≥Âè∞**ÔºöÊîØÊåÅÂ§öÁßçÂêéÁ´ØÔºàVulkan„ÄÅMetal„ÄÅDirectX„ÄÅWebGPUÔºâÔºåÂèØÂÆûÁé∞ÁúüÊ≠£ÁöÑË∑®Âπ≥Âè∞ÂõæÂΩ¢ÁºñÁ®ã„ÄÇ
2. **ÂÆâÂÖ®ÊÄß**ÔºöRust ÁöÑÊâÄÊúâÊùÉÂíåÂÄüÁî®Ê£ÄÊü•Êú∫Âà∂ÔºåÂáèÂ∞ë‰∫ÜÂÜÖÂ≠òÊ≥ÑÈú≤ÂíåÂÖ∂‰ªñÂÆâÂÖ®ÈóÆÈ¢òÁöÑÈ£éÈô©„ÄÇ
3. **ÊÄßËÉΩ**ÔºöÊèê‰æõÁõ¥Êé•‰ΩéÁ∫ßÊéßÂà∂ÁöÑËÉΩÂäõÔºåÂÖÅËÆ∏ÂºÄÂèëËÄÖÂÖÖÂàÜÂà©Áî®Á°¨‰ª∂ÁöÑËÉΩÂäõ„ÄÇ
4. **ÊòìÁî®ÊÄß**ÔºöÊèê‰æõÈ´òÁ∫ßÁöÑÊäΩË±°ÔºåËÆ©ÂºÄÂèëËÄÖÂèØ‰ª•Êõ¥ÂÆπÊòìÂú∞ÂàõÂª∫ÂõæÂΩ¢Â∫îÁî®„ÄÇ
5. **Áé∞‰ª£**ÔºöË¥¥ÂêàÊúÄÊñ∞ÁöÑÂõæÂΩ¢APIÊ†áÂáÜÔºåÂ¶ÇWebGPUÔºå‰øùÊåÅÊäÄÊúØÁöÑÂâçÊ≤øÊÄß„ÄÇ

### ‰ΩøÁî® `wgpu-rs` ÂºÄÂßãÂõæÂΩ¢ÁºñÁ®ã

‰∏∫‰∫ÜÊé¢Á¥¢ `wgpu-rs` ÁöÑÂº∫Â§ßÂäüËÉΩÔºåÊàë‰ª¨Â∞ÜÈÄöËøáÂá†‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÊù•Â±ïÁ§∫Â¶Ç‰ΩïÂºÄÂßã‰ΩøÁî®Ëøô‰∏™Â∫ìËøõË°åÂõæÂΩ¢ÁºñÁ®ã„ÄÇ

**ÁéØÂ¢ÉÈÖçÁΩÆ**Ôºö

È¶ñÂÖàÔºåÊÇ®ÈúÄË¶ÅÁ°Æ‰øù Rust ÁéØÂ¢ÉÂ∑≤ÁªèÂÆâË£ÖÂú®ÊÇ®ÁöÑÁ≥ªÁªü‰∏ä„ÄÇÁÑ∂ÂêéÔºåÈÄöËøáÊ∑ªÂä†‰ª•‰∏ã‰æùËµñÂà∞ `Cargo.toml` Êù•ÂºïÂÖ• `wgpu-rs`Ôºö

```
[dependencies]
wgpu = "0.10"
```

**ÁÆÄÂçïÁöÑÁ§∫‰æã**Ôºö

ËÆ©Êàë‰ª¨ÈÄöËøá‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂõæÂΩ¢Ê∏≤ÊüìÁ§∫‰æãÊù•Â±ïÁ§∫ `wgpu-rs` ÁöÑ‰ΩøÁî®„ÄÇÊ≠§Á§∫‰æãÂ∞ÜÂàõÂª∫‰∏Ä‰∏™Á™óÂè£ÔºåÂπ∂Âú®Á™óÂè£‰∏≠Ê∏≤Êüì‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰∏âËßíÂΩ¢„ÄÇ

È¶ñÂÖàÔºåÂàõÂª∫‰∏Ä‰∏™Á™óÂè£ÂíåËÆæÂ§áÔºö

```rust
use wgpu::Instance;
use winit::{
    event::{Event, WindowEvent},
    event_loop::{ControlFlow, EventLoop},
    window::WindowBuilder,
};

async fn run(event_loop: EventLoop<()>, window: Window) {
    let instance = Instance::new(wgpu::Backends::all());
    let surface = unsafe { instance.create_surface(&window) }.expect("Failed to create a surface");
    // ÂàõÂª∫ËÆæÂ§áÂíåÈòüÂàó
}
```

Êé•‰∏ãÊù•ÔºåÂä†ËΩΩÁÆ°ÈÅì„ÄÅÈ°∂ÁÇπÂíåÂÉèÁ¥†ÁùÄËâ≤Âô®ÔºåÁÑ∂ÂêéÂºÄÂßãÊ∏≤ÊüìÂæ™ÁéØÔºö

```
// Ê≠§ÈÉ®ÂàÜÂ∞ÜÊ∑ªÂä†ÁÆ°ÈÅìÂàõÂª∫‰ª£Á†Å„ÄÅÈ°∂ÁÇπÊï∞ÊçÆÂíåÊ∏≤ÊüìÂæ™ÁéØ„ÄÇ
```

Ê≥®ÊÑèÔºåÁî±‰∫éÁØáÂπÖÈôêÂà∂ÔºåÂÆåÊï¥ÁöÑÂ∫îÁî®Á®ãÂ∫è‰ª£Á†ÅËØ∑ÂèÇÈòÖ `wgpu-rs` ÁöÑÂÆòÊñπÁ§∫‰æã‰ªìÂ∫ì„ÄÇ

### ËøõÈò∂Â∫îÁî®ÂíåÊÄßËÉΩ‰ºòÂåñ

Ê∑±ÂÖ•Âà∞ `wgpu-rs`ÔºåÊÇ®ÂèØ‰ª•Êé¢Á¥¢Êõ¥È´òÁ∫ßÁöÑÂäüËÉΩÔºåÂ¶ÇÂ§öÁ∫øÁ®ãÊ∏≤Êüì„ÄÅGPU Âä†ÈÄüËÆ°ÁÆó‰ª•ÂèäÂàõÂª∫Â§çÊùÇÁöÑ 3D Âú∫ÊôØ„ÄÇÈÄöËøáÂêàÁêÜÂà©Áî® Rust ÁöÑÂπ∂ÂèëÁâπÊÄßÂíå `wgpu-rs` Êèê‰æõÁöÑÊé•Âè£ÔºåÂèØ‰ª•ÂºÄÂèëÂá∫ÊÄßËÉΩÂçìË∂ä„ÄÅÂìçÂ∫îÁÅµÊïèÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ

**ÊÄßËÉΩ‰ºòÂåñÊäÄÂ∑ß**Ôºö

1. **Âà©Áî®Âπ∂Âèë**ÔºöRust Êèê‰æõÁöÑÂÆâÂÖ®Âπ∂ÂèëÂÖÅËÆ∏ÊÇ®ÂÖÖÂàÜÂà©Áî®Â§öÊ†∏ CPUÔºåËøõË°åÈ´òÊïàÁöÑÊï∞ÊçÆÂ§ÑÁêÜÂíåÊ∏≤Êüì„ÄÇ
2. **Á≤æÁ°ÆËµÑÊ∫êÁÆ°ÁêÜ**ÔºöÂêàÁêÜÂàÜÈÖçÂíåÂõûÊî∂ GPU ËµÑÊ∫êÔºåÈÅøÂÖçËµÑÊ∫êÊ≥ÑÈú≤ÂíåÂÜ≤Á™Å„ÄÇ
3. **ÁùÄËâ≤Âô®‰ºòÂåñ**Ôºö‰ºòÂåñÁùÄËâ≤Âô®‰ª£Á†ÅÔºåÂáèÂ∞ë‰∏çÂøÖË¶ÅÁöÑËÆ°ÁÆóÂíåËµÑÊ∫ê‰ΩøÁî®„ÄÇ

### ÁªìËØ≠

`wgpu-rs` ‰∏∫ Rust ËØ≠Ë®ÄÊâìÂºÄ‰∫ÜÂõæÂΩ¢ÁºñÁ®ãÁöÑÊñ∞Á∫™ÂÖÉÔºåÊó†ËÆ∫ÊòØÊñ∞ÊâãËøòÊòØÁªèÈ™å‰∏∞ÂØåÁöÑÂºÄÂèëËÄÖÔºåÈÉΩÂèØ‰ª•‰ªé‰∏≠ÂèóÁõä„ÄÇÈÄöËøá `wgpu-rs`ÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫Âá∫ÊÄßËÉΩÂçìË∂ä„ÄÅË∑®Âπ≥Âè∞ÁöÑÂõæÂΩ¢Â∫îÁî®Á®ãÂ∫èÔºåÊãìÂ±ï Rust Á®ãÂ∫èÁöÑËæπÁïå„ÄÇÊ¨¢ËøéÊõ¥Â§öÁöÑÂºÄÂèëËÄÖÂä†ÂÖ• Rust Âíå `wgpu-rs` ÁöÑÁ§æÂå∫Ôºå‰∏ÄËµ∑Êé®Âä®Ëøô‰∏™‰ª§‰∫∫ÂÖ¥Â•ãÁöÑÈ°πÁõÆÂêëÂâçÂèëÂ±ï„ÄÇ

## ÂæÖÂÆö

- [Rust ËØ≠Ë®ÄÊúâÈÇ£‰∫õÂ•ΩÁöÑ GUI Â∫ì? - Áü•‰πé (zhihu.com)](https://www.zhihu.com/question/312815643?sort=created)

- [Rust ÁßªÂä®ÂºÄÂèë‰∏éË∑®Âπ≥Âè∞Ê®°ÂºèÊé¢Á©∂ - Áü•‰πé (zhihu.com)](https://zhuanlan.zhihu.com/p/484269271)

- [Flutter + Rust ffi ÂºÄÂèëË∑®Âπ≥Âè∞ UI Á®ãÂ∫èÂÖ•Èó®*flutter rust*Êû´ÂÆâ Maplean ÁöÑÂçöÂÆ¢-CSDN ÂçöÂÆ¢](https://blog.csdn.net/hyklose/article/details/124482491)

- [ÊêúÁ¥¢ ¬∑ÈìÅÈîàÁî®Êà∑ÁïåÈù¢ (github.com)](https://github.com/search?o=desc&q=Rust+UI&s=stars&type=Repositories)

- Rust crate Â§ßÂ∑°Á§º
  - https://www.bilibili.com/video/BV1FL4y1x7MU/?spm_id_from=333.788&vd_source=5f0c99b3deddffe219938763769b15ac
- lapceÔºöhttps://github.com/lapce/lapce

# Ëá™Âä®ÂåñÂ∫ì

## Êé¢Á¥¢ HabitatÔºöÂü∫‰∫é RUST ÊûÑÂª∫Áé∞‰ª£ÂåñÂ∫îÁî®ÁöÑËá™Âä®ÂåñÂà©Âô®

> Âú®ÂΩì‰ªäÂø´ÈÄüÂèëÂ±ïÁöÑÊäÄÊúØÈ¢ÜÂüüÔºåËá™Âä®ÂåñÂ∑≤Êàê‰∏∫ËΩØ‰ª∂ÂºÄÂèëÂíåÈÉ®ÁΩ≤ËøáÁ®ã‰∏≠‰∏çÂèØÊàñÁº∫ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇHabitatÔºåÁî± habitat-sh Âõ¢ÈòüÂºÄÂèëÁöÑ‰∏ÄÊ¨æÂºÄÊ∫êËΩØ‰ª∂ÔºåÊ≠£ÊòØ‰∏∫‰∫ÜÂ∫îÂØπËøô‰∏ÄÈúÄÊ±ÇËÄåÁîü„ÄÇÊú¨ÊñáÂ∞ÜÂ∏¶È¢ÜËØªËÄÖÊ∑±ÂÖ•‰∫ÜËß£ Habitat ÁöÑÊ†∏ÂøÉÂäüËÉΩ„ÄÅÂÆâË£ÖÊñπÊ≥ï‰ª•ÂèäÂ¶Ç‰ΩïÂà©Áî®ÂÆÉÊù•ÊûÑÂª∫ÂíåÁÆ°ÁêÜÁé∞‰ª£ÂåñÂ∫îÁî®Á®ãÂ∫è„ÄÇ

### Habitat ÁÆÄ‰ªã

Habitat Êó®Âú®ÂàõÂª∫‰∏éÂπ≥Âè∞Êó†ÂÖ≥ÁöÑÊûÑÂª∫Â∑•‰ª∂ÔºåÂπ∂Êèê‰æõÂÜÖÁΩÆÁöÑÈÉ®ÁΩ≤ÂíåÁÆ°ÁêÜÂäüËÉΩ„ÄÇÂÆÉÁöÑÊ†∏ÂøÉÁõÆÊ†áÊòØÂÖÅËÆ∏ÂºÄÂèëËÄÖÂú®ÂàõÂª∫Â∫îÁî®Á®ãÂ∫èÊó∂Ëá™Âä®ÂåñÂÖ∂Ë°å‰∏∫ÔºåÂπ∂Â∞ÜÂ∫îÁî®Á®ãÂ∫è‰∏éÊâÄÈúÄÁöÑËá™Âä®ÂåñÊçÜÁªëÂú®‰∏ÄËµ∑Ôºå‰ª•Á°Æ‰øùÂú®‰ªª‰ΩïÈÉ®ÁΩ≤ÁéØÂ¢É‰∏≠ÈÉΩËÉΩ‰ª•Ê≠£Á°ÆÁöÑËøêË°åÊó∂Ë°å‰∏∫„ÄÅÊõ¥Êñ∞Á≠ñÁï•„ÄÅÊïÖÈöúÂ§ÑÁêÜÁ≠ñÁï•ÂíåÊâ©Â±ïË°å‰∏∫ËøêË°å„ÄÇ

### ÂÆâË£Ö Habitat

Habitat ÊîØÊåÅÂ§öÁßçÊìç‰ΩúÁ≥ªÁªüÔºåÂåÖÊã¨ macOS„ÄÅWindows Âíå Linux„ÄÇ‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÂÆâË£ÖÊñπÊ≥ïÔºö

- ÂØπ‰∫é macOS Áî®Êà∑ÔºåÂ¶ÇÊûú‰ΩøÁî® HomebrewÔºåÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂÆâË£Ö HabitatÔºö

  ```
  brew tap habitat-sh/habitat
  brew install hab
  ```

- Windows Áî®Êà∑Â¶ÇÊûú‰ΩøÁî® ChocolateyÔºåÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂëΩ‰ª§ÂÆâË£ÖÔºö

  ```
  choco install habitat
  ```

- ÂØπ‰∫é‰∏ç‰ΩøÁî® Homebrew Êàñ Chocolatey ÁöÑÁî®Êà∑ÔºåÊàñËÄÖ Linux Áî®Êà∑ÔºåÂèØ‰ª•ÈÄöËøáËøêË°å Habitat Êèê‰æõÁöÑ`install.sh`Êàñ`install.ps1`ËÑöÊú¨Êù•ÂÆâË£Ö„ÄÇ

### Habitat ÁöÑÊ†∏ÂøÉÁªÑ‰ª∂

Habitat ÁöÑ‰ª£Á†ÅÁªÑÁªáÊ∏ÖÊô∞ÔºåÊ†∏ÂøÉÁªÑ‰ª∂ÂåÖÊã¨Ôºö

- **Core Plans**ÔºöÁî± Habitat Ê†∏ÂøÉÂõ¢ÈòüÊûÑÂª∫ÂíåÁª¥Êä§ÁöÑËÆ°ÂàíÔºå‰Ωç‰∫éÂçïÁã¨ÁöÑ‰ªìÂ∫ì‰∏≠„ÄÇ
- **Habitat Supervisor ÂíåÂÖ∂‰ªñÊ†∏ÂøÉÁªÑ‰ª∂**ÔºöHabitat Supervisor ÂíåÂÖ∂‰ªñÊ†∏ÂøÉÁªÑ‰ª∂ÁöÑ‰ª£Á†Å‰Ωç‰∫é`components`ÁõÆÂΩï‰∏ã„ÄÇ
- **ÊñáÊ°£**ÔºöHabitat ÁöÑÁΩëÁ´ôÂíåÊñáÊ°£Ê∫ê‰ª£Á†Å‰Ωç‰∫é Habitat Ê∫ê‰ª£Á†ÅÁöÑ`www`ÁõÆÂΩï‰∏≠„ÄÇ

### ÂõæË°®

ÊúâÂä©‰∫éÊÇ®ÂíåÂõ¢ÈòüÊõ¥Â•ΩÂú∞ÁêÜËß£Ê¶ÇÂøµ‰ª•ÂèäÂÆÉ‰ª¨Â¶Ç‰ΩïËûçÂÖ•Êõ¥ÂπøÊ≥õÁöÑ Habitat ÁîüÊÄÅÁ≥ªÁªüÁöÑÂõæÂΩ¢„ÄÇ

### Habitat ÁöÑÂÆö‰Ωç

![ÂõæÁâá](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/640-9996663333.webp)HabitatÊµÅÁ®ã‰ø°ÊÅØÂõæË°®

Â∞ùËØïÂú®**ÂÆòÁΩë**[1]‰∏ä‰ΩìÈ™å‰∫íÂä®Âºè‰ø°ÊÅØÂõæË°®ÔºÅ

### Habitat ÁöÑÂ∑•‰ΩúÂéüÁêÜ

- **Êû∂ÊûÑÊ¶ÇËßà**[2]
- **ÂàùÂßãÂåÖÊûÑÂª∫ÊµÅÁ®ã**[3]
- **Â∫îÁî®ÈáçÂª∫ÊµÅÁ®ã**[4]
- **‰æùËµñÊõ¥Êñ∞ÊµÅÁ®ã**[5]
- **ÈÄöËøáÊ∏†ÈÅìÊé®ÂπøÂåÖ**[6]

### Habitat ‰∏é**Docker**

- **ÂàùÂßã Docker ÂÆπÂô®ÂèëÂ∏ÉÊµÅÁ®ã**[7]
- **Ëá™Âä®Âåñ Docker ÂÆπÂô®ÂèëÂ∏ÉÊµÅÁ®ã**[8]

*Êü•Áúã**ÊñáÊ°£**[9]‰∏≠ÁöÑÊâÄÊúâÂõæË°®*

### ÂüπËÆ≠

*Âú®**Â≠¶‰π†**[10]‰∏≠Êü•ÁúãÊâÄÊúâÊºîÁ§∫ÂíåÊïôÁ®ã*

### ÂÆâË£Ö

ÊÇ®ÂèØ‰ª•‰ªé**Habitat ‰∏ãËΩΩÈ°µÈù¢**[11]‰∏ãËΩΩ Habitat„ÄÇ

‰∏ãËΩΩÂêéÔºåËØ∑ÊåâÁÖßÈ°µÈù¢‰∏äÈíàÂØπÊÇ®ÁâπÂÆöÊìç‰ΩúÁ≥ªÁªüÁöÑËØ¥ÊòéËøõË°åÊìç‰Ωú„ÄÇ

Â¶ÇÊûúÊÇ®‰ΩøÁî®ÁöÑÊòØ macOS Âπ∂‰∏î‰ΩøÁî®**Homebrew**[12]ÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî®Êàë‰ª¨ÁöÑÂÆòÊñπ**Homebrew tap**[13]„ÄÇ

```
$ brew tap habitat-sh/habitat
$ brew install hab
```

Â¶ÇÊûúÊÇ®‰ΩøÁî®ÁöÑÊòØ Windows Âπ∂‰∏î‰ΩøÁî®**Chocolatey**[14]ÔºåÊÇ®ÂèØ‰ª•ÂÆâË£ÖÊàë‰ª¨ÁöÑ**chocolatey ÂåÖ**[15]„ÄÇ

```
C:\> choco install habitat
```

Â¶ÇÊûúÊÇ®‰∏çËøêË°å Homebrew Êàñ ChocolateyÔºåÊàñËÄÖÂ¶ÇÊûúÊÇ®‰ΩøÁî®ÁöÑÊòØ LinuxÔºåÊÇ®ÂèØ‰ª•‰ΩøÁî® Habitat ÁöÑ**install.sh**[16]Êàñ**install.ps1**[17]ËÑöÊú¨„ÄÇ

Bash:

```
$ curl https://raw.githubusercontent.com/habitat-sh/habitat/main/components/hab/install.sh | sudo bash
```

Powershell:

```
C:\> Set-ExecutionPolicy Bypass -Scope Process -Force
C:\> iex ((New-Object System.Net.WebClient).DownloadString('https://raw.githubusercontent.com/habitat-sh/habitat/main/components/hab/install.ps1'))
```

### Ë¥°ÁåÆ

Êàë‰ª¨‰∏ÄÁõ¥Âú®ÂØªÊâæÊõ¥Â§öÁ§æÂå∫ÂèÇ‰∏éÁöÑÊú∫‰ºö„ÄÇÊúâÂÖ¥Ë∂£Ë¥°ÁåÆÂêóÔºüËØ∑ÂèÇÈòÖÊàë‰ª¨ÁöÑ**CONTRIBUTING.md**[18]ÂºÄÂßãÔºÅ

### ÊñáÊ°£

‰ªé**Habitat ÊïôÁ®ã**[19]ÂºÄÂßãÔºåÊàñÊ∑±ÂÖ•**ÂÆåÊï¥ÊñáÊ°£**[20]„ÄÇ

### ‰ª£Á†ÅÁªÑÁªá

#### Ê†∏ÂøÉËÆ°Âàí

Áî± Habitat Ê†∏ÂøÉÂõ¢ÈòüÊûÑÂª∫ÂíåÁª¥Êä§ÁöÑ Habitat ËÆ°ÂàíÂú®**‰ªñ‰ª¨Ëá™Â∑±ÁöÑ‰ªìÂ∫ì**[21]‰∏≠„ÄÇ

#### Habitat Supervisor ÂíåÂÖ∂‰ªñÊ†∏ÂøÉÁªÑ‰ª∂

Habitat Supervisor ÂíåÂÖ∂‰ªñÊ†∏ÂøÉÁªÑ‰ª∂ÁöÑ‰ª£Á†Å‰Ωç‰∫é**ÁªÑ‰ª∂ÁõÆÂΩï**[22]„ÄÇ

#### ÊñáÊ°£

Habitat ÁöÑÁΩëÁ´ôÂíåÊñáÊ°£Ê∫ê‰ª£Á†Å‰Ωç‰∫é Habitat Ê∫ê‰ª£Á†ÅÁöÑ`www`ÁõÆÂΩï‰∏≠„ÄÇÊõ¥Â§ö‰ø°ÊÅØËØ∑ÂèÇÈòÖ**ÂÖ∂ README**[23]„ÄÇ

### Ë∑ØÁ∫øÂõæ

Habitat È°πÁõÆÁöÑË∑ØÁ∫øÂõæÊòØÂÖ¨ÂºÄÁöÑÔºå‰Ωç‰∫éÊàë‰ª¨ÁöÑ**Á§æÂå∫È°µÈù¢**[24]„ÄÇ

Habitat Ê†∏ÂøÉÂõ¢ÈòüÁöÑÈ°πÁõÆË∑üË∏™Âô®‰πüÊòØÂÖ¨ÂºÄÁöÑÔºå‰Ωç‰∫é**Github**[25]„ÄÇ

### Á§æÂå∫ÂíåÊîØÊåÅ

- **Chef Á§æÂå∫ Slack**[26]
- **ËÆ∫Âùõ**[27]
- Chef Á§æÂå∫‰ºöËÆÆÊØèÂë®Âõõ‰∏äÂçà 9 ÁÇπÔºàÂ§™Âπ≥Ê¥ãÊó∂Èó¥Ôºâ„ÄÇÊõ¥Â§ö‰ø°ÊÅØÂèØÂú®**Chef Á§æÂå∫**[28]ÁöÑËøûÊé•ÈÉ®ÂàÜÊâæÂà∞„ÄÇ

### ÊûÑÂª∫

ËØ∑ÂèÇÈòÖ**BUILDING.md**[29]Ôºå‰∫ÜËß£ÊúâÂÖ≥‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫ Habitat ÁöÑÁâπÂÆöÂπ≥Âè∞‰ø°ÊÅØ„ÄÇ

### Êú¨Âú∞ÂåÖ

ËØ∑ÂèÇÈòÖ**README.md**[30]Ôºå‰∫ÜËß£ÊúâÂÖ≥Êú¨Âú∞ÂåÖÁöÑ‰ø°ÊÅØ„ÄÇ

### Êõ¥Â§öÂèÇËÄÉËµÑÊñô

- **Rust ÁºñÁ®ãËØ≠Ë®Ä**[31]
- **Rust Á§∫‰æã**[32]
- **Bash ÁºñÁ®ãÂÖ•Èó®**[33]
- **È´òÁ∫ß Bash ËÑöÊú¨ÊåáÂçó**[34]
- **Bash Â§áÂøòÂçï**[35]
- **ÁºñÂÜôÂÅ•Â£ÆÁöÑ Bash Shell ËÑöÊú¨**[36]
- **Wikibook: Bourne Shell ËÑöÊú¨**[37]
- [test, [Âíå[**‰πãÈó¥ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü**[38]
- **POSIX Shell ÂëΩ‰ª§ËØ≠Ë®Ä**[39]

### Ë°å‰∏∫ÂáÜÂàô

Habitat Á§æÂå∫ÁöÑÂèÇ‰∏éÂèó**Ë°å‰∏∫ÂáÜÂàô**[40]ÁöÑÁ∫¶Êùü„ÄÇ

### ËÆ∏ÂèØ

ÁâàÊùÉÊâÄÊúâ (c) 2016 Chef Software Inc.Âèä/ÊàñÁõ∏ÂÖ≥Ë¥°ÁåÆËÄÖ

Ê†πÊçÆ Apache ËÆ∏ÂèØËØÅ 2.0 Áâà(‚ÄúËÆ∏ÂèØËØÅ‚Äù)ËÆ∏ÂèØÔºõÈô§ÈùûÁ¨¶ÂêàËÆ∏ÂèØËØÅËßÑÂÆöÔºåÂê¶ÂàôÊÇ®‰∏çÂæó‰ΩøÁî®Ê≠§Êñá‰ª∂„ÄÇÊÇ®ÂèØ‰ª•Âú®

```
 http://www.apache.org/licenses/LICENSE-2.0
```

Ëé∑ÂèñËÆ∏ÂèØËØÅÂâØÊú¨„ÄÇ

Èô§ÈùûÈÄÇÁî®Ê≥ïÂæãË¶ÅÊ±ÇÊàñ‰π¶Èù¢ÂêåÊÑèÔºåÂê¶ÂàôÊ†πÊçÆËÆ∏ÂèØËØÅÂàÜÂèëÁöÑËΩØ‰ª∂Êåâ‚ÄúÂéüÊ†∑‚ÄùÂàÜÂèëÔºå ‰∏çÈôÑÂ∏¶‰ªª‰ΩïÊòéÁ§∫ÊàñÊöóÁ§∫ÁöÑ‰øùËØÅ„ÄÇËØ∑ÂèÇÈòÖËÆ∏ÂèØËØÅÔºå‰∫ÜËß£ËÆ∏ÂèØËØÅ‰∏ãÁöÑÂÖ∑‰ΩìËØ≠Ë®ÄËßÑÂÆöÊùÉÈôêÂíåÈôêÂà∂„ÄÇ

### ÁªìËØ≠

Habitat ‰Ωú‰∏∫‰∏Ä‰∏™Áé∞‰ª£ÂåñÁöÑËá™Âä®ÂåñÂ∑•ÂÖ∑Ôºå‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∫ÜÂº∫Â§ßÁöÑÊîØÊåÅÔºå‰ΩøÂæóÂ∫îÁî®Á®ãÂ∫èÁöÑÊûÑÂª∫„ÄÅÈÉ®ÁΩ≤ÂíåÁÆ°ÁêÜÂèòÂæóÊõ¥Âä†È´òÊïàÂíåÂèØÈù†„ÄÇÊó†ËÆ∫ÊòØ‰∏™‰∫∫ÂºÄÂèëËÄÖËøòÊòØ‰ºÅ‰∏öÂõ¢ÈòüÔºåÈÉΩÂèØ‰ª•‰ªé Habitat ‰∏≠Ëé∑ÁõäÔºåÂä†ÈÄüÂºÄÂèëÊµÅÁ®ãÔºåÊèêÈ´òËΩØ‰ª∂Ë¥®Èáè„ÄÇÊé¢Á¥¢ HabitatÔºåËÆ©‰Ω†ÁöÑÂ∫îÁî®Á®ãÂ∫èÂºÄÂèë‰πãÊóÖÊõ¥Âä†È°∫ÁïÖ„ÄÇ

### ÂèÇËÄÉËµÑÊñô

[1] ÂÆòÁΩë: *http://habitat.sh#reference-diagram*

[2] Êû∂ÊûÑÊ¶ÇËßà: *https://github.com/habitat-sh/habitat/raw/main/images/habitat-architecture-overview.png*

[3] ÂàùÂßãÂåÖÊûÑÂª∫ÊµÅÁ®ã: *https://github.com/habitat-sh/habitat/raw/main/images/habitat-initial-package-build-flow.png*

[4] Â∫îÁî®ÈáçÂª∫ÊµÅÁ®ã: *https://github.com/habitat-sh/habitat/raw/main/images/habitat-application-rebuild-flow.png*

[5] ‰æùËµñÊõ¥Êñ∞ÊµÅÁ®ã: *https://github.com/habitat-sh/habitat/raw/main/images/habitat-dependency-update-flow.png*

[6] ÈÄöËøáÊ∏†ÈÅìÊé®ÂπøÂåÖ: *https://github.com/habitat-sh/habitat/raw/main/images/habitat-promote-packages-through-channels.png*

[7] ÂàùÂßã Docker ÂÆπÂô®ÂèëÂ∏ÉÊµÅÁ®ã: *https://github.com/habitat-sh/habitat/raw/main/images/habitat-initial-docker-container-publishing-flow.png*

[8] Ëá™Âä®Âåñ Docker ÂÆπÂô®ÂèëÂ∏ÉÊµÅÁ®ã: *https://github.com/habitat-sh/habitat/raw/main/images/habitat-automated-docker-container-publishing-flow.png*

[9] ÊñáÊ°£: *https://www.habitat.sh/docs/diagrams/*

[10] Â≠¶‰π†: *https://www.habitat.sh/learn/*

[11] Habitat ‰∏ãËΩΩÈ°µÈù¢: *https://docs.chef.io/habitat/install_habitat*

[12] Homebrew: *https://brew.sh*

[13] Homebrew tap: *https://github.com/habitat-sh/homebrew-habitat*

[14] Chocolatey: *https://chocolatey.org*

[15] chocolatey ÂåÖ: *https://chocolatey.org/packages/habitat*

[16] install.sh: *https://github.com/habitat-sh/habitat/blob/main/components/hab/install.sh*

[17] install.ps1: *https://github.com/habitat-sh/habitat/blob/main/components/hab/install.ps1*

[18] CONTRIBUTING.md: *CONTRIBUTING.md*

[19] Habitat ÊïôÁ®ã: *https://www.habitat.sh/learn/*

[20] ÂÆåÊï¥ÊñáÊ°£: *https://www.habitat.sh/docs/*

[21] ‰ªñ‰ª¨Ëá™Â∑±ÁöÑ‰ªìÂ∫ì: *https://github.com/habitat-sh/core-plans*

[22] ÁªÑ‰ª∂ÁõÆÂΩï: *https://github.com/habitat-sh/habitat/tree/main/components*

[23] ÂÖ∂ README: *www/README.md*

[24] Á§æÂå∫È°µÈù¢: *https://www.habitat.sh/community/*

[25] Github: *https://github.com/habitat-sh/habitat/projects/1*

[26] Chef Á§æÂå∫ Slack: *https://community-slack.chef.io/*

[27] ËÆ∫Âùõ: *https://forums.habitat.sh*

[28] Chef Á§æÂå∫: *https://community.chef.io/*

[29] BUILDING.md: *BUILDING.md*

[30] README.md: *https://github.com/habitat-sh/habitat/blob/main/components/hab/src/command/studio/README.md*

[31] Rust ÁºñÁ®ãËØ≠Ë®Ä: *http://doc.rust-lang.org/book/*

[32] Rust Á§∫‰æã: *http://rustbyexample.com/*

[33] Bash ÁºñÁ®ãÂÖ•Èó®: *http://tldp.org/HOWTO/Bash-Prog-Intro-HOWTO.html*

[34] È´òÁ∫ß Bash ËÑöÊú¨ÊåáÂçó: *http://www.tldp.org/LDP/abs/html/*

[35] Bash Â§áÂøòÂçï: *http://tldp.org/LDP/abs/html/refcards.html*

[36] ÁºñÂÜôÂÅ•Â£ÆÁöÑ Bash Shell ËÑöÊú¨: *http://www.davidpashley.com/articles/writing-robust-shell-scripts/*

[37] Wikibook: Bourne Shell ËÑöÊú¨: *https://en.wikibooks.org/wiki/Bourne_Shell_Scripting*

[38] test, [Âíå[[‰πãÈó¥ÁöÑÂå∫Âà´ÊòØ‰ªÄ‰πàÔºü: *http://mywiki.wooledge.org/BashFAQ/031*

[39] POSIX Shell ÂëΩ‰ª§ËØ≠Ë®Ä: *http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html*

[40] Ë°å‰∏∫ÂáÜÂàô: *https://github.com/habitat-sh/habitat/blob/main/CODE_OF_CONDUCT.md*

## AutopyÔºöPython Âíå Rust Ë∑®Âπ≥Âè∞ GUI Ëá™Âä®ÂåñÊìç‰ΩúÂ∫ì

**È°πÁõÆÂú∞ÂùÄ**Ôºöhttps://github.com/autopilot-rs/autopy

### ‰ªÄ‰πàÊòØ autopy

autopy ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ„ÄÅË∑®Âπ≥Âè∞ÁöÑ Python Âíå Rust GUI Ëá™Âä®ÂåñÊ®°ÂùóÔºåÂÆÉÂèØ‰ª•Áî®Êù•Ê®°ÊãüÈº†Ê†áÂíåÈîÆÁõòÂä®‰ΩúÔºåÂÆûÁé∞Ëá™Âä®ÂåñÁöÑÁïåÈù¢Êìç‰Ωú„ÄÇautopy ÂèØ‰ª•Âú®Â§öÁßçÊìç‰ΩúÁ≥ªÁªü‰∏ä‰ΩøÁî®ÔºåÂåÖÊã¨ Windows„ÄÅMacOS Âíå LinuxÔºå‰∏∫ÂºÄÂèë‰∫∫ÂëòÊèê‰æõ‰∫Ü‰∏ÄÁßçÊñπ‰æøÁöÑÊñπÂºèÊù•ËøõË°å GUI Ëá™Âä®ÂåñÊµãËØïÂíåÂ∫îÁî®Á®ãÂ∫è‰∫§‰∫í„ÄÇ

### autopy ÁöÑ‰∏ªË¶ÅÁâπÊÄß

1. Ë∑®Âπ≥Âè∞ÊîØÊåÅÔºöautopy ÂèØ‰ª•Âú® Windows„ÄÅMacOS Âíå Linux Á≠âÂ§öÁßçÊìç‰ΩúÁ≥ªÁªü‰∏äËøêË°åÔºå‰∏çÂèóÊìç‰ΩúÁ≥ªÁªüÁöÑÈôêÂà∂Ôºå‰∏∫Áî®Êà∑Êèê‰æõ‰∫ÜÊõ¥Â§ßÁöÑÁÅµÊ¥ªÊÄßÂíå‰æøÂà©ÊÄß„ÄÇ
2. Èº†Ê†áÂíåÈîÆÁõòÊ®°ÊãüÔºöautopy ÂèØ‰ª•ÈÄöËøá‰ª£Á†ÅÊ®°ÊãüÈº†Ê†áÁßªÂä®„ÄÅÁÇπÂáªÂíåÈîÆÁõòËæìÂÖ•Á≠âÊìç‰ΩúÔºåÂÆûÁé∞Ëá™Âä®ÂåñÁöÑÁïåÈù¢Êìç‰Ωú„ÄÇËøôÂØπ‰∫éÈúÄË¶ÅËøõË°åÂ§ßÈáèÈáçÂ§çÊÄßÊìç‰ΩúÁöÑ‰ªªÂä°Êù•ËØ¥ÈùûÂ∏∏ÊúâÁî®ÔºåÂ¶ÇÁïåÈù¢ÊµãËØï„ÄÅÊï∞ÊçÆÂΩïÂÖ•Á≠â„ÄÇ
3. Â±èÂπïÊà™ÂõæÂíåÂÉèÁ¥†Êìç‰ΩúÔºöautopy ÂèØ‰ª•ÂØπÂ±èÂπïËøõË°åÊà™ÂõæÔºåÂπ∂‰∏îÂèØ‰ª•ÂØπÊà™ÂõæËøõË°åÂÉèÁ¥†Á∫ßÁöÑÊìç‰ΩúÔºåÂ¶ÇÂÉèÁ¥†ÁÇπÁöÑËØªÂèñ„ÄÅÈ¢úËâ≤ÂÄºËÆæÁΩÆÁ≠âÔºå‰∏∫Áî®Êà∑Êèê‰æõ‰∫ÜÂØπÂ±èÂπïËøõË°åÁ≤æÁªÜÊìç‰ΩúÁöÑËÉΩÂäõ„ÄÇ
4. Á™óÂè£ÊéßÂà∂Ôºöautopy ÂèØ‰ª•ÊéßÂà∂Á™óÂè£ÁöÑ‰ΩçÁΩÆ„ÄÅÂ§ßÂ∞èÂíåÁä∂ÊÄÅÔºåÂÆûÁé∞ÂØπÁ™óÂè£ÁöÑËá™Âä®ÂåñÁÆ°ÁêÜÔºåÂ¶ÇÊúÄÂ§ßÂåñ„ÄÅÊúÄÂ∞èÂåñ„ÄÅÁΩÆÈ°∂Á≠âÊìç‰Ωú„ÄÇ
5. ÊîØÊåÅ Python Âíå RustÔºöautopy Êèê‰æõ‰∫Ü Python Âíå Rust ‰∏§ÁßçËØ≠Ë®ÄÁöÑÊé•Âè£ÔºåÁî®Êà∑ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÂÅèÂ•ΩÂíåÈúÄÊ±ÇÈÄâÊã©‰ΩøÁî®Âì™ÁßçËØ≠Ë®ÄËøõË°åËá™Âä®ÂåñÊìç‰Ωú„ÄÇ

### autopy ÁöÑÂÆâË£ÖÂíå‰ΩøÁî®

1. ÂÆâË£Ö Python Âíå RustÔºöÂú®‰ΩøÁî® autopy ‰πãÂâçÔºåÈúÄË¶ÅÂÖàÂÆâË£Ö Python Âíå Rust ÁöÑÂºÄÂèëÁéØÂ¢ÉÔºåÂèØ‰ª•‰ªéÂÆòÊñπÁΩëÁ´ô‰∏ãËΩΩÂπ∂ÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Python Âíå Rust„ÄÇ

2. ÂÆâË£Ö autopy Ê®°ÂùóÔºöÂú®ÂÆâË£ÖÂ•Ω Python Âíå Rust ÂºÄÂèëÁéØÂ¢ÉÂêéÔºåÂèØ‰ª•ÈÄöËøá pip Êàñ Cargo Á≠âÂåÖÁÆ°ÁêÜÂ∑•ÂÖ∑ÂÆâË£Ö autopy Ê®°ÂùóÔºåÂëΩ‰ª§Â¶Ç‰∏ãÔºö

   ```bash
   pip install autopy
   ```

   Êàñ

   ```
   cargo install autopybash
   ```

3. ‰ΩøÁî® autopyÔºöÂú®ÂÆâË£ÖÂ•Ω autopy Ê®°ÂùóÂêéÔºåÂèØ‰ª•ÈÄöËøá import ÂëΩ‰ª§Âú® Python Êàñ Rust ‰∏≠ÂºïÂÖ• autopy Ê®°ÂùóÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÂºÄÂßã‰ΩøÁî® autopy ËøõË°åÈº†Ê†áÂíåÈîÆÁõòÁöÑÊ®°ÊãüÊìç‰Ωú‰∫Ü„ÄÇ

   ```python
   import autopy
   autopy.mouse.move(100, 100)  # Â∞ÜÈº†Ê†áÁßªÂä®Âà∞Â±èÂπïÂùêÊ†á(100, 100)ÁöÑ‰ΩçÁΩÆ
   autopy.mouse.click()  # Ê®°ÊãüÈº†Ê†áÁÇπÂáªÊìç‰Ωú
   autopy.key.type_string('Hello, autopy!')  # Ê®°ÊãüÈîÆÁõòËæìÂÖ•Â≠óÁ¨¶‰∏≤
   ```

![ÂõæÁâá](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/640-1714235339031-434.webp)

### autopy ÁöÑÂ∫îÁî®Âú∫ÊôØ

1. Ëá™Âä®ÂåñÊµãËØïÔºöautopy ÂèØ‰ª•Áî®‰∫éËá™Âä®ÂåñÊµãËØïÔºåÂØπÁïåÈù¢ËøõË°åËá™Âä®ÂåñÊìç‰ΩúÂπ∂ËøõË°åÊµãËØïÁî®‰æãÁöÑÁºñÂÜôÂíåÊâßË°åÔºåËäÇÁúÅÂ§ßÈáèÁöÑÊµãËØïÊó∂Èó¥Âíå‰∫∫ÂäõÊàêÊú¨„ÄÇ
2. Êï∞ÊçÆÂΩïÂÖ•Ôºöautopy ÂèØ‰ª•Áî®‰∫éÊ®°Êãü‰∫∫Â∑•ËøõË°åÊï∞ÊçÆÂΩïÂÖ•Êìç‰ΩúÔºåÂØπ‰∫éÈúÄË¶ÅÂ§ßÈáèÈáçÂ§çÊÄßËæìÂÖ•ÁöÑ‰ªªÂä°Êù•ËØ¥ÈùûÂ∏∏ÂÆûÁî®„ÄÇ
3. Â±èÂπïÊìç‰ΩúÔºöautopy ÂèØ‰ª•ÂØπÂ±èÂπïËøõË°åÊà™Âõæ„ÄÅÂÉèÁ¥†Á∫ßÊìç‰ΩúÁ≠âÔºåÁî®‰∫éÂÆûÁé∞‰∏Ä‰∫õÁâπÊÆäÁöÑÂ±èÂπïÊìç‰ΩúÈúÄÊ±Ç„ÄÇ
4. ÁïåÈù¢‰∫§‰∫íÔºöautopy ÂèØ‰ª•Ê®°ÊãüÁî®Êà∑ËøõË°åÁïåÈù¢Êìç‰ΩúÔºåÁî®‰∫é‰∏Ä‰∫õÈúÄË¶ÅËá™Âä®ÂåñËøõË°åÁïåÈù¢Êìç‰ΩúÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠„ÄÇ

### autopy ÁöÑÂèëÂ±ïÂíåÂ±ïÊúõ

autopy ‰Ωú‰∏∫‰∏Ä‰∏™Ë∑®Âπ≥Âè∞ÁöÑ GUI Ëá™Âä®ÂåñÊ®°ÂùóÔºå‰∏∫ Python Âíå Rust ÂºÄÂèë‰∫∫ÂëòÊèê‰æõ‰∫Ü‰∏ÄÁßçÊñπ‰æø„ÄÅÁÅµÊ¥ªÁöÑÊñπÂºèÊù•ËøõË°åÁïåÈù¢Ëá™Âä®ÂåñÊìç‰Ωú„ÄÇÈöèÁùÄËá™Âä®ÂåñÊäÄÊúØÁöÑ‰∏çÊñ≠ÂèëÂ±ïÔºåautopy ‰πüÂ∞ÜÁªßÁª≠ÂÆåÂñÑÂíåÊâ©Â±ïÔºå‰∏∫Áî®Êà∑Êèê‰æõÊõ¥Â§öÊõ¥Âº∫Â§ßÁöÑÂäüËÉΩÂíåÊé•Âè£ÔºåÊª°Ë∂≥‰∏çÂêåÂú∫ÊôØ‰∏ãÁöÑËá™Âä®ÂåñÈúÄÊ±Ç„ÄÇ

ÊÄª‰πãÔºåautopy ‰Ωú‰∏∫‰∏Ä‰∏™ÁÆÄÂçïÊòìÁî®„ÄÅÂäüËÉΩÂº∫Â§ßÁöÑ GUI Ëá™Âä®ÂåñÊ®°ÂùóÔºåÂ∞Ü‰ºöÂú®Êú™Êù•ÁöÑËΩØ‰ª∂ÂºÄÂèëÂíåÊµãËØïÈ¢ÜÂüüÊâÆÊºîÁùÄË∂äÊù•Ë∂äÈáçË¶ÅÁöÑËßíËâ≤Ôºå‰∏∫Áî®Êà∑Êèê‰æõÊõ¥Â•ΩÁöÑËá™Âä®ÂåñËß£ÂÜ≥ÊñπÊ°à„ÄÇ

# HTTP

## reqwest ËØ∑Ê±ÇÂ∫ì

ÂæÖÂÆöÔºö[Rust Áà±Â•ΩËÄÖÁúãËøáÊù•Ôºå‰∏ÄÊñáÂ∏¶‰Ω†ÊéåÊè° HTTP ËØ∑Ê±ÇÁ•ûÂô® reqwest (qq.com)](https://mp.weixin.qq.com/s/nzmot6nSpR_LGCWtnVuEAQ)

### ÂºïË®Ä

Âú® Rust ÁîüÊÄÅ‰∏≠Ôºåreqwest ÂèØ‰ª•ËØ¥ÊòØÊúÄÊµÅË°åÁöÑ HTTP ÂÆ¢Êà∑Á´ØÂ∫ì‰∫Ü„ÄÇÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™È´òÂ±ÇÁ∫ßÁöÑ„ÄÅ‰∫∫ÊÄßÂåñÁöÑ APIÔºåËÆ©Êàë‰ª¨ÂèØ‰ª•ÈùûÂ∏∏ËΩªÊùæÂú∞ÂèëÈÄÅÂêÑÁßç HTTP ËØ∑Ê±ÇÂíåÂ§ÑÁêÜÂìçÂ∫î„ÄÇÊó†ËÆ∫ÊòØ quickstart„ÄÅËá™ÂÆö‰πâËØ∑Ê±ÇÂ§¥„ÄÅcookie ÁÆ°ÁêÜÔºåËøòÊòØÊñá‰ª∂‰∏ä‰º†Ôºåreqwest ÈÉΩËÉΩÂ∏ÆÊàë‰ª¨‰ºòÈõÖÂú∞ÊêûÂÆö„ÄÇ

### ÂèÇËÄÉÊñáÁ´†

- reqwest ÂÆòÊñπÊñáÊ°£Ôºöhttps://docs.rs/reqwest
- reqwest Ê∫êÁ†ÅÔºöhttps://github.com/seanmonstar/reqwest

### Âàõ‰ΩúËÉåÊôØ

‰πãÂâçÁªôÂ§ßÂÆ∂ÂàÜ‰∫´Ëøá Python ÁöÑ requests Â∫ìÔºåÊÑüËßâÁî®Ëµ∑Êù•ÈùûÂ∏∏Êñπ‰æø„ÄÇÊúÄËøëÂú®‰ΩøÁî® RustÔºåÂèëÁé∞ÂÆÉÁöÑ reqwest Â∫ì‰πüÂêåÊ†∑Âº∫Â§ßÔºå‰∫éÊòØÂ∞±ÊÉ≥Ê∑±ÂÖ•Á†îÁ©∂‰∏Ä‰∏ãÔºåÁªôÂ§ßÂÆ∂ÂÅö‰∏™‰ªãÁªç„ÄÇ

reqwest ÁõÆÂâçÊúÄÊñ∞ÁâàÊú¨ÊòØ 0.11.27ÔºåÂú® Cargo.toml ‰∏≠Ê∑ªÂä†Â¶Ç‰∏ã‰æùËµñÂç≥ÂèØ‰ΩøÁî®Ôºö

```bash
[dependencies]
# reqwest ÊòØ‰∏Ä‰∏™Âº∫Â§ßÁöÑ Rust HTTP ÂÆ¢Êà∑Á´ØÂ∫ì
# ÈÄöËøáÊåáÂÆö features Êù•ÂêØÁî® json ÁâπÊÄß
reqwest = { version = "0.11", features = ["json"] }

# tokio ÊòØ‰∏Ä‰∏™‰∫ã‰ª∂È©±Âä®ÁöÑÂºÇÊ≠• Rust ËøêË°åÊó∂
# ÈÄöËøáÊåáÂÆö features ‰∏∫ full Êù•ÂêØÁî®ÊâÄÊúâÂäüËÉΩ
tokio = { version = "1", features = ["full"] }
```

### ‰∏ªË¶ÅÁâπÊÄß

ÈÄöËøáÊü•ÈòÖ reqwest ÁöÑÊñáÊ°£ÂíåÊ∫êÁ†ÅÔºåÊàëÂèëÁé∞ÂÆÉ‰∏ªË¶ÅÊúâ‰ª•‰∏ãÁâπÊÄßÔºö

1. ÊîØÊåÅÂºÇÊ≠•ÂíåÈòªÂ°û‰∏§ÁßçÂÆ¢Êà∑Á´Ø
2. ÂèØ‰ª•ÂèëÈÄÅÁ∫ØÊñáÊú¨„ÄÅJSON„ÄÅË°®Âçï„ÄÅÂ§öÈÉ®ÂàÜÁ≠âÂ§öÁßçÁ±ªÂûãÁöÑËØ∑Ê±Ç‰Ωì
3. Ëá™ÂÆö‰πâÈáçÂÆöÂêëÁ≠ñÁï•
4. ÊîØÊåÅ HTTP ‰ª£ÁêÜ
5. ÈªòËÆ§ÈÄöËøáÁ≥ªÁªüÂéüÁîü TLS ÂÆûÁé∞ HTTPSÔºà‰πüÂèØÈÄâÊã© rustlsÔºâ
6. ÂÜÖÁΩÆ Cookie ÁÆ°ÁêÜ
7. ÊîØÊåÅ WASM

ÊÑüËßâÈùûÂ∏∏Âº∫Â§ßÔºå‰∏ãÈù¢Êàë‰ª¨Â∞±Áî®Âá†‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÂø´ÈÄü‰∏äÊâãËøô‰∏™Â∫ìÔºÅ

### Âø´ÈÄü‰∏äÊâã

#### ÂèëÈÄÅ‰∏Ä‰∏™ GET ËØ∑Ê±Ç

È¶ñÂÖàÊù•Áúã‰∏Ä‰∏™ÊúÄÁÆÄÂçïÁöÑ GET ËØ∑Ê±ÇÔºåËÆøÈóÆ httpbin.org/ip Êé•Âè£Ëé∑ÂèñÊú¨Êú∫ IPÔºö

```rust
use std::collections::HashMap;

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    // ÂèëÈÄÅ GET ËØ∑Ê±Ç
    let resp = reqwest::get("https://httpbin.org/ip").await?;

    // Ëß£ÊûêÂìçÂ∫îÁöÑ JSON Êï∞ÊçÆ
    let ip = resp.json::<HashMap<String, String>>().await?;
    println!("ÊàëÁöÑ IP ÊòØÔºö{:#?}", ip);

    Ok(())
}
```

ËøôÊÆµ‰ª£Á†Å‰∏≠Ôºö

1. ÈÄöËøá reqwest::get ÂèëÈÄÅ‰∏Ä‰∏™ GET ËØ∑Ê±Ç
2. ÈÄöËøá resp.json() Â∞ÜÂìçÂ∫îËß£Êûê‰∏∫ HashMap
3. ÊâìÂç∞Âá∫Ëß£ÊûêÂêéÁöÑÁªìÊûú

ËøêË°åÂêéËæìÂá∫Ôºö

```bash
ÊàëÁöÑ IP ÊòØÔºö
{
    "origin": "101.68.212.78"
}
```

ÊòØ‰∏çÊòØÈùûÂ∏∏ÁÆÄÂçïÂë¢Ôºü

#### ÂèëÈÄÅ POST Ë°®ÂçïËØ∑Ê±Ç

Êàë‰ª¨ÂÜçÊù•ËØïËØï POST ËØ∑Ê±Ç„ÄÇÊØîÂ¶ÇÁî® reqwest Êèê‰∫§‰∏Ä‰∏™ÁôªÂΩïË°®ÂçïÔºö

```rust
// tokio::main ÂÆèÊ†áËÆ∞ main ÂáΩÊï∞‰∏∫ÂºÇÊ≠•ÂáΩÊï∞ÁöÑÂÖ•Âè£ÁÇπ
#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    // Ë∞ÉÁî®ÂºÇÊ≠•ÁöÑ login ÂáΩÊï∞Ôºå‰º†ÂÖ•Áî®Êà∑ÂêçÂíåÂØÜÁ†Å
    // ‰ΩøÁî® ? ËøêÁÆóÁ¨¶Â§ÑÁêÜÂèØËÉΩÂá∫Áé∞ÁöÑÈîôËØØ
    login("albert", "king").await?;
    Ok(())
}

// ÂÆö‰πâ‰∏Ä‰∏™ÂºÇÊ≠•ÂáΩÊï∞ loginÔºåÁî®‰∫éÊ®°ÊãüÁôªÂΩïÂäüËÉΩ
// Êé•Êî∂Áî®Êà∑ÂêçÂíåÂØÜÁ†Å‰Ωú‰∏∫ÂèÇÊï∞
// ËøîÂõû ResultÔºåOk ‰∏∫ ()ÔºåErr ‰∏∫ Box<dyn std::error::Error>
async fn login(name: &str, password: &str) -> Result<(), Box<dyn std::error::Error>> {
    // ÂàõÂª∫‰∏Ä‰∏™ HTTP ÂÆ¢Êà∑Á´Ø
    let client = reqwest::Client::new();

    // ÂÆö‰πâË°®ÂçïÂèÇÊï∞Ôºå‰∏Ä‰∏™ tuple Êï∞ÁªÑ
    // ÂàÜÂà´ËÆæÁΩÆ name Âíå password Â≠óÊÆµ
    let params = [("name", name), ("password", password)];

    // ÂèëÈÄÅ POST ÁôªÂΩïËØ∑Ê±Ç
    let resp = client.post("https://example.com/login") // ËÆæÁΩÆËØ∑Ê±Ç URL
        .form(&params) // ËÆæÁΩÆË°®ÂçïÂèÇÊï∞
        .send() // ÂèëÈÄÅËØ∑Ê±Ç
        .await?; // Á≠âÂæÖËØ∑Ê±ÇÂÆåÊàêÔºå‰ΩøÁî® ? Â§ÑÁêÜÂèØËÉΩÁöÑÈîôËØØ

    // ÊâìÂç∞ÁôªÂΩïËØ∑Ê±ÇÁöÑÂìçÂ∫îÁä∂ÊÄÅÁ†Å
    println!("ÁôªÂΩïÂÆåÊàê,Áä∂ÊÄÅÁ†ÅÔºö{}", resp.status());

    // ËøîÂõû Ok
    Ok(())
}
```

ËøôÊÆµ‰ª£Á†Å‰∏ªË¶ÅÊ∂âÂèäÂà∞‰ª•‰∏ãÂá†ÁÇπÔºö

1. \#[tokio::main] ÂÆèÂ∞Ü main ÂáΩÊï∞Ê†áËÆ∞‰∏∫ÂºÇÊ≠•ËøêË°åÊó∂ÁöÑÂÖ•Âè£ÁÇπ
2. login ÊòØ‰∏Ä‰∏™ÂºÇÊ≠•ÂáΩÊï∞,‰ΩøÁî® async fn ÂÆö‰πâ
3. reqwest::Client Áî®‰∫éÂàõÂª∫‰∏Ä‰∏™ HTTP ÂÆ¢Êà∑Á´Ø
4. client.post(url) ÂèëËµ∑ POST ËØ∑Ê±Ç
5. .form(&params) ËÆæÁΩÆË°®ÂçïÂèÇÊï∞
6. .send().await ÂèëÈÄÅËØ∑Ê±ÇÂπ∂Á≠âÂæÖÂìçÂ∫î
7. ? Áî®‰∫éÂ§ÑÁêÜ Result ‰∏≠ÁöÑÈîôËØØ
8. resp.status() Ëé∑ÂèñÂìçÂ∫îÁöÑÁä∂ÊÄÅÁ†Å

ËøêË°åÂêéËæìÂá∫Ôºö

```bash
ÁôªÂΩïÂÆåÊàêÔºåÁä∂ÊÄÅÁ†ÅÔºö404 Not Found
```

ÈÄöËøá client.post("url").form(&params).send() Â∞±ÂèØ‰ª•ËΩªÊùæÊèê‰∫§Ë°®Âçï‰∫ÜÔºåÊòØ‰∏çÊòØÂæà‰ºòÈõÖÔºü

### ÊÄªÁªì

ÈÄöËøá‰∏äÈù¢ÁöÑ‰ªãÁªçÂíåÊ°à‰æãÔºåÁõ∏‰ø°Â§ßÂÆ∂Â∑≤ÁªèÊÑüÂèóÂà∞‰∫Ü reqwest ÁöÑÂº∫Â§ß‰∫Ü„ÄÇÂÆÉÁÆÄÂçïÊòìÁî®ÔºåÂäüËÉΩÂº∫Â§ßÔºåÂú® Rust ÁöÑ HTTP ÂÆ¢Êà∑Á´Ø‰∏≠ÂèØ‰ª•ËØ¥ÊòØÈ¶ñÈÄâ„ÄÇÂ¶ÇÊûú‰Ω†‰πüÂú®Â≠¶‰π† RustÔºå‰∏çÂ¶®ËØïËØï reqwestÔºåÁõ∏‰ø°‰∏ÄÂÆö‰ºöÁªô‰Ω†ÊÉäÂñú„ÄÇ

> Âª∫ËÆÆÈÄöËøáËøêË°åÁõ∏ÂÖ≥Ê°à‰æãÂ≠¶‰π†„ÄÇÊ°à‰æãÂú® reqwest ‰ªìÂ∫ì‰∏≠ÁöÑ examples Êñá‰ª∂Â§π‰∏ã

# Êï∞ÊçÆÂ∫ìÊìç‰Ωú

## SQLite Êìç‰ΩúÂ∫ì Rusqlite

### ÊñáÊ°£

Rusqlite Repo: https://github.com/rusqlite/rusqlite

Rusqlite ÊñáÊ°£: https://lib.rs/crates/rusqlite

### ÂºïË®Ä

‰Ω†ÊòØÂê¶ËøòÂú®‰∏∫ Rust È°πÁõÆ‰∏≠‰ΩøÁî® SQLite Êï∞ÊçÆÂ∫ìËÄåÂèëÊÑÅÔºüËøòÂú®‰∏∫ÂÖ∂ÁπÅÁêêÁöÑ API ÂíåÈÖçÁΩÆËÄåÂ§¥ÁñºÔºüÊú¨ÊñáÂ∞Ü‰∏∫Â§ßÂÆ∂‰ªãÁªç‰∏Ä‰∏™ Rust ËØ≠Ë®ÄÊìç‰Ωú SQLite ÁöÑÊñ∞ÈÄâÊã©ÔºöRusqlite„ÄÇRusqlite Êèê‰æõ‰∫ÜÁÆÄÊ¥Å„ÄÅÊòìÁî®‰∏îÈ´òÊïàÁöÑ APIÔºå‰ΩøÂæó Rust ÂºÄÂèëËÄÖËÉΩÂ§üËΩªÊùæÂú∞Âú®È°πÁõÆ‰∏≠‰ΩøÁî® SQLite Êï∞ÊçÆÂ∫ì„ÄÇ

### Âàõ‰ΩúËÉåÊôØ

SQLite ÊòØ‰∏ÄÊ¨æËΩªÈáèÁ∫ß„ÄÅÂµåÂÖ•ÂºèÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÂºïÊìéÔºåÂõ†ÂÖ∂ÁÆÄÂçï„ÄÅÈ´òÊïà„ÄÅÂèØÈù†Á≠âÁâπÁÇπÔºåÂú®ÂêÑÁßçÁ±ªÂûãÁöÑËΩØ‰ª∂ÂºÄÂèë‰∏≠ÂæóÂà∞‰∫ÜÂπøÊ≥õÂ∫îÁî®„ÄÇËÄå Rust ‰Ωú‰∏∫ËøëÂπ¥Êù•Â§áÂèóÂÖ≥Ê≥®ÁöÑÁ≥ªÁªüÁ∫ßÁºñÁ®ãËØ≠Ë®ÄÔºå‰ª•ÂÖ∂‰ºòÁßÄÁöÑÊÄßËÉΩÂíåÂÜÖÂ≠òÂÆâÂÖ®ÊÄßÔºåÂú®Á≥ªÁªüËΩØ‰ª∂„ÄÅÂµåÂÖ•ÂºèÂºÄÂèë„ÄÅWebAssembly Á≠âÈ¢ÜÂüüÊÑàÂèëÂèóÂà∞Ê¨¢Ëøé„ÄÇ

ÁÑ∂ËÄåÔºåRust Âú® SQLite Êï∞ÊçÆÂ∫ìÊìç‰ΩúÊñπÈù¢‰∏ÄÁõ¥Áº∫‰πè‰∏Ä‰∏™Ë∂≥Â§üÁÆÄÊ¥ÅÊòìÁî®„ÄÅÂêåÊó∂ÂèàËÉΩ‰øùËØÅÂèØÈù†ÊÄßÂíåÁÅµÊ¥ªÊÄßÁöÑÊàêÁÜüÂ∫ì„ÄÇRusqlite È°πÁõÆÁöÑÂá∫Áé∞ÔºåÊ≠£Â•ΩÂ°´Ë°•‰∫ÜËøô‰∏ÄÁ©∫ÁôΩÔºå‰∏∫ Rust ÂºÄÂèëËÄÖÂ∏¶Êù•‰∫Ü‰∏Ä‰∏™È´òË¥®ÈáèÁöÑ SQLite Êìç‰ΩúÊñπÊ°à„ÄÇ

### ‰∏ªË¶ÅÁâπÊÄß

- Êèê‰æõÁ¨¶Âêà Rust ËØ≠Ë®Ä‰π†ÊÉØÁöÑ API Êé•Âè£
- ÊîØÊåÅÂü∫Êú¨ÁöÑÂ¢ûÂà†ÊîπÊü•Âíå‰∫ãÂä°Á≠âÊï∞ÊçÆÂ∫ìÊìç‰Ωú
- Êèê‰æõ Rust ÁªìÊûÑ‰Ωì‰∏éÊï∞ÊçÆÂ∫ìËÆ∞ÂΩïÊò†Â∞ÑÁöÑËÉΩÂäõ
- ÊîØÊåÅÂèØÊâ©Â±ïÁöÑËá™ÂÆö‰πâÊï∞ÊçÆÁ±ªÂûã
- ÊîØÊåÅ SQLite Êâ©Â±ïÂä†ËΩΩ‰∏é‰ΩøÁî®
- ÊîØÊåÅËøûÊé•Ê±†
- ÊîØÊåÅ Bundled Ê®°ÂºèÔºåÊó†ÈúÄÈ¢ùÂ§ñÈÖçÁΩÆ SQLite Â∫ì

### Âø´ÈÄü‰∏äÊâã

Âú® `Cargo.toml` ‰∏≠Ê∑ªÂä†‰æùËµñ:

```
[dependencies]
rusqlite = "0.28.0"
```

‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊü•ËØ¢Á§∫‰æãÔºö

```rust
use rusqlite::{Connection, Result};

#[derive(Debug)]
struct Person {
    id: i32,
    name: String,
    age: i32,
}

fn main() -> Result<()> {
    // ÊâìÂºÄ‰∏Ä‰∏™ SQLite ÂÜÖÂ≠òÊï∞ÊçÆÂ∫ìËøûÊé•
    let conn = Connection::open_in_memory()?;

    // ÂàõÂª∫ person Ë°®
    conn.execute(
        "CREATE TABLE person (
            id    INTEGER PRIMARY KEY,
            name  TEXT NOT NULL,
            age   INTEGER
        )",
        (), // ÂèÇÊï∞‰∏∫Á©∫
    )?;

    // ÊèíÂÖ•Êï∞ÊçÆ
    conn.execute(
        "INSERT INTO person (name, age) VALUES (?1, ?2)",
        ("Alice", 18),
    )?;

    // Êü•ËØ¢Êï∞ÊçÆ
    let mut stmt = conn.prepare("SELECT id, name, age FROM person")?;
    let person_iter = stmt.query_map([], |row| {
        Ok(Person {
            id: row.get(0)?,
            name: row.get(1)?,
            age: row.get(2)?,
        })
    })?;

    // ËæìÂá∫Êü•ËØ¢ÁªìÊûú
    for person in person_iter {
        println!("Found person {:?}", person.unwrap());
    }

    Ok(())
}
```

ËæìÂá∫ÁªìÊûúÔºö

```bash
Found person Person { id: 1, name: "Alice", age: 18 }
```

### ÊÄªÁªì

Rusqlite ‰∏∫ Rust ÂºÄÂèëËÄÖÊìç‰Ωú SQLite Êï∞ÊçÆÂ∫ìÊèê‰æõ‰∫Ü‰∏ÄÁßçÁÆÄÂçïÈ´òÊïàÁöÑÊñπÂºè„ÄÇÂÖ∂ÂÄüÈâ¥‰∫ÜÂÖ∂‰ªñÊàêÁÜüÊï∞ÊçÆÂ∫ìÂ∫ìÁöÑ‰ºòÁÇπÔºåÊèê‰æõ‰∫ÜÁ¨¶Âêà Rust ËØ≠Ë®Ä‰π†ÊÉØÁöÑ API Êé•Âè£„ÄÇÁõÆÂâçÂ∑≤ÁªèÁõ∏ÂΩìÊàêÁÜüÂíåÂÆåÂñÑÔºåÂèØ‰ª•Âú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÊîæÂøÉ‰ΩøÁî®„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑ Rust È°πÁõÆ‰∏≠Êúâ SQLite Êï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥ÁöÑÈúÄÊ±ÇÔºå‰∏çÂ¶®Â∞ùËØï‰∏Ä‰∏ã RusqliteÔºåÁõ∏‰ø°ÂÆÉÂ∏¶Áªô‰Ω†ÁöÑÂºÄÂèë‰ΩìÈ™å‰ºöËÆ©‰Ω†Êª°ÊÑè„ÄÇ

## ReadySetÔºöÊñ∞‰∏Ä‰ª£ÁºìÂ≠òÁ•ûÂô® ÔºåÂä†Âø´‰∫ÜÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÂíåËØªÂèñËÉΩÂäõ

Âü∫‰∫é Rust ÂºÄÂèëÁöÑ ReadysetÔºåÊòØÊï∞ÊçÆÂ∫ìÁºìÂ≠òÂ±ÇËß£ÂÜ≥ÊñπÊ°àÔºå‰∏ªË¶ÅÊòØÂä†Âø´Êü•ËØ¢ÈÄüÂ∫¶ÂèäÂ¢ûÂº∫ËØªÂèñÊìç‰ΩúÁöÑÊ∞¥Âπ≥Êâ©Â±ïËÉΩÂäõ„ÄÇ

### Readyset ‰ªãÁªç

ReadySet ÂÆÉÊòØ Postgres Âíå MySQL ÁöÑÈÄèÊòéÊï∞ÊçÆÂ∫ìÁºìÂ≠òÔºåËÉΩÂ§üÊèê‰æõÂÜÖÂ≠òÈîÆÂÄºÂ≠òÂÇ®ÁöÑÊÄßËÉΩÂíåÂèØÊâ©Â±ïÊÄßÔºå‰∏çÈúÄË¶Å‰Ω†ÈáçÂÜôÂ∫îÁî®Á®ãÂ∫èÊàñÊâãÂä®Â§ÑÁêÜÁºìÂ≠òÂ§±Êïà„ÄÇ

ReadySet ËøòÂèØ‰ª•Â∞Ü‰Ω†ÁöÑÊúÄÂ§çÊùÇÁöÑ SQL ËØªÂèñËΩ¨Êç¢‰∏∫Èó™ÁîµËà¨ÁöÑÂø´ÈÄüÊü•ÊâæÔºå‰ΩøÁî®Êï∞ÊçÆÂ∫ìÁöÑÂ§çÂà∂ÊµÅËá™Âä®‰ΩøÁºìÂ≠òÁöÑÊü•ËØ¢ÁªìÊûú‰∏éÊï∞ÊçÆÂ∫ì‰øùÊåÅÂêåÊ≠•„ÄÇ

### Readyset ‰∏éÂÖ∂‰ªñÁºìÂ≠òÂå∫Âà´Ôºü

È¶ñÂÖàÔºåÂΩìÂ§ßÂÆ∂È°πÁõÆÊü•ËØ¢Âª∂ËøüÊ≠£Âú®ÈÄêÊ∏êÂ¢ûÂä†ÁöÑÊó∂ÂÄôÔºåÈÄöÂ∏∏‰ºöÊÉ≥Âà∞‰∏∫Â∫îÁî®Á®ãÂ∫èÁöÑÊü•ËØ¢Ê∑ªÂä†ÁºìÂ≠òÔºåÊù•ÂáèËΩªÊï∞ÊçÆÂ∫ìÂØπÈ¢ëÁπÅÂèëÂá∫ÂíåÈáçÂ∫¶Êü•ËØ¢ÁöÑË¥üÊãÖ„ÄÇËß£ÂÜ≥ÊñπÊ°àÔºåÂèØËÉΩ‰Ω†‰ºöËÄÉËôë‰ΩøÁî® Redis Êàñ Memcached Á≠âÂÜÖÂ≠òÈîÆÂÄºÂ≠òÂÇ®‰∫ÜÔºåÂÅöÂÜÖÂ≠òÁºìÂ≠òÁöÑÊ†áÂáÜÊñπÊ≥ïÔºå‰ΩÜÊòØËøôÁßçÊñπÊ°à‰ºöÁªôÂõ¢ÈòüÂ∏¶Êù•Ëøô‰∫õÈóÆÈ¢ò„ÄÇ

![image-20240605135002184](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135002184.png)

ÈóÆÈ¢ò1ÔºöÊï∞ÊçÆÊ®°Âûã‰∏çÂåπÈÖç

Âú®ÊûÑÂª∫Â∫îÁî®Êó∂Ôºå‰∏ÄËà¨‰ºöÁî®ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂíåÈªòËÆ§ÁöÑORMÔºåÂ¶ÇÊûúË¶ÅÂºïÂÖ•ÂÜÖÂ≠òÈîÆÂÄºÂ≠òÂÇ®Êù•ÊèêÈ´òÊÄßËÉΩÊó∂ÔºåËøôÊó∂ÂÄôÈóÆÈ¢òÂ∞±Êù•‰∫ÜÔºåÂèØËÉΩ‰ºöÂ¢ûÂä†‰∫Ü‰ª£Á†ÅÂ§çÊùÇÂ∫¶ÂíåÁª¥Êä§ÊàêÊú¨„ÄÇ

- Êï∞ÊçÆÊ®°Âûã‰∏çÂêåÔºöÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÁî®Ë°®ÂíåSQLÔºåÈîÆÂÄºÂ≠òÂÇ®ÊòØÁÆÄÂçïÁöÑÈîÆÂÄºÂØπ„ÄÇ
- ÈúÄË¶ÅÊâãÂä®ËΩ¨Êç¢Ôºö‰∏çËÉΩÈÄöËøáORM‰∏éÁºìÂ≠òÈÄö‰ø°ÔºåË¶ÅÂú®‰ª£Á†Å‰∏≠Ê∑ªÂä†ÈÄªËæëÊù•Â°´ÂÖÖÁºìÂ≠ò„ÄÇ
- Â¢ûÂä†ÊäÄÊúØÂÄ∫Âä°ÔºöÂºïÂÖ•ÁºìÂ≠ò‰Ωø‰ª£Á†ÅÂ§çÊùÇÔºåÂ∏¶Êù•ÊäÄÊúØÂÄ∫Âä°„ÄÇ

ÈóÆÈ¢ò 2ÔºöÊâãÂä®ÂêåÊ≠•‰∏§‰∏™Áã¨Á´ãÁöÑÊï∞ÊçÆÂ≠òÂÇ®ÁöÑÊåëÊàò

ÂÖ≥‰∫éÊâãÂä®ÂêåÊ≠•Êï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÊ∂âÊó∂Ôºå‰ºöÊ∂âÂèäÂà∞Êï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÅÁºìÂ≠òÂ§±ÊïàÁ≠ñÁï•„ÄÅÊÄßËÉΩÂíåÂÆûÁé∞Â§çÊùÇÊÄßÁ≠âÂ§öÈáçÊåëÊàò„ÄÇ

![image-20240605135023412](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135023412.png)

- **Êï∞ÊçÆÂêåÊ≠•ÈóÆÈ¢ò**ÔºöÁî®Êà∑Âú® Web Â∫îÁî®‰∏≠ÁöÑ‰∫§‰∫í‰ºöÂØºËá¥Êï∞ÊçÆÂ∫ìÊõ¥Êñ∞ÔºåËÄåÁºìÂ≠òÂèØËÉΩ‰ªçÁÑ∂ÂåÖÂê´ËøáÊó∂ÁöÑÊï∞ÊçÆÔºåÂØºËá¥‰∏ç‰∏ÄËá¥ÊÄß„ÄÇ
- **ÁºìÂ≠òÂ§±ÊïàÈöæÈ¢ò**ÔºöÈúÄË¶ÅËß£ÂÜ≥ÁºìÂ≠òÊï∞ÊçÆÂ¶Ç‰ΩïÈöèÁùÄÊï∞ÊçÆÂ∫ìÂèòÂåñËÄåÊõ¥Êñ∞ÁöÑÈóÆÈ¢ò„ÄÇ
- **TTLÊñπÊ≥ïÁöÑÂ±ÄÈôê**ÔºöËÆæÁΩÆÁºìÂ≠òÁöÑTTLÔºàÁîüÂ≠òÊó∂Èó¥ÔºâÂèØ‰ª•ÂÆöÊúüÊõ¥Êñ∞ÁºìÂ≠òÔºå‰ΩÜÂèØËÉΩÂØºËá¥Áî®Êà∑Á≠âÂæÖËæÉÈïøÊó∂Èó¥ÊâçËÉΩÁúãÂà∞Êñ∞Êï∞ÊçÆÔºåÂêåÊó∂Â¢ûÂä†‰∫ÜÊï∞ÊçÆÂ∫ìÊü•ËØ¢ÈáèÔºåÈôç‰Ωé‰∫ÜÁºìÂ≠òÊïàÁéá„ÄÇ
- **ÁºìÂ≠òÂëΩ‰∏≠ÁéáÂíåÊÄßËÉΩÈóÆÈ¢ò**ÔºöÈ¢ëÁπÅÊõ¥Êñ∞ÁºìÂ≠òÊù°ÁõÆ‰ª•‰øùÊåÅÊï∞ÊçÆÊñ∞È≤úÂ∫¶‰ºöÈôç‰ΩéÁºìÂ≠òÂëΩ‰∏≠ÁéáÔºåÂΩ±ÂìçÊÄßËÉΩ„ÄÇ
- **Â§çÊùÇÁöÑÁºìÂ≠òÂ§±ÊïàÁ≠ñÁï•**ÔºöÂèØËÉΩÈúÄË¶ÅÊâãÂä®Âú®Â∫îÁî®‰ª£Á†Å‰∏≠Ê∑ªÂä†ÈÄªËæëÊù•Â§ÑÁêÜÁºìÂ≠òÊù°ÁõÆÁöÑÂà†Èô§ÂíåÈáçÊñ∞ËÆ°ÁÆóÔºåËøôÂ¢ûÂä†‰∫ÜÂÆûÁé∞Â§çÊùÇÊÄß„ÄÇ
- **ËøΩË∏™Êï∞ÊçÆÊù•Ê∫êÁöÑÂõ∞Èöæ**ÔºöÂØπ‰∫éÂ§çÊùÇÁöÑÊü•ËØ¢ÔºåÁ°ÆÂÆöÂì™‰∫õÁºìÂ≠òÊù°ÁõÆÈúÄË¶ÅÊõ¥Êñ∞ÊòØ‰∏ÄÈ°πÂõ∞Èöæ‰∏îÂÆπÊòìÂá∫ÈîôÁöÑ‰ªªÂä°ÔºåÂ∞§ÂÖ∂ÊòØÂΩì‰ΩøÁî®ORMÊó∂ÔºåÂÖ∑‰ΩìÁöÑÊü•ËØ¢ÁªÜËäÇÂèØËÉΩ‰∏çÂ§üÊòéÁ°Æ„ÄÇ

### Readyset ÁöÑ‰∫ÆÁÇπ

ReadySet ÊòØ‰∏ÄÁßçÊñ∞ÂûãÊü•ËØ¢ÁºìÂ≠òÔºåÂÆÉ‰∏éÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂÖ±‰∫´Êï∞ÊçÆÊ®°ÂûãÔºåÊó†ÈúÄ‰ª£Á†ÅÊõ¥ÊîπÂç≥ÂèØËá™Âä®ÂêåÊ≠•ÔºåÊèê‰æõÈ´òÊÄßËÉΩ‰∏îÊó†ÈúÄÊãÖÂøÉÁºìÂ≠òÂ§±ÊïàÔºåÂæàÂ•ΩÁöÑËß£ÂÜ≥‰º†ÁªüÁöÑÁºìÂ≠òÈóÆÈ¢ò„ÄÇ

![image-20240605135047156](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135047156.png)

- **Ëá™Âä®ÂêåÊ≠•Êõ¥Êñ∞**ÔºöÂà©Áî®Êï∞ÊçÆÂ∫ìÂ§çÂà∂ÊµÅËá™Âä®Êõ¥Êñ∞ÁºìÂ≠òÔºåÊó†ÈúÄÊâãÂä®È©±ÈÄêÊàñÊü•ËØ¢„ÄÇ
- **ÁÆÄÊòìÁºìÂ≠òÈÖçÁΩÆ**Ôºö‰∏éÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂÖ±‰∫´Êï∞ÊçÆÊ®°ÂûãÔºåÈÄöËøá SQL ÂëΩ‰ª§ÊåáÂÆöÁºìÂ≠òÔºåÊó†ÈúÄ‰øÆÊîπ‰ª£Á†Å„ÄÇ
- **Â¢ûÈáèËßÜÂõæÁª¥Êä§**Ôºö‰ΩøÁî®Ëá™ÊúâÊü•ËØ¢ÂºïÊìéÔºåÂêéÂè∞Êõ¥Êñ∞ËøáÊó∂ÁªìÊûúÔºå‰∏çÂΩ±ÂìçÊÄßËÉΩ„ÄÇ

### ÂèÇËÄÉËµÑÊñôÔºö

- https://github.com/readysettech/readyset
- https://readyset.io/docs/demo

# Êï∞ÊçÆÂàÜÊûêÂ∫ì

## Polars

Âú®Êï∞ÊçÆÂàÜÊûêÈ¢ÜÂüüÔºåPandas ÂèØ‰ª•ËØ¥ÊòØ Python ÁîüÊÄÅ‰∏≠ÂΩì‰πãÊó†ÊÑßÁöÑÁéãËÄÖ„ÄÇÂÆÉ‰ª•ÂÖ∂Âº∫Â§ßÁöÑÂäüËÉΩÂíåÊòìÁî®ÁöÑ API È£éÈù°ÂÖ®ÁêÉ„ÄÇÁÑ∂ËÄåÔºåPandas ÁöÑÊÄßËÉΩ‰∏ÄÁõ¥È•±ÂèóËØüÁóÖÔºåÂ∞§ÂÖ∂Âú®Â§ÑÁêÜÂ§ßÂûãÊï∞ÊçÆÈõÜÊó∂ÔºåÈÄüÂ∫¶ÂíåÂÜÖÂ≠òÂç†Áî®ÈÉΩÊàê‰∫ÜÂà∂Á∫¶ÂÖ∂ÂèëÂ±ïÁöÑÁì∂È¢à„ÄÇ

ËøôÊó∂ÂÄôÔºåÁî® Rust ÁºñÂÜôÁöÑ Polars Èó™‰∫ÆÁôªÂú∫‰∫ÜÔºÅÂÆÉ‰ªéÂ§¥ËÆæËÆ°ÔºåÂÖÖÂàÜÂà©Áî®‰∫Ü Rust ËØ≠Ë®ÄÁöÑÊÄßËÉΩ‰ºòÂäøÔºåÂú®‰øùÊåÅÈ´òÊïàÁöÑÂêåÊó∂ÔºåËøòÊèê‰æõ‰∫Ü‰∏é Pandas Áõ∏‰ººÁöÑ APIÔºåËÆ©‰Ω†ËΩªÊùæ‰∏äÊâã„ÄÇÊù•ÁúãÁúã Polars ÁöÑÁã¨ÁâπÈ≠ÖÂäõÂêßÔºÅ

### ÂèÇËÄÉÊñáÁ´†

1. Polars Áî®Êà∑ÊåáÂçóÔºöhttps://docs.pola.rs/
2. Polars GitHub ‰ªìÂ∫ìÔºöhttps://github.com/pola-rs/polars
3. Polars.rs ÂÖ¨Âè∏‰ø°ÊÅØÔºöhttps://pola.rs/posts/company-announcement/

### ÂºÄÂèëËÉåÊôØ

Polars ÊúÄÂàùÁî± Ritchie Vink ÂºÄÂèëÔºå‰ªñÊòØ‰∏ÄÂêçÁªèÈ™å‰∏∞ÂØåÁöÑÊï∞ÊçÆÁßëÂ≠¶ÂÆ∂ÂíåËΩØ‰ª∂Â∑•Á®ãÂ∏à„ÄÇÂú®‰ΩøÁî® Pandas Â§öÂπ¥ÂêéÔºåRitchie ÊÑèËØÜÂà∞‰∫ÜÂÆÉÂú®Â§ÑÁêÜÂ§ßÂûãÊï∞ÊçÆÈõÜÊó∂ÁöÑÊÄßËÉΩÁì∂È¢à„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰ªñÂÜ≥ÂÆöÁî® Rust ‰ªéÂ§¥ÂºÄÂèë‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÊçÆÂ§ÑÁêÜÂ∫ìÔºåÂÖÖÂàÜÂà©Áî® Rust ÁöÑÈ´òÊÄßËÉΩÂíåÂÜÖÂ≠òÂÆâÂÖ®ÊÄß„ÄÇ

Ritchie Âú® 2020 Âπ¥ÂàùÂêØÂä®‰∫Ü Polars È°πÁõÆÔºåÊúÄÂàùÊòØ‰∏Ä‰∏™ÂÖºËÅåÈ°πÁõÆ„ÄÇ‰ΩÜÈöèÁùÄÈ°πÁõÆÁöÑ‰∏çÊñ≠ÊàêÁÜüÂíåÁ§æÂå∫ÁöÑÂÖ≥Ê≥®Ôºå‰ªñÂú® 2021 Âπ¥ÂºÄÂßãÂÖ®ËÅåÂºÄÂèë Polars„ÄÇÁõÆÂâçÔºåPolars Â∑≤ÁªèÊàê‰∏∫ Rust ÁîüÊÄÅ‰∏≠ÊúÄÊ¥ªË∑ÉÁöÑÈ°πÁõÆ‰πã‰∏ÄÔºåÂê∏Âºï‰∫Ü‰ºóÂ§öÂºÄÂèëËÄÖÁöÑË¥°ÁåÆ„ÄÇ

Ritchie ËøòÂàõÁ´ã‰∫Ü Pola.rs ÂÖ¨Âè∏ÔºåËá¥Âäõ‰∫é‰∏∫ Polars Êèê‰æõÂïÜ‰∏öÊîØÊåÅÂíåÂí®ËØ¢ÊúçÂä°ÔºåÂ∏ÆÂä©‰ºÅ‰∏öÂÆ¢Êà∑Ëß£ÂÜ≥Â§ßËßÑÊ®°Êï∞ÊçÆÂ§ÑÁêÜÁöÑÈöæÈ¢ò„ÄÇÁõÆÂâçÂÖ∂ÂÖ¨Âè∏Ê≠£Âú®ÊãõËÅò Rust Â∑•Á®ãÂ∏àÔºöhttps://hiring.pola.rs/o/rust-software-engineer

### ‰∏ªË¶ÅÁâπÊÄß

1. È´òÊÄßËÉΩÔºöÂÆåÂÖ®Áî® Rust ‰ªéÂ§¥ÁºñÂÜôÔºåÂèëÊå•Êú∫Âô®ÊÄßËÉΩÔºå‰∏îÊ≤°ÊúâÂ§ñÈÉ®‰æùËµñ„ÄÇ
2. Â§öÁßçÊé•Âè£ÔºöÊèê‰æõ Python„ÄÅNodeJS„ÄÅR Á≠âÂ§öËØ≠Ë®ÄÊé•Âè£ÔºåRust ÂºÄÂèëËÄÖÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®ÂéüÁîüÂ∫ì„ÄÇ
3. Á¨¶ÂêàÁõ¥ËßâÁöÑ APIÔºö‰ª•‰Ω†ÊÉ≥Ë¶ÅÁöÑÊñπÂºèÂÜôÊü•ËØ¢ÔºåPolars ‰ºöÂú®ÂÜÖÈÉ®ÈÄöËøáÊü•ËØ¢‰ºòÂåñÂô®ÊâæÂà∞ÊúÄÈ´òÊïàÁöÑÊâßË°åÊñπÂºè„ÄÇ
4. Ë∂ÖÂ§ßÊï∞ÊçÆÊîØÊåÅÔºöÊµÅÂºè API ÂèØ‰ª•ËÆ©‰Ω†Â§ÑÁêÜÂ§ß‰∫éÂÜÖÂ≠òÁöÑÊï∞ÊçÆÔºåÊó†ÈúÄ‰∏ÄÊ¨°ÊÄßÂÖ®ÈÉ®Âä†ËΩΩ„ÄÇ
5. Âπ∂Ë°åÔºöÊó†ÈúÄÈ¢ùÂ§ñÈÖçÁΩÆÔºåËá™Âä®Âà©Áî®ÂÖ®ÈÉ® CPU Ê†∏ÂøÉÔºåÂ∞ÜÂ∑•‰ΩúË¥üËΩΩÂàÜÈÖçÂà∞ÂèØÁî®ÁöÑ CPU ‰∏ä„ÄÇ
6. ÂêëÈáèÂåñÊü•ËØ¢ÂºïÊìéÔºö‰ΩøÁî® Apache Arrow ÂàóÂºèÂ≠òÂÇ®ÔºåËøõË°åÂêëÈáèÂåñÊü•ËØ¢Â§ÑÁêÜÔºåÂπ∂ÈÄöËøá SIMD ‰ºòÂåñ CPU Âà©Áî®Áéá„ÄÇ

### Âø´ÈÄü‰∏äÊâã

#### Python ‰ΩøÁî®

ÂÆâË£Ö PolarsÔºö

```bash
pip install polars
```

‰ΩøÁî®Á§∫‰æãÔºö

```rust
import polars as pl

# ÂàõÂª∫Á§∫‰æã DataFrame
df = pl.DataFrame({
    "name": ["Âº†‰∏â", "ÊùéÂõõ", "Áéã‰∫î", "ËµµÂÖ≠"],  # ÂßìÂêçÂàó
    "age": [18, 21, 35, 40],                # Âπ¥ÈæÑÂàó
    "income": [5000, 6000, 8000, 10000]     # Êî∂ÂÖ•Âàó
})

# ‰ΩøÁî®ÊÉ∞ÊÄßÊü•ËØ¢Á≠õÈÄâÊï∞ÊçÆ
# Á≠õÈÄâÊù°‰ª∂Ôºöage Â§ß‰∫é 20 ‰∏î income Â§ß‰∫é 6000 ÁöÑË°å
(df
  .lazy()                    # ÂàõÂª∫ÊÉ∞ÊÄßÊü•ËØ¢
  .filter(                   # Á≠õÈÄâÊï∞ÊçÆ
      (pl.col("age") > 20)     # Âπ¥ÈæÑÂ§ß‰∫é 20
      & (pl.col("income") > 6000)  # ‰∏îÊî∂ÂÖ•Â§ß‰∫é 6000
  )
  .collect()                 # ÊâßË°åÊü•ËØ¢ÔºåÊî∂ÈõÜÁªìÊûú
)
```

ËæìÂá∫Ôºö

```bash
shape: (2, 3)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ name ‚îÜ age ‚îÜ income ‚îÇ
‚îÇ ---  ‚îÜ --- ‚îÜ ---    ‚îÇ
‚îÇ str  ‚îÜ i64 ‚îÜ i64    ‚îÇ
‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï™‚ïê‚ïê‚ïê‚ïê‚ïê‚ï™‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï°
‚îÇ Áéã‰∫î ‚îÜ 35  ‚îÜ 8000   ‚îÇ
‚îÇ ËµµÂÖ≠ ‚îÜ 40  ‚îÜ 10000  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

Ëß£ÈáäÔºö

1. È¶ñÂÖàÔºåÊàë‰ª¨Áî®ÂåÖÂê´ÂßìÂêç„ÄÅÂπ¥ÈæÑ„ÄÅÊî∂ÂÖ•‰∏âÂàóÁöÑÂ≠óÂÖ∏ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Á§∫‰æã DataFrame„ÄÇ
2. ÁÑ∂ÂêéÔºåÊàë‰ª¨‰ΩøÁî® `.lazy()` ÊñπÊ≥ïÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫ÊÉ∞ÊÄßÊü•ËØ¢ÔºåÊÉ∞ÊÄßÊü•ËØ¢ÂÖÅËÆ∏Êàë‰ª¨Âª∫Á´ãÂ§çÊùÇÁöÑÊü•ËØ¢ÁÆ°ÈÅìÔºåËÄåÊó†ÈúÄÁ´ãÂç≥ÊâßË°å„ÄÇ
3. Êé•ÁùÄÔºå`.filter()` ÊñπÊ≥ïÁî®‰∫éÁ≠õÈÄâÊï∞ÊçÆÔºåÊàë‰ª¨‰º†ÂÖ•‰∫Ü‰∏Ä‰∏™Â∏ÉÂ∞îË°®ËææÂºè‰Ωú‰∏∫Á≠õÈÄâÊù°‰ª∂„ÄÇ
4. ÂÖ∂‰∏≠Ôºå`pl.col("age") > 20` ÈÄâÊã© `"age"` ÂàóÂπ∂Ê£ÄÊü•ÂÖ∂ÂÄºÊòØÂê¶Â§ß‰∫é 20Ôºå`pl.col("income") > 6000` ÈÄâÊã© `"income"` ÂàóÂπ∂Ê£ÄÊü•ÂÖ∂ÂÄºÊòØÂê¶Â§ß‰∫é 6000„ÄÇ
5. ‰∏§‰∏™Êù°‰ª∂Áî® `&` ËøêÁÆóÁ¨¶ËøûÊé•ÔºåË°®Á§∫„Äå‰∏î„ÄçÁöÑÂÖ≥Á≥ªÔºåÂç≥Âπ¥ÈæÑÂ§ß‰∫é 20 ‰∏îÊî∂ÂÖ•Â§ß‰∫é 6000„ÄÇ
6. ÊúÄÂêéÔºå`.collect()` ÊñπÊ≥ïËß¶ÂèëÂÆûÈôÖÁöÑÊü•ËØ¢ÊâßË°åÔºåÂ∞ÜÁªìÊûúÊî∂ÈõÜ‰∏∫‰∏Ä‰∏™Êñ∞ÁöÑ DataFrame„ÄÇ

#### Rust ‰ΩøÁî®

ËÆæÁΩÆÂÖ∂ `Cargo.toml` Êñá‰ª∂‰∏∫Ôºö

```rust
[package]
name = "polars_demo"
version = "0.1.0"
edition = "2024"

[dependencies]
polars = { version = "0.38.2", features = ["lazy"]}
```

ÂØπÂ∫îÁöÑ Rust ‰ª£Á†ÅÔºö

```rust
use polars::prelude::*;

fn main() -> PolarsResult<()> {
    // Áî® df! ÂÆèÂàõÂª∫Á§∫‰æã DataFrame
    let df = df![
        "name" => ["Âº†‰∏â", "ÊùéÂõõ", "Áéã‰∫î", "ËµµÂÖ≠"],
        "age" => [18, 21, 35, 40],
        "income" => [5000, 6000, 8000, 10000]
    ]?;

    // ‰ΩøÁî®ÊÉ∞ÊÄßÊü•ËØ¢Á≠õÈÄâÊï∞ÊçÆ
    // Á≠õÈÄâ age Â§ß‰∫é 20 ‰∏î income Â§ß‰∫é 6000 ÁöÑË°å
    let filtered = df.lazy()
        .filter(
            col("age").gt(lit(20))       // Âπ¥ÈæÑÂ§ß‰∫é 20
            .and(col("income").gt(lit(6000)))  // ‰∏îÊî∂ÂÖ•Â§ß‰∫é 6000
        )
        .collect()?;

    dbg!(filtered);  // ÊâìÂç∞Á≠õÈÄâÂêéÁöÑ DataFrame

    Ok(())
}
```

ËæìÂá∫Ôºö

```bash
[src\main.rs:20:5] filtered = shape: (2, 3)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ name ‚îÜ age ‚îÜ income ‚îÇ
‚îÇ ---  ‚îÜ --- ‚îÜ ---    ‚îÇ
‚îÇ str  ‚îÜ i32 ‚îÜ i32    ‚îÇ
‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï™‚ïê‚ïê‚ïê‚ïê‚ïê‚ï™‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï°
‚îÇ Áéã‰∫î ‚îÜ 35  ‚îÜ 8000   ‚îÇ
‚îÇ ËµµÂÖ≠ ‚îÜ 40  ‚îÜ 10000  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

Ëß£ÈáäÔºö

1. È¶ñÂÖàÔºåÊàë‰ª¨‰ΩøÁî® `df!` ÂÆèÊù•Êñπ‰æøÂú∞ÂàõÂª∫Á§∫‰æã DataFrameÔºåÂàóÂêç‰Ωú‰∏∫ÈîÆÔºåÂàóÊï∞ÊçÆ‰Ωú‰∏∫ÂÄº„ÄÇ
2. Êé•ÁùÄÔºåÊàë‰ª¨Âú® DataFrame ‰∏äË∞ÉÁî® `.lazy()` ÊñπÊ≥ïÔºåÂàõÂª∫‰∏Ä‰∏™ÊÉ∞ÊÄßÊü•ËØ¢ÊûÑÂª∫Âô®„ÄÇ
3. ÁÑ∂ÂêéÔºå‰ΩøÁî® `.filter()` ÊñπÊ≥ïÁ≠õÈÄâÊï∞ÊçÆÔºå‰º†ÂÖ•‰∏Ä‰∏™Â∏ÉÂ∞îË°®ËææÂºè‰Ωú‰∏∫Á≠õÈÄâÊù°‰ª∂„ÄÇ
4. ÂÖ∂‰∏≠Ôºå`col("age").gt(lit(20))` ÈÄâÊã© `"age"` ÂàóÔºåÂπ∂Áî® `gt`Ôºàgreater thanÔºâÊñπÊ≥ïÊ£ÄÊü•ÂÖ∂ÂÄºÊòØÂê¶Â§ß‰∫é 20„ÄÇ`col("income").gt(lit(6000))` ÈÄâÊã© `"income"` ÂàóÔºåÊ£ÄÊü•ÂÖ∂ÂÄºÊòØÂê¶Â§ß‰∫é 6000„ÄÇ
5. ‰∏§‰∏™Êù°‰ª∂ÈÄöËøá `.and()` ÊñπÊ≥ïËøûÊé•ÔºåË°®Á§∫„Äå‰∏î„ÄçÁöÑÂÖ≥Á≥ª„ÄÇ
6. ÊúÄÂêéÔºå`.collect()` ÊñπÊ≥ïÊâßË°åÂÆûÈôÖÁöÑÊü•ËØ¢ÔºåÂ∞ÜÁªìÊûúÊî∂ÈõÜÂà∞ `filtered` ÂèòÈáè‰∏≠„ÄÇ
7. Êàë‰ª¨‰ΩøÁî® `dbg!` ÂÆèÊâìÂç∞Âá∫Á≠õÈÄâÂêéÁöÑ DataFrame„ÄÇ

### **ÊÄªÁªì**

Polars ÊòØ‰∏Ä‰∏™Âº∫Â§ßÁöÑÊï∞ÊçÆÂ§ÑÁêÜÂ∫ìÔºåÂÆÉÁªßÊâø‰∫Ü Rust È´òÊÄßËÉΩ„ÄÅÂÜÖÂ≠òÂÆâÂÖ®ÁöÑ‰ºòÁÇπÔºåÂèàÂØπ Python ÂºÄÂèëËÄÖÊèê‰æõ‰∫ÜÂèãÂ•ΩÁöÑÊé•Âè£ÔºåÊòØ‰Ω†‰ªé Pandas ËøõÈò∂ÁöÑ‰∏ç‰∫å‰πãÈÄâ„ÄÇÈù¢ÂØπÂ§ßÂûãÊï∞ÊçÆÈõÜÊó∂ÔºåPolars Êõ¥ËÉΩ‰∏ÄÂ±ïË∫´ÊâãÔºåÁî®Âπ∂Ë°å„ÄÅÂêëÈáèÂåñ„ÄÅÊµÅÂºèÂ§ÑÁêÜ‰∏∫‰Ω†Âä†ÈÄü„ÄÇ

Ëµ∂Âø´Êù•ËØïËØï Polars ÂêßÔºåÂºÄÂêØÈ´òÊÄßËÉΩÊï∞ÊçÆÂ§ÑÁêÜ‰πãÊóÖÔºÅ

# Èü≥ËßÜÈ¢ë

## XIUÔºöÁÆÄÂçïÂíåÂÆâÂÖ®ÁöÑÊµÅÂ™í‰ΩìÊúçÂä°Âô®

GitHubÔºöhttps://github.com/harlanc/xiu

XIUÊòØÁî®Á∫ØRustÂºÄÂèëÁöÑ‰∏ÄÊ¨æÁÆÄÂçïÂíåÂÆâÂÖ®ÁöÑÊµÅÂ™í‰ΩìÊúçÂä°Âô®ÔºåÁõÆÂâçÊîØÊåÅÁöÑÊµÅÂ™í‰ΩìÂçèËÆÆÂåÖÊã¨RTMP[cluster]/RTSP/WebRTC[Whip/Whep]/HLS/HTTPFLV„ÄÇ

- ÊîØÊåÅÂ§öÂπ≥Âè∞ÔºàLinux/Mac/WindowsÔºâ
- ÊîØÊåÅRTMP

- ÊîØÊåÅÂèëÂ∏ÉÂíåËÆ¢ÈòÖH264/AAC Áõ¥Êí≠ÊµÅÔºõ

- ÊîØÊåÅÁßíÂºÄÔºàGop cacheÔºâÔºõ

- ÊîØÊåÅËΩ¨Êç¢Âà∞HLS/HTTP-FLVÂçèËÆÆÔºõ

- ÊîØÊåÅÈÉ®ÁΩ≤ÈõÜÁæ§Ôºõ

- ÊîØÊåÅRTSP

- ÊîØÊåÅÈÄöËøáTCPÔºàInterleavedÔºâÂíåUDPÂèëÂ∏ÉÊàñËÆ¢ÈòÖH.265/H.264/AACÊµÅÔºõ

- ÊîØÊåÅËΩ¨Êç¢Âà∞RTMP/HLS/HTTP-FLVÂçèËÆÆÔºõ

- ÊîØÊåÅWebRTCÔºàWhip/WhepÔºâ

- ÊîØÊåÅ‰ΩøÁî®WhipÂèëÂ∏ÉrtcÊµÅÔºõ

- ÊîØÊåÅ‰ΩøÁî®WhepËÆ¢ÈòÖrtcÊµÅÔºõ

- ÊîØÊåÅËΩ¨Êç¢Âà∞RTMP/HLS/HTTP-FLVÂçèËÆÆÔºõ

- ÊîØÊåÅËÆ¢ÈòÖHLS/HTTPFLVÁõ¥Êí≠ÊµÅ
- ÊîØÊåÅÂëΩ‰ª§Ë°åÊàñËÄÖÈÖçÁΩÆÊñá‰ª∂ÈÖçÁΩÆÊúçÂä°
- ÊîØÊåÅHTTP API/notify

- ÊîØÊåÅÊü•ËØ¢ÊµÅ‰ø°ÊÅØÔºõ

- ÊîØÊåÅÊµÅ‰∫ã‰ª∂ÈÄöÁü•Ôºõ

- ÊîØÊåÅtokenÈâ¥ÊùÉ
- ÊîØÊåÅÊääÁõ¥Êí≠ÊµÅÂΩïÂà∂ÊàêHLSÂçèËÆÆ(m3u8+ts)Êñá‰ª∂

# ÊêúÁ¥¢ÂºïÊìé

## TantivyÔºö‰ΩøÁî® Rust ÁºñÂÜôÁöÑÂø´ÈÄüÂÖ®ÊñáÊêúÁ¥¢ÂºïÊìéÂ∫ì

GitHubÔºöhttps://github.com/quickwit-oss/tantivy

Tantivy ÊòØ‰∏Ä‰∏™Áî® Rust ÁºñÂÜôÁöÑÊêúÁ¥¢ÂºïÊìéÂ∫ìÔºåÂÖ∂ÁÅµÊÑüÊù•Ëá™‰∫é Lucene„ÄÇ

ÂæóÁõä‰∫é Rust ËØ≠Ë®ÄÂä†ÊåÅÔºåTantivy ÊÄßËÉΩÊØî Lucene Ë¶ÅÂ•ΩÂæóÂ§ö

![img](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/014321_qdat_12.png)

‰∏ªË¶ÅÁâπÊÄßÔºö

- ÂÖ®ÊñáÊêúÁ¥¢
- ÂèØÈÖçÁΩÆÁöÑÂàÜËØçÂô®ÔºåÊîØÊåÅ 17 ÁßçËØ≠Ë®ÄËØçÂπ≤ÔºåÂåÖÊã¨‰∏≠Êñá„ÄÅÊó•ÊñáÂíåÈü©Êñá
- ÈÄüÂ∫¶ÈùûÂ∏∏Âø´ (check out the üêé ‚ú® [benchmark](https://tantivy-search.github.io/bench/) ‚ú® üêé)
- ÂêØÂä®Êó∂Èó¥ÊûÅÁü≠ (<10ms), perfect for command-line tools
- BM25 ËØÑÂàÜ (‰∏é Lucene Áõ∏Âêå)
- Ëá™ÁÑ∂Êü•ËØ¢ËØ≠Ë®Ä (e.g. `(michael AND jackson) OR "king of pop"`)
- Áü≠ËØ≠Êü•ËØ¢ÊêúÁ¥¢ (e.g. `"michael jackson"`)
- Â¢ûÈáèÁ¥¢Âºï
- Â§öÁ∫øÁ®ãÁ¥¢Âºï
- Mmap ÁõÆÂΩï
- SIMD Êï¥Êï∞ÂéãÁº©ÔºåÊîØÊåÅ SSE2 Êåá‰ª§ÈõÜ
- Âø´ÈÄüÁöÑÂçïÂÄºÂíåÂ§öÂÄº u64, i64, f64 Â≠óÊÆµ (Á≠âÂêå‰∫é lucene ‰∏≠ÁöÑ doc values)
- `&[u8]` fast fields
- Text, i64, u64, f64, dates, and hierarchical facet fields
- LZ4 ÂéãÁº©ÊñáÊ°£Â≠òÂÇ®
- ËåÉÂõ¥ÊêúÁ¥¢
- Faceted ÊêúÁ¥¢
- ÂèØÈÖçÁΩÆÁöÑÁ¥¢Âºï
- JSON Â≠óÊÆµ
- ËÅöÂêàÊî∂ÈõÜÂô®ÔºåÂåÖÊã¨ range buckets, average, and stats metrics
- LogMergePolicy with deletes
- Searcher Warmer API
- Cheesy logo with a horse

### Tantivy vs Apache Lucene

Apache Lucene ‰∏ÄÁõ¥ÊòØÂÖ®ÊñáÊêúÁ¥¢È¢ÜÂüüÁöÑÂÖàÈ©±ËÄÖÔºå‰ΩÜÈöèÁùÄÊäÄÊúØÁöÑËøõÊ≠•ÔºåÊñ∞ÂÖ¥ÁöÑÊêúÁ¥¢ÂºïÊìéÂ∫ì Tantivy Â¥≠Èú≤Â§¥ËßíÔºåÂ±ïÁé∞Âá∫Êó†ÂèØÂåπÊïåÁöÑÊÄßËÉΩÂíå‰ºòÂäø„ÄÇÁé∞Âú®ÔºåËÆ©Êàë‰ª¨Ê∑±ÂÖ•Êé¢ËÆ®‰∏∫‰ªÄ‰πà‰Ω†Â∫îËØ•ËΩ¨Âêë‰ΩøÁî® TantivyÔºåËøô‰∏™Ë¢´Ë™â‰∏∫‰∏ã‰∏Ä‰ª£ÊêúÁ¥¢ÂºïÊìéÁöÑÂº∫Â§ßÂ∫ì„ÄÇ

TantivyÔºåË¢´ËÆæËÆ°‰∏∫ Apache Lucene ÁöÑÁé∞‰ª£Êõø‰ª£‰∫ßÂìÅÔºåÂÆÉÂú®Â§ö‰∏™ÂÖ≥ÈîÆÈ¢ÜÂüüÂ±ïÁé∞‰∫ÜÊØî Lucene Êõ¥‰ºòË∂äÁöÑÁâπÊÄß„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õ‰∏ªË¶ÅÂØπÊØîÔºö

- **ÁºñÁ®ãËØ≠Ë®Ä**ÔºöTantivy ÊòØÁî® Rust ÁºñÂÜôÁöÑÔºåËøôÊòØ‰∏ÄÁßçÈÄüÂ∫¶ÊûÅÂø´„ÄÅÂÜÖÂ≠òÂÆâÂÖ®ÁöÑÁ≥ªÁªüÁºñÁ®ãËØ≠Ë®ÄÔºåÁõ∏ÊØî Java ÁºñÂÜôÁöÑ LuceneÔºåÂú®Â§ÑÁêÜÂπ∂ÂèëÂíåÂÜÖÂ≠òÁÆ°ÁêÜ‰∏äÊúâÁùÄÊòæËëóÁöÑ‰ºòÂäø„ÄÇ
- **ÊÄßËÉΩ**ÔºöTantivy Âà©Áî® Rust ÁöÑÊÄßËÉΩ‰ºòÂäøÔºåÊã•ÊúâÊõ¥Âø´ÁöÑÁ¥¢ÂºïÊûÑÂª∫ÈÄüÂ∫¶ÂíåÊêúÁ¥¢ÂìçÂ∫îÊó∂Èó¥ÔºåÂú®È´òÂπ∂ÂèëÂú∫ÊôØ‰∏ãË°®Áé∞Êõ¥Âä†Âá∫Ëâ≤„ÄÇ
- **ÂÜÖÂ≠òÂç†Áî®**ÔºöÂú®ÂÜÖÂ≠òÁÆ°ÁêÜÊñπÈù¢ÔºåTantivy Â±ïÁé∞Âá∫Êõ¥‰∏∫‰ºòÈõÖÂíåÈ´òÊïàÁöÑÊï∞ÊçÆÁªìÊûÑÂ§ÑÁêÜÔºåÈôç‰Ωé‰∫ÜÁ≥ªÁªüËµÑÊ∫êÁöÑÊ∂àËÄó„ÄÇ
- **ÊòìÁî®ÊÄß**ÔºöTantivy Êó®Âú®ÁÆÄÂåñÊêúÁ¥¢ÂºïÊìéÁöÑÂ§çÊùÇÊÄßÔºåÊèê‰æõ‰∫ÜÊõ¥‰∏∫Áõ¥Êé•ÁöÑ API ÂíåÊõ¥Â∞ëÁöÑÈÖçÁΩÆÈúÄÊ±ÇÔºå‰ΩøÂæóÂºÄÂèëËÄÖÂèØ‰ª•Êõ¥Âø´ÈÄüÂú∞Êï¥ÂêàÂíå‰ΩøÁî®„ÄÇ

### Tantivy ÁöÑÂÆûÁé∞ÂéüÁêÜÂíå‰ºòÂäøÁâπÊÄß

Tantivy Âú®ÂÆûÁé∞‰∏äÈááÁî®‰∫ÜËØ∏Â§öÁé∞‰ª£ÂåñÁöÑÊäÄÊúØÂíåËÆæËÆ°Ôºå‰ΩøÂæóÂÆÉÂú®ÂÖ®ÊñáÊêúÁ¥¢È¢ÜÂüüÂ§ßÊîæÂºÇÂΩ©„ÄÇÊé•‰∏ãÊù•Â∞ÜËØ¶ÁªÜÊé¢Á¥¢Ëøô‰∫õÁâπÊÄßÂíåÂÆûÁé∞ÊñπÂºè„ÄÇ

#### Á¥¢Âºï‰∏éÊü•ËØ¢Â§ÑÁêÜ

Tantivy ÂØπÁ¥¢ÂºïÁöÑÂ§ÑÁêÜÈùûÂ∏∏È´òÊïà„ÄÇÈááÁî®‰∫ÜÂÄíÊéíÁ¥¢ÂºïÔºåËÆ©ÊñáÊ°£Ê£ÄÁ¥¢Êõ¥Âø´„ÄÇÊîØÊåÅÂ¢ûÈáèÁ¥¢ÂºïÔºåÊó†ÈúÄÈáçÂª∫Êï¥‰∏™Á¥¢ÂºïÂç≥ÂèØÊõ¥Êñ∞ÔºåÂ§ßÂ§ßËäÇÁúÅ‰∫ÜÊó∂Èó¥ÂíåËµÑÊ∫ê„ÄÇ

#### Â§öËØ≠Ë®ÄÊîØÊåÅ

ÂÄüÂä© Rust Âº∫Â§ßÁöÑÁîüÊÄÅÁ≥ªÁªüÔºåTantivy ËÉΩÂ§üÈÄöËøá plugins ÊîØÊåÅÂ§öÁßçËØ≠Ë®ÄÂàÜÊûêÂô®ÔºåÊØîÂ¶Ç `tantivy-jieba` ÈíàÂØπ‰∏≠ÊñáÊñáÊú¨ÔºåËÄå Lucene ÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÊèí‰ª∂ÊàñÈÖçÁΩÆ„ÄÇ

#### È´òÊïàÁöÑÂ≠òÂÇ®ÁªìÊûÑ

Tantivy ‰ΩøÁî®‰∫Ü‰∏ÄÁ≥ªÂàóÈ´òÊïàÁöÑÊï∞ÊçÆÂ≠òÂÇ®ÁªìÊûÑÔºåÂåÖÊã¨Â≠òÊîæÊñáÊ°£Êï∞ÊçÆÁöÑ doc store ÂíåÁî®‰∫éÂø´ÈÄüÊ£ÄÁ¥¢ÈîÆÂÄºÂØπÁöÑ FAST Â≠óÊÆµÁ¥¢Âºï„ÄÇ

#### Âº∫Â§ßÁöÑÊêúÁ¥¢ÂäüËÉΩ

ËØ≠Ê≥ïÈ´ò‰∫Æ„ÄÅÊãºÂÜôÊ£ÄÊü•ÂíåÊü•ËØ¢Ëß£ÊûêÔºåËøô‰∫õÊòìÁî®‰ΩÜÂº∫Â§ßÁöÑÂäüËÉΩÁªüÁªüÂåÖÂê´Âú® Tantivy ‰πã‰∏≠„ÄÇ

### Â¶Ç‰ΩïÂºÄÂßã‰ΩøÁî® Tantivy

ËøôÈáåÂ∞ÜÊèê‰æõ‰∏Ä‰∏™Â¶Ç‰ΩïÂºÄÂßã‰ΩøÁî® Tantivy ÁöÑÂø´ÈÄüÊåáÂçóÔºö

**1.ÂÆâË£Ö Rust**

ÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨ÁöÑ Rust ÂºÄÂèëÁéØÂ¢É„ÄÇ

**2.ÂàõÂª∫È°πÁõÆ**

ÈÄöËøá Cargo Êñ∞Âª∫‰∏Ä‰∏™ Rust È°πÁõÆ„ÄÇ

```bash
cargo new tantivy_project
cd tantivy_project
```

**3.Ê∑ªÂä†‰æùËµñ**

Âú® Cargo.toml Êñá‰ª∂‰∏≠Âä†ÂÖ• Tantivy ‰Ωú‰∏∫‰æùËµñ„ÄÇ

```bash
[dependencies]
tantivy = "0.22"
```

**4.ÁºñÂÜôÁ¥¢ÂºïÂíåÊêúÁ¥¢‰ª£Á†Å**

‰ΩøÁî® Tantivy ÊûÑÂª∫Á¥¢ÂºïÔºåÊâßË°åÊêúÁ¥¢ÔºåÂπ∂ÁÆ°ÁêÜÁªìÊûú„ÄÇ

```rust
// ‰ª•‰∏ã‰ª£Á†ÅÂ±ïÁ§∫‰∫Ü‰∏Ä‰∏™ÊûÑÂª∫Á¥¢ÂºïÂπ∂ËøõË°åÊêúÁ¥¢ÁöÑÁ§∫ËåÉÔºö

// ËΩΩÂÖ• Tantivy Â∫ì
extern crate tantivy;
use tantivy::schema::{Schema, TEXT};
use tantivy::{Index, doc};

fn main() -> tantivy::Result<()> {
   // ÂÆö‰πâ Schema
   let mut schema_builder = Schema::builder();
   schema_builder.add_text_field("title", TEXT);
   schema_builder.add_text_field("body", TEXT);
   let schema = schema_builder.build();

   // ÂàõÂª∫Á¥¢Âºï
   let index = Index::create_in_ram(schema.clone());

   // Ê∑ªÂä†ÊñáÊ°£Âà∞Á¥¢Âºï‰∏≠
   let mut index_writer = index.writer(50_000_000)?;
   index_writer.add_document(doc!(
       schema.get_field("title").unwrap() => "The Old Man and the Sea",
       schema.get_field("body").unwrap() => "He was an old man who fished alone in a skiff in the Gulf Stream and he had gone..."
   ));
   index_writer.commit()?;

   // ÊêúÁ¥¢
   let reader = index.reader()?;
   let searcher = reader.searcher();
   let query_parser = tantivy::query::QueryParser::for_index(&index, vec![schema.get_field("title").unwrap()]);
   let query = query_parser.parse_query("old man")?;
   let top_docs = searcher.search(&query, &tantivy::collector::TopDocs::with_limit(10))?;

   // ÊâìÂç∞ÊêúÁ¥¢ÁªìÊûú
   for (_, doc_address) in top_docs {
       let retrieved_doc = searcher.doc(doc_address)?;
       println!("{}", schema.to_json(&retrieved_doc));
   }

   Ok(())
}
```

**5.ÁºñËØëÂπ∂ËøêË°åÈ°πÁõÆ**

ËøêË°å `cargo run` ÁºñËØëÂπ∂ÂêØÂä®‰Ω†ÁöÑÈ°πÁõÆ„ÄÇ

### Tantivy ÁöÑÂ∫îÁî®Âú∫ÊôØÂíåÂâçÊôØ

Tantivy ÁöÑÊÄßËÉΩÂíåÊòìÁî®ÊÄß‰ΩøÂÖ∂Êàê‰∏∫‰∏çÂêåÂ∫îÁî®Âú∫ÊôØ‰∏ãÁêÜÊÉ≥ÁöÑÂÖ®ÊñáÊêúÁ¥¢ÂºïÊìéÂ∫ì„ÄÇÊó†ËÆ∫ÊòØÂú®Êó•ÁõäÂ¢ûÈïøÁöÑÊó•ÂøóÂàÜÊûêÈ¢ÜÂüü„ÄÅÈúÄË¶ÅÂ§ÑÁêÜÊñáÊ°£ÂíåÊñáÊú¨ÊêúÁ¥¢ÁöÑÂÜÖÂÆπÁÆ°ÁêÜÁ≥ªÁªü„ÄÅËøòÊòØÂØπÊêúÁ¥¢ÊÄßËÉΩË¶ÅÊ±ÇÊûÅÈ´òÁöÑÁîµÂ≠êÂïÜÂä°Âπ≥Âè∞ÔºåTantivy ÈÉΩËÉΩÂ§üÊèê‰æõÂº∫Â§ßÁöÑÊîØÊåÅ„ÄÇ

Tantivy ‰∏ç‰ªÖÈÄÇÂêàÁî®‰∫éÂ∞èÂà∞‰∏≠ÂûãÁöÑÈ°πÁõÆÂºÄÂèëÔºåÂÆÉÂº∫Â§ßÁöÑÊÄßËÉΩ‰∏é Rust ÁöÑÂÜÖÂ≠òÂÆâÂÖ®ÊÄß‰ΩøÂÖ∂‰πüÈùûÂ∏∏ÈÄÇÂêàÂ§ßÂûã„ÄÅÈ´òÊÄßËÉΩË¶ÅÊ±ÇÁöÑÂïÜ‰∏öÁéØÂ¢É„ÄÇÈöèÁùÄ Rust Á§æÂå∫ÁöÑÂèëÂ±ïÂíåÊàêÁÜüÔºåTantivy ÊúâÊúõÂú®Êú™Êù•Êàê‰∏∫ÂÖ®ÊñáÊêúÁ¥¢È¢ÜÂüüÁöÑÈ¢ÜÂÜõËÄÖ„ÄÇ

ËôΩÁÑ∂ Apache Lucene Âç†Êúâ‰∫ÜÈïøÊúüÁöÑÂ∏ÇÂú∫‰∏ªÂØºÂú∞‰ΩçÔºå‰ΩÜÊòØ Tantivy ‰Ωú‰∏∫‰∏ã‰∏Ä‰ª£ÊêúÁ¥¢ÂºïÊìéÁöÑÊù∞Âá∫‰ª£Ë°®ÔºåÂÖ∂È´òÊïàÁöÑÊÄßËÉΩ„ÄÅÁé∞‰ª£ÂåñÁöÑËÆæËÆ°‰ª•ÂèäËâØÂ•ΩÁöÑÁî®Êà∑‰ΩìÈ™åÔºåÊó†ÁñëÊåáÂºï‰∫ÜÊêúÁ¥¢ÊäÄÊúØÁöÑÊñ∞ÊñπÂêë„ÄÇÁé∞Âú®ÊòØÊó∂ÂÄôÊîæ‰∏ãËÄÅÊóßÁöÑ LuceneÔºåÊã•Êä±ÈÄüÂ∫¶ÂíåÊïàÁéáÂπ∂Â≠òÁöÑ Tantivy ‰∫Ü„ÄÇ

# AI|Êú∫Âô®Â≠¶‰π†|Ê∑±Â∫¶Â≠¶‰π†

## ndarray

ndarray ÊòØ NumPy Â∫ì‰∏≠ÁöÑ‰∏Ä‰∏™Ê†∏ÂøÉÊï∞ÊçÆÁªìÊûÑÔºåÂÆÉÊòØ‰∏Ä‰∏™Áî®‰∫éË°®Á§∫Â§öÁª¥Êï∞ÁªÑÁöÑÂØπË±°„ÄÇndarray Âú®Â≠òÂÇ®ÂíåÊìç‰ΩúÂ§ßÂûãÂ§öÁª¥Êï∞ÁªÑÊó∂ÈùûÂ∏∏È´òÊïàÔºåÂπøÊ≥õÂ∫îÁî®‰∫éÁßëÂ≠¶ËÆ°ÁÆó„ÄÅÊï∞ÊçÆÂàÜÊûê„ÄÅÊú∫Âô®Â≠¶‰π†Á≠âÈ¢ÜÂüü„ÄÇ

Âú® Rust ÂºÄÂèë‰∏≠Ôºåndarray Â∫ìÂèØ‰ª•‰Ωú‰∏∫Êõø‰ª£  NumPy Â∫ì„ÄÇ

Github Âú∞ÂùÄÔºöhttps://github.com/rust-ndarray/ndarray

## Polars

ÂèØ‰ª•‰Ωú‰∏∫Êõø‰ª£ Python ‰∏≠ pandas Â∫ìÔºåPolars ÊòØ‰∏™ÂºÄÊ∫êÁöÑÊï∞ÊçÆÂ§ÑÁêÜÂ∫ìÔºåÊèê‰æõÂø´ÈÄüÂíåÁÅµÊ¥ªÁöÑÊï∞ÊçÆÂ§ÑÁêÜËÉΩÂäõÔºåÂ∞§ÂÖ∂Â§ÑÁêÜÂ§ßÂûãÊï∞ÊçÆÈõÜÊó∂„ÄÇPolars ÁöÑËÆæËÆ°ÁõÆÊ†áÊòØÊèê‰æõÁ±ª‰ºº‰∫é Pandas ÁöÑ APIÔºå‰ΩÜÂà©Áî® Rust ÁöÑÊÄßËÉΩ‰ºòÂäøÊù•ÊèêÈ´òÊï∞ÊçÆÂ§ÑÁêÜÁöÑÈÄüÂ∫¶„ÄÇ

Github Âú∞ÂùÄÔºöhttps://github.com/pola-rs/polars

## tch-rs

tch-rs ÊòØ‰∏Ä‰∏™‰ΩøÂæó Rust ËÉΩÂ§ü‰∏é PyTorch Ê°ÜÊû∂ÁªìÂêàÁöÑÂ∑•ÂÖ∑ÔºåÊâ©Â±ï‰∫Ü Rust Âú®Êú∫Âô®Â≠¶‰π†ÂíåÊ∑±Â∫¶Â≠¶‰π†È¢ÜÂüüÁöÑÂ∫îÁî®ËÉΩÂäõ„ÄÇÂπøÊ≥õÁî®‰∫éËÆ°ÁÆóÊú∫ËßÜËßâÂíåËá™ÁÑ∂ËØ≠Ë®ÄÂ§ÑÁêÜÁ≠âÁ†îÁ©∂ÂíåÂ∫îÁî®È¢ÜÂüüÔºåtch-rs ÂÖÅËÆ∏ Rust ÂºÄÂèëËÄÖÂà©Áî® PyTorch ÁöÑÂäüËÉΩÔºåËøõË°åÊ∑±Â∫¶Â≠¶‰π†Ê®°ÂûãÁöÑÂºÄÂèëÂíåÈÉ®ÁΩ≤„ÄÇ

Github Âú∞ÂùÄÔºöhttps://github.com/LaurentMazare/tch-rs

## Burn

Burn ÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÁªºÂêàÂä®ÊÄÅÊ∑±Â∫¶Â≠¶‰π†Ê°ÜÊû∂Ôºå‰ΩøÁî® Rust ÊûÑÂª∫Ôºå‰ª•ÊûÅÈ´òÁöÑÁÅµÊ¥ªÊÄß„ÄÅËÆ°ÁÆóÊïàÁéáÂíåÂèØÁßªÊ§çÊÄß‰Ωú‰∏∫ÂÖ∂‰∏ªË¶ÅÁõÆÊ†á„ÄÇËøô‰∏™Â∫ì‰πãÂâç‰πüÊé®ËçêËøáÔºåÈùûÂ∏∏ÂÄºÂæóÂéªÂÖ≥Ê≥®„ÄÇ

Github Âú∞ÂùÄÔºöhttps://github.com/tracel-ai/burn

## Candle

Candle ÊòØÁî± Hugging Face ÂºÄÂèëÁöÑ Rust ËØ≠Ë®ÄÊú∫Âô®Â≠¶‰π†Ê°ÜÊû∂„ÄÇ‰∏ªË¶ÅÊòØ‰∏∫ Rust ÂºÄÂèëËÄÖÂú®Êú∫Âô®Â≠¶‰π†È¢ÜÂüüÊèê‰æõ‰∫ÜÊñ∞ÁöÑÂ∑•ÂÖ∑Ôºå‰ΩøÂæóÊûÑÂª∫ÂíåÈÉ®ÁΩ≤Êú∫Âô®Â≠¶‰π†Â∫îÁî®ÂèòÂæóÊõ¥Âä†ÂÆπÊòì„ÄÇ

- **ÊûÅÁÆÄËÆæËÆ°**ÔºöÊèê‰æõÁÆÄÊ¥ÅÁöÑ APIÔºåÊòì‰∫é‰ΩøÁî®„ÄÇ
- **È´òÊÄßËÉΩ**ÔºöÂà©Áî® Rust ËØ≠Ë®ÄÁöÑÊÄßËÉΩ‰ºòÂäø„ÄÇ
- **ÊòìÁî®ÊÄß**ÔºöAPI ËÆæËÆ°ÂÄüÈâ¥‰∫Ü PyTorchÔºåÈôç‰ΩéÂ≠¶‰π†ÊàêÊú¨„ÄÇ
- **ÁÅµÊ¥ªÊÄß**ÔºöÊîØÊåÅÂ§öÁßçÂêéÁ´ØÔºåÊñπ‰æøÂú®‰∏çÂêåÁéØÂ¢É‰∏≠ÈÉ®ÁΩ≤„ÄÇ
- **ÂÆâÂÖ®ÊÄß**ÔºöRust ËØ≠Ë®Ä‰øùËØÅ‰∫ÜÂÜÖÂ≠òÂÆâÂÖ®ÂíåÁ∫øÁ®ãÂÆâÂÖ®„ÄÇ

GIthub Âú∞ÂùÄÔºöhttps://github.com/huggingface/candle

## Linfa

linfa Êèê‰æõ‰∏Ä‰∏™ÂÖ®Èù¢ÁöÑÂ∑•ÂÖ∑ÂåÖÊù•‰ΩøÁî® Rust ÊûÑÂª∫Êú∫Âô®Â≠¶‰π†Â∫îÁî®Á®ãÂ∫è„ÄÇÁ±ª‰ºº Python ÁöÑscikit-learn Â∫ìÔºå‰∏ìÊ≥®‰∫éÊó•Â∏∏ ML ‰ªªÂä°ÁöÑÂ∏∏ËßÅÈ¢ÑÂ§ÑÁêÜ‰ªªÂä°ÂíåÁªèÂÖ∏ ML ÁÆóÊ≥ï„ÄÇ

GIthub Âú∞ÂùÄÔºöhttps://github.com/rust-ml/linfa

## plotters

Plotters ÊòØ‰∏Ä‰∏™ÁªòÂõæÂ∫ìÔºåËÆæËÆ°Áî®‰∫éÁî®Á∫Ø Rust Ê∏≤ÊüìÂõæÂΩ¢„ÄÅÁªòÂõæÂíåÂõæË°®ÔºåÊîØÊåÅÂêÑÁßçÁ±ªÂûãÁöÑÂêéÁ´ØÔºåÂåÖÊã¨‰ΩçÂõæ„ÄÅÁü¢ÈáèÂõæ„ÄÅÊ¥ªÂ°ûÁ™óÂè£„ÄÅGTK/Cairo Âíå WebAssembly„ÄÇÁ±ª‰ºº Python ÁöÑ matplotlib Â∫ì„ÄÇ

Github Âú∞ÂùÄÔºöhttps://github.com/plotters-rs/plotters

## petgraph

petgraph ÊòØ‰∏Ä‰∏™ÂõæÊï∞ÊçÆÁªìÊûÑÂ∫ìÔºåÂõæÊòØËäÇÁÇπ‰ª•ÂèäËäÇÁÇπ‰πãÈó¥ÁöÑËæπÁöÑÈõÜÂêà„ÄÇpetgraph Êèê‰æõ‰∫ÜÂ§öÁßçÂõæÂΩ¢Á±ªÂûã„ÄÅËøô‰∫õÂõæÂΩ¢ÁöÑÁÆóÊ≥ï‰ª•Âèä‰ª•Ê†ºÂºèËæìÂá∫ÂõæÂΩ¢ graphviz ÁöÑÂäüËÉΩ„ÄÇ

Github Âú∞ÂùÄÔºöhttps://github.com/petgraph/petgraph

## tensorflow-rust

TensorFlow ÁöÑ Rust ËØ≠Ë®ÄÁªëÂÆöÔºåÂÖÅËÆ∏ Rust ÂºÄÂèëËÄÖ‰ΩøÁî® TensorFlow ÁöÑÊú∫Âô®Â≠¶‰π†Ê°ÜÊû∂„ÄÇ

Github Âú∞ÂùÄÔºöhttps://github.com/tensorflow/rust

## Mistral.rsÔºö‰ΩøÁî® Rust ËØ≠Ë®ÄËµãËÉΩÁöÑ LLM Âä†ÈÄüÂπ≥Âè∞

GitHubÔºöhttps://github.com/EricLBuehler/mistral.rs

Âú®‰ªäÊó•ÂÖÖÊª°ÊåëÊàòÁöÑ‰∫∫Â∑•Êô∫ËÉΩÈ¢ÜÂüüÔºåËÆ©Â§ßÊ®°ÂûãÔºàLarge Language Models, LLMsÔºâÂ¶ÇÈ£éÈ©∞ÁîµÊé£Ëà¨Âø´ÈÄüÊé®ÁêÜÔºåÂ∑≤Êàê‰∏∫‰∏Ä‰∏™Ë∂äÊù•Ë∂äË¢´ÈáçËßÜÁöÑËÆÆÈ¢ò„ÄÇ

EricLBuehler ÁöÑÂºÄÊ∫êÈ°πÁõÆ‚Äî‚ÄîMistral.rsÔºåÊ≠£ÊòØÂú®Ëøô‰∏ÄËÉåÊôØ‰∏ãÂ∫îËøêËÄåÁîüÁöÑ„ÄÇMistral.rs ‰∏ç‰ªÖ‰ªÖÊòØÂèà‰∏Ä‰∏™ LLM Êé®ÁêÜÂπ≥Âè∞ÔºåÂÆÉÊòØÂü∫‰∫éÁ∫Ø Rust ÂÆûÁé∞ÔºåÂÆâÂÖ®„ÄÅÂø´ÈÄüÂíåÈ´òÊïà„ÄÇÊú¨ÊñáÂ∞Ü‰∏∫‰Ω†Ê∑±ÂÖ•Ëß£ËØª Mistral.rsÔºå‰ªéÂÆÉÁöÑËÆæËÆ°ÁêÜÂøµ„ÄÅÊ†∏ÂøÉÂäüËÉΩ„ÄÅÂà∞ÂÆûÈôÖÁöÑ‰ΩøÁî®ÊåáÂçó„ÄÇ

### Mistral.rs ÁöÑËÆæËÆ°ÁêÜÂøµ‰∏éÊ†∏ÂøÉÂäüËÉΩ

Mistral.rs ÁßâÊâøÁùÄÈ´òÈÄüÊé®ÁêÜÁöÑÁõÆÊ†áÔºåÈááÁî®Á∫Ø Rust ËØ≠Ë®ÄÁºñÂÜôÔºåÁ°Æ‰øù‰∫Ü‰ª£Á†ÅÁöÑÊâßË°åÊïàÁéáÂíåÂÆâÂÖ®ÊÄß„ÄÇÂÆÉÂÖ∑Â§á‰ª•‰∏ãÊ†∏ÂøÉÂäüËÉΩÔºö

- **È´òÊïàÁöÑÊÄßËÉΩÔºö**ÈááÁî®‰∫ÜÊØè‰∏™Â∫èÂàóÁöÑ KV ÁºìÂ≠òÁÆ°ÁêÜÊäÄÊúØÔºå‰ª•ÂèäËøΩËµ∂Ôºàcatch-upÔºâÊäÄÊúØÔºå‰ΩøÂæóÊé®ÁêÜËøáÁ®ãÊûÅÂÖ∂Âø´ÈÄü„ÄÇ
- **Â§öÁßçÈáèÂåñÊîØÊåÅÔºö**Êèê‰æõ‰∫Ü 2-bit Âà∞ 8-bit ÁöÑÈáèÂåñÈÄâÈ°πÔºå‰ºòÂåñ‰∫ÜÂÜÖÂ≠ò‰ΩøÁî®ÔºåÂêåÊó∂‰øùËØÅ‰∫ÜÊé®ÁêÜÈÄüÂ∫¶„ÄÇ
- **Á¨¨‰∏Ä‰∏™ÊîØÊåÅ X-LoRA ÁöÑÂπ≥Âè∞Ôºö**Mistral.rs ÊòØÈ¶ñ‰∏™‰∏∫ X-LoRA Êèê‰æõ‰∏ÄÊµÅÊîØÊåÅÁöÑÊé®ÁêÜÂπ≥Âè∞ÔºåÈÄöËøáÁªÜËäÇ‰ºòÂåñÂíåÁÆóÊ≥ïÂçáÁ∫ßÔºåËÆ© X-LoRA ÁöÑËøêË°åÊõ¥È´òÊïà„ÄÇ
- **ÂÖºÂÆπ OpenAI ÁöÑ HTTP ÊúçÂä°Âô®Ôºö**Êèê‰æõ‰∫ÜËΩªÈáèÁ∫ß‰∏î‰∏é OpenAI API ÂÖºÂÆπÁöÑ HTTP ÊúçÂä°Âô®Ôºå‰ΩøÂæó‰∏éÂÖ∂‰ªñÁ≥ªÁªüÁöÑÈõÜÊàêÂèòÂæóÂÆπÊòì„ÄÇ
- **Ë∑®Âπ≥Âè∞ÂíåË∑®ËØ≠Ë®ÄÊîØÊåÅÔºö**‰∏ç‰ªÖÊîØÊåÅ Apple silicon ÁöÑ Metal Ê°ÜÊû∂ÔºåËøòÊèê‰æõ‰∫ÜÊñπ‰æøÁöÑ Python APIÔºå‰ΩøÂæóÂú®‰∏çÂêåÂπ≥Âè∞ÂíåËØ≠Ë®ÄÈó¥‰ΩøÁî®ÂèòÂæóÊó†Áºù„ÄÇ

### ÂÆûË∑µÊåáÂçóÔºöÊê≠Âª∫‰∏éËøêË°å Mistral.rs ÊúçÂä°

ËÆ©Êàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÂ¶Ç‰ΩïÊê≠Âª∫Âπ∂ËøêË°å Mistral.rs ÊúçÂä°„ÄÇÈ¶ñÂÖàÔºå‰Ω†ÈúÄË¶ÅÁ°Æ‰øùÂ∑≤ÁªèÂÆâË£Ö‰∫Ü Rust ÁéØÂ¢É„ÄÇMistral.rs ÁöÑÂÆâË£ÖËøáÁ®ãÁÆÄÂçïÁõ¥Êé•‚Äî‚ÄîÂÖãÈöÜÈ°πÁõÆ„ÄÅÊûÑÂª∫ÔºåÂπ∂ËøêË°å„ÄÇ

```bash
sudo apt update -y
sudo apt install libssl-dev -y
sudo apt install pkg-config -y
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source $HOME/.cargo/env

git clone https://github.com/EricLBuehler/mistral.rs.git
cd mistral.rs
mkdir ~/.cache/huggingface
touch ~/.cache/huggingface/token
echo <HF_TOKEN_HERE> > ~/.cache/huggingface/token
cargo build --release --features cuda
```

ÊûÑÂª∫ÂÆåÊàêÂêéÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êù•ÂêØÂä®ÊúçÂä°Ôºö

```bash
./mistralrs-server --port 1234 --log output.log mistral
```

Ê≠§Â§ñÔºåMistral.rs ÊîØÊåÅÂæàÂ§öÈ´òÁ∫ßÂäüËÉΩÔºåÂ¶Ç‰∏∫ X-LoRA Ê®°ÂûãÂáÜÂ§áÊéíÂ∫èÊñá‰ª∂„ÄÅËøêË°åÈáèÂåñ X-LoRA Ê®°ÂûãÁ≠â„ÄÇËØ¶ÁªÜ‰ø°ÊÅØÂèØÂèÇËÄÉÂÆòÊñπÊñáÊ°£„ÄÇ

### ÊÄßËÉΩÂü∫ÂáÜ‰∏éÂÆûÁî®Á§∫‰æã

Mistral.rs ÁöÑÊÄßËÉΩÂü∫ÂáÜÊï∞ÊçÆÂçÅÂàÜ‰ª§‰∫∫Âç∞Ë±°Ê∑±Âàª„ÄÇ‰æãÂ¶ÇÔºåÂú®‰ΩøÁî® A6000 GPUÔºå8-bit ÈáèÂåñÔºå‰ª• prompt tokens ‰∏∫ 27Ôºåcompletion tokens ‰∏∫ 64 ÁöÑËÆæÁΩÆ‰∏ãÔºåÂÖ∂ÈÄüÂ∫¶ËææÂà∞‰∫Ü 3.13 tok/sÔºõËÄåÂú® A10 GPU ‰∏äÁöÑÊÄßËÉΩÊõ¥ÊòØËææÂà∞‰∫Ü 32.16 tok/s„ÄÇ

‰∏∫‰∫ÜÂ±ïÁ§∫ Mistral.rs ÁöÑ‰ΩøÁî®ÊïàÊûúÔºå‰ª•‰∏ãÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆûÁî®Á§∫‰æãÔºö

```bash
./mistralrs-server --port 1234 x-lora-mistral -o x-lora-orderings/default-ordering.json
```

ÈÄöËøáËøô‰∏™ÂëΩ‰ª§Ôºå‰Ω†ÂèØ‰ª•ÂêØÂä®‰∏Ä‰∏™ÊúçÂä°ÔºåËøêË°åÈªòËÆ§ÊùÉÈáçÂíåÊéíÂ∫èÁöÑ X-LoRA Ê®°Âûã„ÄÇ

### ÁªìËÆ∫

Mistral.rs ‰ª•ÂÖ∂ÂçìË∂äÁöÑËÆæËÆ°„ÄÅÂº∫Â§ßÁöÑÂäüËÉΩÂíåÊÉä‰∫∫ÁöÑÊÄßËÉΩÔºå‰∏∫ LLM Êé®ÁêÜÂπ≥Âè∞ËÆæÁΩÆ‰∫ÜÊñ∞ÁöÑÊ†áÂáÜ„ÄÇÊó†ËÆ∫ÊòØÂØπ‰∫éÁ†îÁ©∂‰∫∫ÂëòËøòÊòØÂ∑•Á®ãÂ∏àÔºåMistral.rs ÈÉΩÊèê‰æõ‰∫Ü‰∏Ä‰∏™È´òÊïà„ÄÅ‰æøÊç∑ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºå‰ª•ÊúüÂú®Ëøô‰∏™Âø´ÈÄüÂèëÂ±ïÁöÑ‰∫∫Â∑•Êô∫ËÉΩÈ¢ÜÂüüËÑ±È¢ñËÄåÂá∫„ÄÇÈöèÁùÄÊõ¥Â§öÂç≥Â∞ÜÊé®Âá∫ÁöÑÂäüËÉΩÔºåÂ¶Ç Falcon Ê®°ÂûãÂíåËΩØ‰ª∂ÂÜÖÊ†∏ËûçÂêàÔºåÊàë‰ª¨ÊúâÁêÜÁî±Áõ∏‰ø°ÔºåMistral.rs Â∞ÜÁªßÁª≠ÂºïÈ¢Ü LLM Êé®ÁêÜÊäÄÊúØÁöÑÊú™Êù•ÂèëÂ±ï„ÄÇ

### ÊÄßËÉΩ

[1 ÂÖÉ=1700000tokensÔºÅÊ∏ÖÂçéÁ≥ªÂèëÂ∏ÉÂõΩ‰∫ß Mistral ‰ªÖ 2BÔºåËÄÅÊâãÊú∫ÈÉΩÂ∏¶ÂæóÂä®ÔºåGitHub ‰∏ÄÂ§©Êñ©Ëé∑ 300+Êòü (qq.com)](https://mp.weixin.qq.com/s/tLjETnaLWrrvimUPDcS2yA)

[Mistral 7B v0.2 Âü∫Á°ÄÊ®°ÂûãÂºÄÊ∫êÔºåÈ≠îÊê≠Á§æÂå∫ÂæÆË∞ÉÊïôÁ®ãÂíåËØÑÊµãÊù•Âï¶ÔºÅ - Áü•‰πé (zhihu.com)](https://zhuanlan.zhihu.com/p/689043863)

## LuminalÔºöÂü∫‰∫éRustËØ≠Ë®ÄÁºñÂÜôÁöÑÊ∑±Â∫¶Â≠¶‰π†Â∫ì

**GitHub Âú∞ÂùÄ**Ôºöhttps://github.com/jafioti/luminal

Luminal ÊòØ‰∏Ä‰∏™Ê∑±Â∫¶Â≠¶‰π†Â∫ìÔºåÂÆÉ‰ΩøÁî®ÂèØÁªÑÂêàÁºñËØëÂô®Êù•ÂÆûÁé∞È´òÊÄßËÉΩ„ÄÇ

### ÂäüËÉΩÁâπÊÄßÔºö

#### ÈÄüÂ∫¶

Luminal ÂèØ‰ª•Âú® m Á≥ªÂàó macbook ‰∏ä‰ª•ÊØèÁßí 15-25 ‰∏™ token ÁöÑÈÄüÂ∫¶ËøêË°å Q8 Llama 38b„ÄÇÊàë‰ª¨ÁöÑÁõÆÊ†áÊòØÊàê‰∏∫‰ªª‰ΩïËÆæÂ§á‰∏ä‰ªª‰ΩïÊ®°ÂûãÊúÄÂø´ÁöÑ ML Ê°ÜÊû∂„ÄÇ

#### ÁÆÄÂçï

luminal ÁöÑÊ†∏ÂøÉÂßãÁªàÊòØÊúÄÂ∞èÁöÑ„ÄÇÂ∫îËØ•ÊúâÂèØËÉΩÂú®‰∏Ä‰∏™‰∏ãÂçà‰∫ÜËß£Êï¥‰∏™Ê†∏ÂøÉÂ∫ì„ÄÇ

#### RISC-style Êû∂ÊûÑ

luminal ‰∏≠ÁöÑÊâÄÊúâÂÜÖÂÆπÈÉΩÂèØ‰ª•ÂΩíÁªì‰∏∫ 11 ‰∏™Âü∫Êú¨Êìç‰ΩúÔºö

- Unary - Log2, Exp2, Sin, Sqrt, Recip
- Binary - Add, Mul, Mod, LessThan
- Other - SumReduce, MaxReduce, Contiguous

Ëøô‰∫õÊìç‰ΩúË∂≥‰ª•ÊîØÊåÅ transformersÔºåÂç∑ÁßØÁ•ûÁªèÁΩëÁªúÁ≠â„ÄÇ

#### ÂéüÁîü

ÂΩìÂâçÁöÑÊú∫Âô®Â≠¶‰π†ÁîüÊÄÅÁ≥ªÁªüËøá‰∫éÂàÜÊï£ÔºåËß£ÂÜ≥ÊñπÊ°à‰∏çÊòØÂè¶‰∏Ä‰∏™ÊäΩË±°Â±Ç„ÄÇLuminal ÊòØÁî® rust ÁºñÂÜôÁöÑÔºåÂπ∂Áõ¥Êé•‰∏é CUDA / Metal api ‰∫§‰∫í„ÄÇÊ≤°ÊúâÈó¥Êé•ÊàñÊäΩË±°„ÄÅdocker ÂÆπÂô®ÊàñËôöÊãüÁéØÂ¢É„ÄÇÂè™ÊòØ‰∏Ä‰∏™ÈùôÊÄÅËøûÊé•ÁöÑ rust crate„ÄÇ

### LuminalÁÆÄ‰ªã

LuminalÊòØ‰∏Ä‰∏™‰ª•RustËØ≠Ë®ÄÁºñÂÜôÁöÑÊ∑±Â∫¶Â≠¶‰π†Â∫ìÔºåÂÖ∂Ê†∏ÂøÉ‰ºòÂäøÂú®‰∫éÊâßË°åÈùôÊÄÅËÆ°ÁÆóÂíåËøêÁÆóÁ¨¶ËûçÂêàÔºå‰ª•ÂÆûÁé∞È´òÊÄßËÉΩ„ÄÇ‰∏çÂêå‰∫éÂÖ∂‰ªñÂ§ßÂ§öÊï∞‰ª•Âä®ÊÄÅÊâßË°åÔºàeager executionÔºâ‰∏∫‰∏ªÁöÑÊ∑±Â∫¶Â≠¶‰π†Â∫ìÔºåLuminalÈááÁî®ÁöÑÊòØÈùôÊÄÅËÆ°ÁÆóÂõæÔºàcomputation graphÔºâÔºåÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩ‰ºöËÆ∞ÂΩïÂà∞‰∏Ä‰∏™ÊúâÂêëÊó†ÁéØÂõæ‰∏≠ÔºåÂú®‰ºòÂåñÂíåÊâßË°åËøô‰∏™Âõæ‰πãÂâçÔºåÂπ∂‰∏ç‰ºöËøõË°å‰ªª‰ΩïÂÆûÈôÖÁöÑËÆ°ÁÆó„ÄÇ

### LuminalÁöÑÂ∑•‰ΩúÊñπÂºè

Âú®Luminal‰∏≠ÔºåÂΩì‰Ω†ÁºñÂÜô‰∏Ä‰∏™Ë°®ËææÂºèÂ¶Ç `x + y` Êó∂ÔºåÂπ∂‰∏ç‰ºöÁ´ãÂç≥ËøõË°åËÆ°ÁÆó„ÄÇËøô‰∏™Êìç‰Ωú‰ªÖ‰ªÖÊòØËÆ∞ÂΩï‰∏ãÊù•ÔºåÁ≠âÂæÖÂêéÁª≠ÁöÑÊâßË°å„ÄÇÊ≠£Âõ†‰∏∫ÊâÄÊúâÁöÑÊìç‰ΩúÈÉΩÊòØÈùôÊÄÅÂÆö‰πâÁöÑÔºåËøôËÆ©Êàë‰ª¨Âú®ÊûÑÂª∫Êï¥‰∏™Á•ûÁªèÁΩëÁªúÊó∂ÂèØ‰ª•ÊúâÂÖ®Â±ÄÁöÑ‰ºòÂåñËßÜËßíÔºåÂÖÅËÆ∏Êàë‰ª¨ËøõË°åÊõ¥Âä†ÊøÄËøõÁöÑ‰ºòÂåñÔºåËÄå‰∏çÈúÄË¶Å‰ªª‰ΩïÂêåÊ≠•ÁÇπ„ÄÇ

### ÂºÄÂßã‰ΩøÁî®Luminal

È¶ñÂÖàÔºå‰Ω†ÈúÄË¶ÅÂÆâË£ÖRustËØ≠Ë®ÄÁéØÂ¢ÉÔºåÁÑ∂ÂêéÈÄöËøáÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Êù•ÂÆâË£ÖLuminalÂ∫ìÔºö

```bash
cargo run --example simple
```

ÊàñËÄÖÂèØ‰ª•ËøêË°åÂ¶Ç‰∏ãÂëΩ‰ª§Êù•ÂºÄÂßãÁîüÊàêÊñáÊú¨Ôºö

```bash
bash examples/llama/setup/setup.sh
cargo run --release --example llama
```

### ‰ΩøÁî®LuminalÊûÑÂª∫Á•ûÁªèÁΩëÁªú

‰ª•‰∏ãÊòØ‰∏Ä‰∏™LuminalÁ®ãÂ∫èÁöÑÁ§∫‰æãÔºåÂÆÉÂ±ïÁ§∫‰∫ÜÂ¶Ç‰ΩïËÆæÁΩÆËÆ°ÁÆóÂõæÂíåÂº†ÈáèÔºå‰ª•ÂèäÂ¶Ç‰ΩïÊâßË°åÂü∫Êú¨ÁöÑÁü©Èòµ‰πòÊ≥ïÊìç‰Ωú„ÄÇ

```rust
use luminal::prelude::*;

// ËÆæÁΩÆÂõæÂíåÂº†Èáè
let mut cx = Graph::new();
let a = cx.new_tensor::<R2<3, 1>>("A");
let b = cx.new_tensor::<R2<1, 4>>("B");

// ÊâßË°åÊìç‰Ωú...
let c = a.matmul(b);

// ËÆæÁΩÆËæìÂÖ•Âπ∂Ê†áËÆ∞ËæìÂá∫
a.set(vec![1.0, 2.0, 3.0]);
b.set(vec![1.0, 2.0, 3.0, 4.0]);
c.mark();

// ‰ºòÂåñÂπ∂ËøêË°åÂõæ
cx.optimize(GenericOptimizer::default());
cx.execute();

// Ëé∑ÂèñÁªìÊûú
println!("Result: {:?}", c.retrieve().unwrap().data);
```

Ëøô‰∏™‰æãÂ≠êÈùûÂ∏∏ÁÆÄÂçïÔºå‰ΩÜÂç¥ËÉΩÂ§üËÆ©Êàë‰ª¨ÁúãÂà∞LuminalÁöÑÂü∫Êú¨‰ΩøÁî®ÊñπÊ≥ïÔºöÈ¶ñÂÖàÊòØÂàõÂª∫ËÆ°ÁÆóÂõæÂíåÁõ∏ÂÖ≥ÁöÑÂº†ÈáèÔºåÁÑ∂ÂêéÊâßË°åËÆ°ÁÆóÔºåÂπ∂ÈÄöËøá‰ºòÂåñÂíåÊâßË°åËÆ°ÁÆóÂõæÊù•ÂæóÂà∞ÁªìÊûú„ÄÇ

### LuminalÁöÑÊú™Êù•

Â∞ΩÁÆ°ÁõÆÂâçLuminalËøòÂ§ÑÂú®ÈùûÂ∏∏ÂàùÁ∫ßÁöÑÈò∂ÊÆµÔºåÂÆÉÁöÑËÆæËÆ°ÁêÜÂøµÂíåÈù©Êñ∞ÊÄßÁöÑÊÄßËÉΩ‰ºòÂåñÊñπÊ≥ïÂ∑≤ÁªèÊòæÁ§∫‰∫ÜÂÖ∂Â∑®Â§ßÁöÑÊΩúÂäõ„ÄÇÂºÄÂèëÂõ¢ÈòüÁõÆÂâçÊ≠£Âú®Ëá¥Âäõ‰∫éÂÆûÁé∞ÂåÖÊã¨ÂÖ¨ÂÖ±CUDAÊìç‰ΩúÂíåËá™Âä®ÂõæÂΩ¢ÂæÆÂàÜÂú®ÂÜÖÁöÑÂ§öÈ°π‰ºòÂåñÂíåÂäüËÉΩÊâ©Â±ï„ÄÇ

# AIË∞ÉÁî®Â∫ì

## llm_utils - Rust ‰∏≠Ë∞ÉÁî®Â§ßÊ®°Âûã

ÂèØÈõÜÊàêË∞ÉÁî®Llama.cpp, Openai, Anthropic, Mistral-rsÔºå ‰πüÂèØ‰ª•Áõ¥Êé•‰∏ãËΩΩHuggingFace‰∏äÁöÑGGUFÈáèÂåñÊ®°ÂûãÂπ∂ËøõË°åÊé®ÁêÜ„ÄÇ

GitHubÔºöhttps://github.com/shelbyJenkins/llm_utils

## Fireside Chat

githubÈìæÊé•Ôºöhttps://github.com/danielclough/fireside-chat

‰∏Ä‰∏™Áî®Á∫ØRustÂÆûÁé∞ÁöÑLLMÊé•Âè£ÔºåÂú®Axum Websockets‰∏ä‰ΩøÁî®HuggingFace/CandleÔºå‰ΩøÁî®SQLiteÊï∞ÊçÆÂ∫ìÂíå‰∏Ä‰∏™Áî®TauriÂ∞ÅË£ÖÁöÑLeptos (Wasm)ÂâçÁ´ØÔºÅ

Ëøô‰∏™È°πÁõÆÊòØ‰∏∫ÂçïÁî®Êà∑ÂíåÂ§öÁî®Êà∑ËÅäÂ§©ËÄåËÆæËÆ°ÁöÑÔºå‰ΩøÁî®ËÆ∏Â§öÂ§ßÂûãËØ≠Ë®ÄÊ®°Âûã(LLMs)„ÄÇÂÖ∑ÊúâÊú¨Âú∞ÊàñËøúÁ®ãÊé®ÁêÜÂêéÁ´ØÔºå‰ΩøÁî®Êú¨Âú∞SQLiteÊï∞ÊçÆÂ∫ì„ÄÇ

# ‰∏öÂä°ÂºÄÂèëÂ∫ì

## mietteÔºöÂº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑËØäÊñ≠Â∫ì

mietteÊòØ‰∏Ä‰∏™Âü∫‰∫éRustÁöÑÂº∫Â§ß‰∏îÁÅµÊ¥ªÁöÑËØäÊñ≠Â∫ìÔºåÂÆÉËÆ©‰Ω†ÁöÑÈîôËØØÊä•ÂëäÊó¢ÁæéËßÇÂèàÂÆûÁî®„ÄÇÈÄöËøáÂÆÉÁöÑÁâπÊÄßÔºå‰Ω†ÂèØ‰ª•ËΩªÊùæÂú∞ÂàõÂª∫ÁªìÊûÑÂåñ„ÄÅÂØåÂê´‰∏ä‰∏ãÊñá‰ø°ÊÅØÁöÑÈîôËØØÁ±ªÂûãÔºåÂπ∂‰ª•‰∏ÄÁßçÂèãÂ•ΩÁöÑÊñπÂºèÂëàÁé∞ÁªôÂºÄÂèëËÄÖ„ÄÇ

mietteÁöÑÊ†∏ÂøÉÊòØDiagnosticÔºå‰∏éstd::error::ErrorÂÖºÂÆπÔºå‰∏éthiserrorÂÖºÂÆπ„ÄÇ

È°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/zkat/miette

‰ΩøÁî®Âú∫ÊôØÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÔºö

- REPL‰∫§‰∫íÊâßË°åËøáÁ®ã‰∏≠ÔºåÊâìÂç∞Âá∫ÂèãÂ•ΩÁöÑÈîôËØØÊèêÁ§∫
- SQLËß£ÊûêÈò∂ÊÆµÔºåÂèãÂ•ΩÂú∞Ê†áËÆ∞Âá∫SQL‰∏≠ÊΩúÂú®ÁöÑÈîôËØØ
- ÁºñËØëËØ≠Ë®ÄÊó∂ÁªôÂá∫ÈîôËØØËØäÊñ≠‰ø°ÊÅØ

‰∏ãÈù¢ÊòØ‰ΩøÁî®mietteËØäÊñ≠ÁöÑËæìÂá∫ÊïàÊûúÔºö

![image-20240605135546106](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135546106.png)

## tabled

tabledÊòØ‰∏Ä‰∏™‰ª•Ë°®Ê†ºÊñπÂºèÊâìÂç∞structÂíåenumÁöÑÂ∫ìÔºåËÆ©Êï∞ÊçÆÂ±ïÁ§∫ÂèòÂæóÁÆÄÂçïËÄåÁæéËßÇ„ÄÇ

ÁâπÁÇπÔºö

- Âè™ÈúÄÂ∞ëÈáè‰ª£Á†ÅÂç≥ÂèØÂ∞ÜstructÊï∞ÊçÆÁªìÊûÑËΩ¨Êç¢‰∏∫ÊºÇ‰∫ÆÁöÑË°®Ê†º
- Èô§‰∫ÜÊñáÊú¨Ê†ºÂºèÔºåËøòÊîØÊåÅJSON„ÄÅCSV„ÄÅHTMLÁ≠âÔºå‰æø‰∫éÂíåÂÖ∂ÂÆÉÁ≥ªÁªüÈõÜÊàê
- ËÉΩËøõË°åÊ∑±Â∫¶ÂÆöÂà∂ÔºåÂåÖÊã¨ËæπÊ°ÜÊ†∑Âºè„ÄÅÂ°´ÂÖÖËâ≤„ÄÅÂØπÈΩêÊñπÂºèÁ≠â

Â∫îÁî®Âú∫ÊôØÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÔºö

- Êó•ÂøóËÆ∞ÂΩï
- Êï∞ÊçÆÂàÜÊûê
- CLI‰∫§‰∫íÂ∑•ÂÖ∑

È°πÁõÆÂú∞ÂùÄÔºöhttps://gitcode.com/zhiburt/tabled

‰∏ãÈù¢ÊòØ‰ΩøÁî®tabledÁöÑÊïàÊûúÔºö

![image-20240605135613486](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135613486.png)

**rustyline**

rustylineÊòØ‰∏Ä‰∏™‰ΩøÁî®rustÁºñÂÜôÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑Â∫ìÔºåÊèê‰æõ‰∫Ü‰∏∞ÂØåÁöÑÂäüËÉΩÔºåÊó®Âú®Â∏ÆÂä©ÂºÄÂèëËÄÖËΩªÊùæÂàõÂª∫‰∫§‰∫íÂºèCLIÂ∫îÁî®Á®ãÂ∫è„ÄÇ

ÁâπÁÇπÔºö

- ÈÄöËøáÊ≥®ÂÜåÂõûË∞ÉÂáΩÊï∞ÔºårustylineÂèØ‰ª•Ê†πÊçÆÁî®Êà∑ËæìÂÖ•Êèê‰æõÂÆûÊó∂ÁöÑÂª∫ËÆÆÊàñË°•ÂÖ®ÊèêÁ§∫„ÄÇ
- ‰øùÂ≠òÁî®Êà∑ÁöÑËæìÂÖ•ÂéÜÂè≤ÔºåÂπ∂ÊîØÊåÅÊµèËßàÂéÜÂè≤ËÆ∞ÂΩï
- È´òÂ∫¶ÂèØÂÆöÂà∂ÔºåÂºÄÂèëËÄÖÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅËá™ÂÆö‰πâËæìÂÖ•Ë°å‰∏∫
- Êòì‰∫éÈõÜÊàêÔºåÂÆÉÊòØ‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂ∫ìÔºåÂèØ‰ª•Ê∑ªÂä†Âà∞‰ªª‰ΩïÁöÑRustÈ°πÁõÆ‰∏≠

È°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/kkawakam/rustyline

‰∏ãÈù¢ÊòØ‰ΩøÁî®rustylineÂàõÂª∫ÁöÑÁÆÄÂçïÁöÑ‰∫§‰∫íÂ∑•ÂÖ∑ÁöÑÊïàÊûúÔºö

![image-20240605135631827](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135631827.png)

## serde

serdeÊòØrustÂÆûÁé∞ÁöÑ‰∏Ä‰∏™ÈùûÂ∏∏È´òÊïàÁöÑÂ∫èÂàóÂåñÂíåÂèçÂ∫èÂàóÂåñÂ∫ì„ÄÇrustÊï∞ÊçÆÁªìÊûÑÈÄöËøáÂÆûÁé∞serdeÁöÑSerializeÂíåDeserializeÊé•Âè£Êù•ÂÆûÁé∞Â∫èÂàóÂåñÂäüËÉΩ„ÄÇÊîØÊåÅÁöÑÊï∞ÊçÆÊ†ºÂºèÂ¶Ç‰∏ãÔºö

- json
- bincode
- yaml
- toml
- pickle
- bson
- avro
- url
- ËøòÊúâÂ•ΩÂ§öÂÖ∂ÂÆÉÁöÑÊ†ºÂºè

È°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/serde-rs/serde

‰∏ãÈù¢‰ΩøÁî®serdeÂ∞ÜÁªìÊûÑ‰ΩìÂ∫èÂàóÂåñ‰∏∫jsonÔºåÂπ∂Â∞ÜjsonÂèçÂ∫èÂàóÂåñ‰∏∫ÁªìÊûÑ‰ΩìÔºö

![image-20240605135659498](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135659498.png)

## bigdecimal

rustÂÆûÁé∞ÁöÑÁî®‰∫éËÆ°ÁÆó‰ªªÊÑèÂçÅËøõÂà∂Á≤æÂ∫¶ÁöÑÂ∫ìÔºåÈªòËÆ§ÊîØÊåÅ100‰ΩçÁöÑÁ≤æÂ∫¶ÔºåÂèØ‰ª•ÈÄöËøáRUST_BIGDECIMAL_DEFAULT_PRECISION‰øÆÊîπ„ÄÇ

È°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/akubera/bigdecimal-rs

‰∏ãÈù¢ÊòØ‰ΩøÁî®bigdecimalËÆ°ÁÆóÂºÄÊ†πÂè∑ÁöÑ‰æãÂ≠êÔºö

![image-20240605135719424](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135719424.png)

## derive_more

derive_moreÂèØ‰ª•ËΩªÊùæÊ¥æÁîüÊõ¥Â§öÁöÑtraitÔºåËÄå‰∏çÁî®ÂéªÂÜô‰∏ÄÂ§ßÂ†ÜÈáçÂ§çÁöÑ‰ª£Á†ÅÔºåÂÆÉÊòØÂØπÊ†áÂáÜÂ∫ìderiveÁöÑÊâ©Â±ï„ÄÇ

È°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/JelteF/derive_more

‰∏ãÈù¢ÊòØ‰ΩøÁî®Ê°à‰æãÔºö

```rust
use derive_more::{

    Add, AddAssign, Constructor, Deref, DerefMut, Display, From, FromStr, Index, IndexMut, Into,

    IsVariant, Mul, MulAssign, Not, TryInto,

};



#[derive(

    Add, AddAssign, Constructor, Display, From, FromStr, Into, Mul, MulAssign, Not, Clone, Copy,

)]

pub struct MyInt(i32);



#[derive(Deref, DerefMut)]

pub struct MyBoxedInt(Box<i32>);



#[derive(Index, IndexMut)]

pub struct MyVec(Vec<i32>);



#[derive(Clone, Copy, TryInto, IsVariant)]

enum MixedInts {

    SmallInt(i32),

    NamedBigInt { int: i64 },

}

fn main() {

    let a = MyInt(1000);

    let b = MyInt(20);

    let c = a + b;

    println!("{a} + {b} = {c}");

}
```

ËæìÂá∫Ôºö

![image-20240605135807007](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/image-20240605135807007.png)

## thiserror

Âú®rust‰∏≠ÔºåÁªèÂ∏∏‰ΩøÁî®ResultÂíåOptionÊù•Â§ÑÁêÜÈîôËØØÔºåÊúâ‰∫õÂú∫ÊôØ‰∏ãÂèØËÉΩÈúÄË¶ÅËá™ÂÆö‰πâÈîôËØØÁ±ªÂûãÔºåËøôÁßçÂú∫ÊôØÂ∞±ÊòØthiserrorÂ∫ìÂèëÊå•‰ΩúÁî®ÁöÑÂú∞Êñπ‰∫ÜÔºå‰ΩøÁî®ÂÆÉÂèØ‰ª•ÊûÅÂ§ßÂú∞ÁÆÄÂåñ‰ª£Á†Å„ÄÇ

È°πÁõÆÂú∞ÂùÄÔºöhttps://github.com/dtolnay/thiserror

‰ΩøÁî®Á§∫‰æã:

```rust
// Âä®ÊÄÅÈîôËØØÁ±ªÂûã

fn self_error_type2() {

    // Ëá™ÂÆö‰πâÈîôËØØÁ±ªÂûãÁöÑÂÆö‰πâ

    #[derive(ThisError, Debug)]

    pub enum MyError {

        // FailedWithCode ÁöÑÈîôËØØÊèèËø∞ÔºåÂÖ∂‰∏≠ {0} ‰ºöË¢´Âä®ÊÄÅÂú∞ÊõøÊç¢‰∏∫ÂÖ∑‰ΩìÁöÑ‰ª£Á†ÅÂÄº

        #[error("failed with code: {0}")]

        FailedWithCode(i32),

    }

    //

    fn process_data(error_code: i32) -> Result<(), MyError> {

        // ‰ΩøÁî®Âä®ÊÄÅÁöÑ error_code ÂàõÂª∫ FailedWithCode ÈîôËØØ

        Err(MyError::FailedWithCode(error_code))

    }

    let result = process_data(404);

    println!("result:{:?}", result);

    let result: Result<(), MyError> = process_data(500);

    println!("result:{:?}", result);

    let result = process_data(403);

    println!("result:{:?}", result);

    let result = process_data(503);

    println!("result:{:?}", result);

}
```

ËæìÂá∫Â¶Ç‰∏ãÊâÄÁ§∫Ôºö

```bash
```

## UntwineÔºöÂ£∞ÊòéÂºèËß£ÊûêÂ∫ì

GitHubÔºöhttps://github.com/boxbeam/untwine

UntwineÊòØ‰∏Ä‰∏™Â£∞ÊòéÊÄßËß£ÊûêÂ∫ìÔºåÂÆÉÂÖÅËÆ∏‰∏ÄÁßçÁ±ª‰ºº‰∫é‰ΩøÁî®Ëá™ÂÆö‰πâÂÆèËØ≠Ê≥ïËøõË°åÁõ¥Êé•Ê®°ÂºèÂåπÈÖçÁöÑËß£ÊûêÈ£éÊ†º„ÄÇËøôÂÖÅËÆ∏ÂàõÂª∫ÂÖ∑ÊúâËâØÂ•ΩÊÄßËÉΩÁâπÂæÅÂíåÈ´òË¥®ÈáèÈîôËØØÊ∂àÊÅØÁöÑÊûÅÂÖ∂Á¥ßÂáëÁöÑËß£ÊûêÂô®„ÄÇËøô‰∫õËß£ÊûêÂô®ÂÆûÁé∞Ëµ∑Êù•ÂæàÁÆÄÂçïÔºåÊúâÂá†‰∏™Á≤æÂøÉÊåëÈÄâÁöÑ‰æãÂ≠êÔºö

- ‰∏Ä‰∏™Âá†‰πéÂÆåÊï¥ÁöÑJSONËß£ÊûêÂô®ÔºåÂåÖÂê´12Ë°åËß£ÊûêÈÄªËæë
- ÊîØÊåÅÈô§ÁâπÊÆäËΩ¨‰πâÂ∫èÂàó‰πãÂ§ñÁöÑÊâÄÊúâÂü∫Êú¨JSONÂäüËÉΩÔºàÈô§‚ÄúÔºâ
- ‰∏Ä‰∏™Âú®6Ë°åËß£ÊûêÈÄªËæë‰∏≠ÂÖ∑ÊúâÂõõËøêÁÆóË°®ËææÂºèËß£ÊûêÂô®ÁöÑpmdas
- ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÂØπ‰∏§‰∏™Êï∞Â≠óËøõË°åËøêÁÆó

‰ΩøÁî®untwineÂà∂‰ΩúÁöÑËß£ÊûêÂô®‰πüÊúâÈ´òË¥®ÈáèÁöÑÈîôËØØÊ∂àÊÅØÔºåÂèØ‰ª•Áõ¥ËßÇÂú∞ÊòæÁ§∫ÈîôËØØÂíåÁõ∏ÂÖ≥ËØ≠Ê≥ï„ÄÇ

```rust
fn operate(left: f64, op: char, right: f64) -> f64 {
    match op {
        '+' => left + right,
        '-' => left - right,
        '/' => left / right,
        '*' => left * right,
        _ => unreachable!(),
    }
}

parser! {
    sep = #{char::is_ascii_whitespace}*;
    num: num=<"-"? '0'-'9'+ ("." '0'-'9'+)?> -> f64 { num.parse().unwrap() }
    term = (num | "(" sep expr sep ")") -> f64;
    add: first=mul sep ops=(["+-"] sep mul)* -> f64 { ops.into_iter().fold(first, |left, (op, right)| operate(left, op, right)) }
    mul: first=term sep ops=(["*/"] sep term)* -> f64 { ops.into_iter().fold(first, |left, (op, right)| operate(left, op, right)) }
    pub expr = add -> f64;
}
```



# Âå∫ÂùóÈìæ

[rust-in-blockchain/awesome-blockchain-rustÔºöÂú® Rust ‰∏≠Êî∂ÈõÜÊúâÂÖ≥Âå∫ÂùóÈìæ/ÂØÜÁ†ÅÂ≠¶ÁöÑÂ∫ìÂíåÂåÖ (github.com)](https://github.com/rust-in-blockchain/awesome-blockchain-rust)

# ÂµåÂÖ•Âºè

## embassyÔºöÂµåÂÖ•ÂºèÂºÇÊ≠•ÂºÄÂèëÊ°ÜÊû∂

### Embassy ‰ªÄ‰πàÔºü

Embassy ÂÆÉÊòØ‰∏Ä‰∏™Áî® Rust ËØ≠Ë®ÄÂÆûÁé∞ÁöÑÁé∞‰ª£ÂµåÂÖ•ÂºèÂºÇÊ≠•ÂºÄÂèëÊ°ÜÊû∂ÔºåÂÆÉËá¥Âäõ‰∫éËÆ© async/await Ê®°ÂºèÊàê‰∏∫ÂµåÂÖ•ÂºèÁºñÁ®ãÁöÑÈ¶ñÈÄâ„ÄÇËØ•Ê°ÜÊû∂ÂèØ‰ª•Áúã‰ΩúÊòØÂµåÂÖ•ÂºèÁâàÊú¨ÁöÑ TokioÔºåÂêéËÄÖÊòØ Rust Âú®ÊúçÂä°Âô®Á´ØÂºÇÊ≠•ÁºñÁ®ã‰∏≠ÂπøÊ≥õ‰ΩøÁî®ÁöÑËøêË°åÊó∂ÁéØÂ¢É„ÄÇ

Embassy ‰πüÊòØÊú™Êù•ÂµåÂÖ•ÂºèÂ∫îÁî®Á®ãÂ∫èÁöÑ‰∏ã‰∏Ä‰ª£Ê°ÜÊû∂ÔºåÈááÈõÜ‰∫Ü Rust ÁºñÂÜô„ÄÅÂÖ∂ÂºÇÊ≠•ÂäüËÉΩÂíå Embassy Â∫ìÔºå‰ªéËÄåÊõ¥Âø´Âú∞ÁºñÂÜôÂÆâÂÖ®„ÄÅÊ≠£Á°Æ‰∏îËäÇËÉΩÁöÑÂµåÂÖ•Âºè‰ª£Á†Å„ÄÇ

### Rust + async ‚ù§Ô∏è ÂµåÂÖ•Âºè

Â§ßÂÆ∂ÈÉΩÁü•ÈÅìÔºåRust ÊòØ‰∏ÄÁßçÈÄüÂ∫¶ÊûÅÂø´„ÄÅÂÜÖÂ≠òÊïàÁéáÊûÅÈ´òÁöÑÁºñÁ®ãËØ≠Ë®ÄÔºåÂÆÉ‰∏çÈúÄË¶ÅËøêË°åÊó∂„ÄÅÂûÉÂúæÊî∂ÈõÜÂô®ÊàñÊìç‰ΩúÁ≥ªÁªüÁöÑ‰ªãÂÖ•„ÄÇRust ÁöÑÂÜÖÂ≠òÂÆâÂÖ®‰øùËØÅÂíåÂº∫Â§ßÁöÑÁ±ªÂûãÁ≥ªÁªüËÉΩÂ§üÂú®ÁºñËØëÊó∂ÊúüÊçïÊçâÂêÑÁßçÊΩúÂú®ÈîôËØØÔºå‰ªéËÄåÂáèÂ∞ëËøêË°åÊó∂ÁöÑÈóÆÈ¢ò„ÄÇ

ÈÇ£‰πàÔºåÂú®ÂµåÂÖ•ÂºèÁ≥ªÁªü‰∏≠ÔºåRust ÁöÑ async/await ÁâπÊÄß‰ΩøÂæóÂ§ö‰ªªÂä°Â§ÑÁêÜÂèòÂæóÂºÇÂ∏∏ÁÆÄÂçïÂíåÈ´òÊïàÔºåÂºÇÊ≠•‰ªªÂä°Âú®ÁºñËØëÊó∂Ë¢´ËΩ¨Êç¢ÊàêÁä∂ÊÄÅÊú∫ÔºåÈÅøÂÖç‰∫ÜÂä®ÊÄÅÂÜÖÂ≠òÂàÜÈÖçÁöÑÈúÄÊ±ÇÔºåÂπ∂‰∏îÊâÄÊúâ‰ªªÂä°ÈÉΩÂú®Âçï‰∏™Â†ÜÊ†à‰∏äËøêË°åÔºåÊó†ÈúÄÊãÖÂøÉÂ†ÜÊ†àÂ§ßÂ∞èË∞ÉÊï¥ÁöÑÈóÆÈ¢ò„ÄÇËøôÁßçËÆæËÆ°Ê∂àÈô§‰∫Ü‰º†ÁªüÂÆûÊó∂Êìç‰ΩúÁ≥ªÁªüÔºàRTOSÔºâÊâÄÈúÄÁöÑÂÜÖÊ†∏‰∏ä‰∏ãÊñáÂàáÊç¢Ôºå‰ΩøÂæóÁ≥ªÁªüËøêË°åÊõ¥Âø´„ÄÅÂç†Áî®Á©∫Èó¥Êõ¥Â∞è„ÄÇ

### Embassy Ê°ÜÊû∂ÁâπÁÇπ

- **‰∏ìÁî®Á°¨‰ª∂ÊäΩË±°Â±ÇÔºàHALÔºâ**ÔºöEmbassy Êã•Êúâ‰∏∫ÂµåÂÖ•ÂºèËÆæÂ§áÂÆöÂà∂ÁöÑÁ°¨‰ª∂ÊäΩË±°Â±ÇÔºåËøôÊúâÂä©‰∫éÁÆÄÂåñÁ°¨‰ª∂‰∫§‰∫íÔºåÂπ∂‰∏∫ÂºÄÂèëËÄÖÊèê‰æõ‰∏ÄËá¥ÁöÑÊé•Âè£„ÄÇ
- **Áªü‰∏ÄÁöÑ STM32 ÊîØÊåÅ**ÔºöÁªôÊâÄÊúâÂèóÊîØÊåÅÁöÑ STM32 ËÆæÂ§áÊèê‰æõÁªü‰∏ÄÁöÑ API ÂíåÂçï‰∏ÄÂ∫ìÔºå‰ΩøÂæó‰∏é STM32 Á≥ªÂàóÂæÆÊéßÂà∂Âô®ÁöÑÊé•Âè£ÂíåÊìç‰ΩúÊõ¥Âä†Áõ¥Êé•ÂíåÈ´òÊïà‰∫Ü„ÄÇ
- **Áªü‰∏Ä API**ÔºöEmbassy Êó®Âú®‰∏∫ÊâÄÊúâÊîØÊåÅÁöÑ STM32 ËÆæÂ§áÊèê‰æõÁªü‰∏ÄÁöÑÂ∫îÁî®Á®ãÂ∫èÊé•Âè£ÔºàAPIÔºâ„ÄÇËøôÁßçÊñπÊ≥ïÁÆÄÂåñ‰∫ÜË∑®‰∏çÂêå STM32 ËÆæÂ§áÁöÑ‰ª£Á†ÅÁßªÊ§çÂíåÈÄÇÈÖçÔºåÂõ†‰∏∫ÂºÄÂèëËÄÖÂèØ‰ª•‰æùËµñ‰∏ÄËá¥ÁöÑÁºñÁ®ãÊ®°Âûã„ÄÇ
- **Áã¨Á´ã‰ΩøÁî®**ÔºöÈÄöËøá‰ΩøÁî®Áã¨Á´ãÁöÑ metapac crate ‰Ωú‰∏∫ÂçïÁã¨ÁöÑÂ∫ì‰ΩøÁî®ÔºåÂ•ΩÂ§ÑÂ∞±ÊòØ‰∏çÁî® Embassy ÁöÑÂºÇÊ≠•Ê°ÜÊû∂Êàñ HALÔºåÂºÄÂèëËÄÖ‰πüÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄÊ±ÇÂà©Áî® metapac ËøõË°åÁ°¨‰ª∂ÊäΩË±°„ÄÇ
- **‰ΩéÂäüËÄóÂ∞±Áª™**ÔºöËÆ©‰Ω†ËΩªÊùæÊûÑÂª∫ÂÖ∑ÊúâÂ§öÂπ¥ÁîµÊ±†ÂØøÂëΩÁöÑËÆæÂ§áÔºåÂΩìÊ≤°ÊúâÂ∑•‰ΩúË¶ÅÂÅöÊó∂ÔºåÂºÇÊ≠•ÊâßË°åÂô®Ëá™Âä®Â∞ÜÊ†∏ÂøÉÁΩÆ‰∫éÁù°Áú†Áä∂ÊÄÅ„ÄÇ‰ªªÂä°Áî±‰∏≠Êñ≠Âî§ÈÜíÔºåÁ≠âÂæÖÊó∂Ê≤°ÊúâÂøôÁ¢åÂæ™ÁéØËΩÆËØ¢„ÄÇ
- **ËìùÁâô**Ôºönrf-softdevice crate ‰∏∫ nRF52 ÂæÆÊéßÂà∂Âô®Êèê‰æõ‰∫ÜËìùÁâô‰ΩéÂäüËÄó 4.x Âíå 5.x ÊîØÊåÅ„ÄÇembassy-stm32-wpan crate ‰∏∫ stm32wb ÂæÆÊéßÂà∂Âô®Êèê‰æõ‰∫ÜËìùÁâô‰ΩéÂäüËÄó 5.x ÊîØÊåÅ„ÄÇ
- **ÁΩëÁªú**Ôºöembassy-net ÁΩëÁªúÊ†àÂÆûÁé∞‰∫ÜÂπøÊ≥õÁöÑÁΩëÁªúÂäüËÉΩÔºåÂåÖÊã¨Â¶Ç‰ª•Â§™ÁΩë„ÄÅIP„ÄÅTCP„ÄÅUDP„ÄÅICMP Âíå DHCP„ÄÇ

Êõ¥Â§öÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÂèØ‰ª•Âà∞GIthubÊàñÂÆòÁΩëËøõË°åÂ≠¶‰π†ÂíåÂÆûË∑µÔºå‰Ω†‰ºöËé∑ÂèñÊõ¥Â§öÊèêÂçá„ÄÇ

### ÂèÇËÄÉËµÑÊñôÔºö

- GIthubÂú∞ÂùÄÔºöhttps://github.com/embassy-rs/embassy
- ÂÆòÁΩëÂú∞ÂùÄÔºöhttps://embassy.dev/

# ÊµãËØï

## NextestÔºö‰∏ã‰∏Ä‰ª£ Rust ÊµãËØïÂä†ÈÄüÁ•ûÂô®

- Nextest ÂÆòÁΩëÊñáÊ°£Ôºöhttps://nexte.st/
- Nextest GitHub ‰ªìÂ∫ìÔºöhttps://github.com/nextest-rs/nextest

### ÂºïË®Ä

Â¶ÇÊûú‰Ω†ÊòØ‰∏ÄÂêç Rust ÂºÄÂèëËÄÖÔºåÈÇ£‰πà‰∏ÄÂÆöÁªèÂ∏∏Âú®È°πÁõÆ‰∏≠ÁºñÂÜôÂíåËøêË°åÊµãËØï„ÄÇRust Ëá™Â∏¶ÁöÑ `cargo test` ÂëΩ‰ª§ËôΩÁÑ∂Â•ΩÁî®Ôºå‰ΩÜÂú®Â§ßÂûãÈ°πÁõÆ‰∏≠ËøêË°åÊïàÁéá‰∏çÂ§üÁêÜÊÉ≥„ÄÇ‰ªäÂ§©ÁªôÂ§ßÂÆ∂‰ªãÁªç‰∏Ä‰∏™Ë∂ÖÁ∫ßÂº∫Â§ßÁöÑ Rust ÊµãËØïËøêË°åÂ∑•ÂÖ∑ÔºöNextest„ÄÇÁî®‰∏äÂÆÉÔºåËÆ©‰Ω†ÁöÑ Rust È°πÁõÆÊµãËØïÈÄüÂ∫¶ÂóñÂóñÁöÑ~

### Âàõ‰ΩúËÉåÊôØ

ÊúÄËøëÔºåÊàëÂú® GitHub ‰∏äÂèëÁé∞‰∫Ü‰∏Ä‰∏™‰ºòÁßÄÁöÑÂºÄÊ∫êÊµãËØïÂ∑•ÂÖ∑ cargo-nextestÔºåÂÆÉÊòØ Rust ÁîüÊÄÅ‰∏≠ `cargo test` ÁöÑÂçáÁ∫ßÁâàÊú¨„ÄÇÁõ∏ÊØîÂéüÁîüÁöÑ `cargo test`ÔºåNextest ÊúâËÆ∏Â§ö‰ºòÂäøÔºö

- ÁæéËßÇÊòìËØªÁöÑÊµãËØïÁªìÊûúËæìÂá∫
- ËøêË°åÈÄüÂ∫¶ÊØî `cargo test` Âø´ 2-3 ÂÄç
- ÊîØÊåÅÊ£ÄÊµãÊÖ¢ÊµãËØï„ÄÅÊ≥ÑÊºèÊµãËØïÔºåÂπ∂ËÉΩËá™Âä®ÁªàÊ≠¢Ë∂ÖÊó∂ÁöÑÊµãËØïÁî®‰æã
- ÂÖÅËÆ∏‰ΩøÁî®ÁÅµÊ¥ªÁöÑËøáÊª§Ë°®ËææÂºèÊù•Á≠õÈÄâÊµãËØïÈõÜ
- ËÉΩÈÖçÁΩÆÂçïÁã¨ÊµãËØïÁöÑÈáçËØï„ÄÅÊùÉÈáç„ÄÅ‰∏≤Ë°åËøêË°åÁ≠â
- ‰∏ì‰∏∫ CI ÊµÅÁ®ã‰ºòÂåñÔºåÊîØÊåÅÁºìÂ≠òÊûÑÂª∫„ÄÅÂπ∂Ë°åÊµãËØïÁ≠â
- Ë∑®Âπ≥Âè∞ÔºåLinux„ÄÅmacOS„ÄÅWindows ÂÖ®ÈÉΩÊîØÊåÅ
- ‚Ä¶‚Ä¶

ÁúãÂÆåËøô‰∫õÁâπÊÄßÔºåÊòØ‰∏çÊòØÂ∑≤ÁªèË∑ÉË∑ÉÊ¨≤ËØï‰∫ÜÂë¢Ôºü‰∏ãÈù¢Â∞±ÁªôÂ§ßÂÆ∂ÂàÜ‰∫´Â¶Ç‰ΩïÂø´ÈÄü‰∏äÊâã‰ΩøÁî® Nextest Êù•Âä†ÈÄü Rust È°πÁõÆÁöÑÊµãËØï„ÄÇ

### ‰∏ªË¶ÅÁâπÊÄß

#### ÁæéËßÇÊòìËØªÁöÑÊµãËØïÁªìÊûú

Nextest Êèê‰æõ‰∫ÜÁÆÄÊ¥ÅÁæéËßÇÁöÑÊµãËØïÁªìÊûúËæìÂá∫Ôºå‰Ω†ÂèØ‰ª•‰∏ÄÁõÆ‰∫ÜÁÑ∂Âú∞ÁúãÂà∞Âì™‰∫õÊµãËØïÈÄöËøá‰∫ÜÔºåÂì™‰∫õÂ§±Ë¥•‰∫Ü„ÄÇ‰æãÂ¶ÇÔºö

![ÂõæÁâá](./RustÊ°ÜÊû∂ÂíåÂ∫ì.assets/640-1714650959113-58.webp)nextest-output

#### Ê£ÄÊµãÊÖ¢ÊµãËØïÂíåÊ≥ÑÊºèÊµãËØï

‰ΩøÁî® NextestÔºå‰Ω†ÂèØ‰ª•ËΩªÊùæÊâæÂá∫È°πÁõÆ‰∏≠ÁöÑÊÖ¢ÊµãËØï„ÄÅÊ≥ÑÊºèÊµãËØïÔºåÂπ∂ËÆæÁΩÆË∂ÖÊó∂Êó∂Èó¥Ôºå‰∏ÄÊó¶Ë∂ÖÊó∂Â∞±Ëá™Âä®ÁªàÊ≠¢ÔºåÈÅøÂÖçÊµ™Ë¥π CI ËµÑÊ∫ê„ÄÇÂè™ÈúÄÔºö

```bash
cargo nextest run --slow-timeout 60 --leak-timeout 1024
```

#### ÁÅµÊ¥ªÁ≠õÈÄâÊµãËØïÈõÜ

Nextest ÊîØÊåÅ‰ΩøÁî®Á±ª‰ºº SQL ÁöÑËøáÊª§Ë°®ËææÂºèÊù•ÁÅµÊ¥ªÊåáÂÆöË¶ÅËøêË°åÁöÑÊµãËØïÂ≠êÈõÜÔºå‰æãÂ¶ÇÔºö

```bash
# ËøêË°åÊåáÂÆöÂêçÁß∞ÁöÑÊµãËØï
cargo nextest run test_name

# ËøêË°åÊåáÂÆöÊ®°ÂùóÁöÑÊµãËØï
cargo nextest run module::

# ËøêË°å‰∏äÊ¨°Â§±Ë¥•ÁöÑÊµãËØï
cargo nextest run -- --failed
```

#### Ëá™Âä®ÈáçËØïÂ§±Ë¥•ÁöÑÊµãËØï

‰Ω†ËøòÂèØ‰ª•ËÆ© Nextest Ëá™Âä®ÈáçËØïÂ§±Ë¥•ÁöÑÊµãËØïÔºåÂØπ‰∫éÂÅ∂ÂèëÁöÑ flaky ÊµãËØïÂæàÊúâÂ∏ÆÂä©Ôºö

```rust
## nextest.toml
[profile.ci.retry]
all_targets = [
    { filter = "test_flaky", max_retries = 3 },
]
```

ËÆæÁΩÆÂ•ΩÈáçËØïÈÖçÁΩÆÂêéÔºåNextest ‰ºöËá™Âä®ÈáçËØï `test_flaky` Áõ∏ÂÖ≥ÁöÑÂ§±Ë¥•Áî®‰æãÔºåÁõ¥Âà∞ÈÄöËøáÊàñËææÂà∞ÊúÄÂ§ßÈáçËØïÊ¨°Êï∞„ÄÇ

#### ‰∏ì‰∏∫ CI ÊâìÈÄ†

Nextest Âú®ËÆæËÆ°‰πãÂàùÂ∞±ËÄÉËôë‰∫Ü CI Âú∫ÊôØÔºåÂÆÉÊîØÊåÅÔºö

- Âø´ÈÄüÂÆâË£ÖÔºåÊèê‰æõÂêÑÁßçÁ≥ªÁªüÁöÑÈ¢ÑÁºñËØë‰∫åËøõÂà∂ÂåÖ
- Âü∫‰∫éÈÖçÁΩÆÊñá‰ª∂ÁöÑ CI ÈÖçÁΩÆÁÆ°ÁêÜ
- ÈÄöËøáÁºìÂ≠òÂíåÂ§çÁî®ÂéÜÂè≤ÊûÑÂª∫ÁªìÊûúÊù•Âä†ÈÄüÊµãËØï
- Â∞ÜÂ§ßÂûãÊµãËØï‰ªªÂä°ÂàÜÁâáÂà∞Â§ö‰∏™ CI ‰ªªÂä°Âπ∂Ë°åËøêË°å
- ÈõÜÊàê JUnit Ê†ºÂºèÊµãËØïÊä•ÂëäËæìÂá∫
- ‚Ä¶‚Ä¶

Âú® CI ÊµÅÊ∞¥Á∫ø‰∏≠ÈõÜÊàê NextestÔºåÂá†Ë°åÈÖçÁΩÆÂ∞±ËÉΩËÆ© Rust È°πÁõÆÁöÑÊµãËØïÈÄüÂ∫¶Â§ßÂπÖÊèêÂçá„ÄÇ

### Âø´ÈÄü‰∏äÊâã

‰ΩøÁî® Nextest ÈùûÂ∏∏ÁÆÄÂçïÔºåË∑ü `cargo test` Á±ª‰ºº„ÄÇ‰ª•‰∏ãÊòØÂá†‰∏™Â∏∏Áî®ÂëΩ‰ª§Ôºö

```bash
# ËøêË°åÈ°πÁõÆ‰∏≠ÁöÑÊâÄÊúâÊµãËØï
cargo nextest run

# Âπ∂ÂèëËøêË°åÔºåÈªòËÆ§Á∫øÁ®ãÊï∞‰∏∫ CPU Ê†∏ÂøÉÊï∞
cargo nextest run --release -- --jobs 4

# ËøêË°åÊåáÂÆöÁöÑÊµãËØïÂ≠êÈõÜ
cargo nextest run test_foo

# ÈáçËØïÂ§±Ë¥•ÁöÑÊµãËØïÁî®‰æã
cargo nextest run --retries 3
```

ÂÅáËÆæÊúâ‰ª•‰∏ãÊµãËØïÁî®‰æãÔºö

```rust
#[test]
fn test_foo() {
    // ÊµãËØï‰ª£Á†Å A
    assert_eq!(1 + 1, 2);
}

#[test]
fn test_bar() {
    // ÊµãËØï‰ª£Á†Å B
    assert_eq!("hello".len(), 5);
}
```

ËøêË°å `cargo nextest run` ÂêéËæìÂá∫Â¶Ç‰∏ãÔºö

```bash
running 2 tests
test test_bar ... ok
test test_foo ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s
```

ÂèØËßÅ Nextest ‰∏é `cargo test` ÁöÑÁî®Ê≥ïÂü∫Êú¨‰∏ÄËá¥ÔºåÂè™ÈúÄÂ∞Ü `cargo test` ÊõøÊç¢‰∏∫ `cargo nextest run` Âç≥ÂèØ„ÄÇ‰ΩÜÂú®Â∫ïÂ±ÇÔºåNextest ÈÄöËøáÂπ∂Ë°åÊâßË°å„ÄÅÊµãËØïÁªìÊûúÁºìÂ≠òÁ≠â‰ºòÂåñÊé™ÊñΩÊù•ËææÂà∞Êõ¥Âø´ÁöÑÈÄüÂ∫¶„ÄÇ

### ÊÄªÁªì

Êú¨ÊñáÂêëÂ§ßÂÆ∂‰ªãÁªç‰∫Ü Rust ÊµãËØïÂ∑•ÂÖ∑Â±äÁöÑÂêéËµ∑‰πãÁßÄ ‚Äî‚Äî Nextest„ÄÇÂÆÉÊèê‰æõ‰∫ÜÂ§öÈ°πÂ¢ûÂº∫ÂäüËÉΩÂíåÊÄßËÉΩ‰ºòÂåñÔºåËÆ© Rust È°πÁõÆÁöÑÊµãËØïÊâßË°åÊõ¥Âä†È´òÊïà„ÄÅÊô∫ËÉΩ„ÄÇÂª∫ËÆÆÂØπÊµãËØïÈÄüÂ∫¶Ë¶ÅÊ±ÇËæÉÈ´òÁöÑ Rustacean ÊúãÂèã‰∏ÄËØï„ÄÇ

Â∏åÊúõÈÄöËøáÊú¨ÊñáÔºåËÉΩËÆ©Êõ¥Â§ö‰∫∫ÊÑüÂèóÂà∞ Nextest ÁöÑÂº∫Â§ßÔºÅÂ§ßÂπÖÊèêÂçá‰Ω†ÁöÑ Rust ÊµãËØïÊïàÁéáÊåáÊó•ÂèØÂæÖÔºÅ

# ÂÖ∂‰ªñ

## Rust Ëé∑ÂèñÁ≥ªÁªü‰ø°ÊÅØÁöÑÂºÄÊ∫êÈ°πÁõÆÔºösysinfo

### ÂèÇËÄÉÊñáÁ´†

- sysinfo Github RepoÔºöhttps://github.com/GuillaumeGomez/sysinfo
- sysinfo ÂÆòÊñπÊñáÊ°£Ôºöhttps://lib.rs/crates/sysinfo

### ÂºïË®Ä

ÂØπ‰∫éÂºÄÂèëËÄÖÊù•ËØ¥ÔºåËé∑ÂèñÁ≥ªÁªü‰ø°ÊÅØÊòØ‰∏Ä‰∏™Â∏∏ËßÅÁöÑÈúÄÊ±Ç„ÄÇÊØîÂ¶ÇÊàë‰ª¨ÂèØËÉΩÈúÄË¶ÅÁü•ÈÅìÂΩìÂâçÁ≥ªÁªüÁöÑÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµ„ÄÅCPU ‰ΩøÁî®Áéá„ÄÅÁ£ÅÁõò‰ø°ÊÅØÁ≠â„ÄÇÂú® Rust ËØ≠Ë®Ä‰∏≠ÔºåÊúâ‰∏Ä‰∏™ÈùûÂ∏∏‰ºòÁßÄÁöÑÂºÄÊ∫êÈ°πÁõÆÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨Âø´ÈÄüËé∑ÂèñËøô‰∫õÁ≥ªÁªü‰ø°ÊÅØÔºåÈÇ£Â∞±ÊòØ sysinfo„ÄÇÊú¨ÊñáÂ∞Ü‰∏∫Â§ßÂÆ∂‰ªãÁªç sysinfo ÁöÑ‰∏ªË¶ÅÁâπÊÄß‰ª•ÂèäÂü∫Êú¨Áî®Ê≥ï„ÄÇ

### Âàõ‰ΩúËÉåÊôØ

Á¨îËÄÖÊúÄËøëÂú®‰ΩøÁî® Rust ÂºÄÂèë‰∏Ä‰∏™ÊÄßËÉΩÁõëÊéßÂ∑•ÂÖ∑ÔºåÈúÄË¶ÅËé∑ÂèñÁ≥ªÁªüÁöÑÂêÑÁßç‰ø°ÊÅØ„ÄÇÂú®ÂØªÊâæÁõ∏ÂÖ≥ÁöÑÂ∫ìÊó∂ÂèëÁé∞‰∫Ü sysinfo Ëøô‰∏™‰ºòÁßÄÁöÑÂºÄÊ∫êÈ°πÁõÆ„ÄÇÁªèËøá‰∏ÄÁï™‰ΩøÁî®ÔºåÂèëÁé∞ sysinfo ‰∏ç‰ªÖÂäüËÉΩÂº∫Â§ßÔºåÊé•Âè£‰πüÈùûÂ∏∏ÊòìÁî®ÔºåÂõ†Ê≠§ÊÉ≥ÂàÜ‰∫´ÁªôÂ§ßÂÆ∂ÔºåÂ∏åÊúõÂØπÊúâÁ±ª‰ººÈúÄÊ±ÇÁöÑÂêåÂ≠¶ÊúâÊâÄÂ∏ÆÂä©„ÄÇ

### ‰∏ªË¶ÅÁâπÊÄß

sysinfo ÁõÆÂâçÊîØÊåÅ‰ª•‰∏ãÊìç‰ΩúÁ≥ªÁªüÔºö

- Android
- FreeBSD
- iOS
- Linux
- macOS
- Raspberry Pi
- Windows

Âú®Ëøô‰∫õÁ≥ªÁªü‰∏äÔºåsysinfo ÂèØ‰ª•Êèê‰æõÂ¶Ç‰∏ã‰ø°ÊÅØÔºö

- Á≥ªÁªü‰ø°ÊÅØÔºöÁ≥ªÁªüÂêçÁß∞„ÄÅÂÜÖÊ†∏ÁâàÊú¨„ÄÅ‰∏ªÊú∫ÂêçÁ≠â
- ÂÜÖÂ≠òÂíå‰∫§Êç¢Á©∫Èó¥‰ø°ÊÅØ
- CPU ‰ø°ÊÅØÔºöCPU Êï∞Èáè„ÄÅ‰ΩøÁî®ÁéáÁ≠â
- ËøõÁ®ã‰ø°ÊÅØÔºöËøõÁ®ã ID„ÄÅËøõÁ®ãÂêç„ÄÅÁ£ÅÁõò‰ΩøÁî®Á≠â
- Á£ÅÁõò‰ø°ÊÅØ
- ÁΩëÁªúÊé•Âè£‰ø°ÊÅØ
- Á°¨‰ª∂ÁªÑ‰ª∂‰ø°ÊÅØÔºöÊ∏©Â∫¶‰º†ÊÑüÂô®Á≠â

Èô§‰∫ÜÂü∫Êú¨ÁöÑÁ≥ªÁªü‰ø°ÊÅØËé∑ÂèñÔºåsysinfo ËøòÊèê‰æõ‰∫Ü‰∏Ä‰∫õÈ¢ùÂ§ñÁöÑÂäüËÉΩÔºåÊØîÂ¶ÇÂèØ‰ª•ËÆæÁΩÆ‰øùÊåÅÊâìÂºÄÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶Êï∞Èáè‰ª•ÊèêÈ´òÊÄßËÉΩÁ≠â„ÄÇÂêåÊó∂ sysinfo ËøòÊèê‰æõ‰∫Ü‰∏Ä‰∏™ C ËØ≠Ë®ÄÊé•Âè£ÔºåÊñπ‰æøÂú® C ËØ≠Ë®ÄÈ°πÁõÆ‰∏≠Ë∞ÉÁî®„ÄÇ

### Âø´ÈÄü‰∏äÊâã

‰ΩøÁî® sysinfo ÈùûÂ∏∏ÁÆÄÂçïÔºåÈ¶ñÂÖàÂú® Cargo.toml ‰∏≠Ê∑ªÂä†‰æùËµñÔºö

```bash
[dependencies]
sysinfo = "0.30"
```

ÁÑ∂ÂêéÂ∞±ÂèØ‰ª•Âú®‰ª£Á†Å‰∏≠‰ΩøÁî®‰∫ÜÔºå‰∏ãÈù¢ÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö

```rust
use sysinfo::{System, SystemExt};

let mut sys = System::new_all();

// Êõ¥Êñ∞Á≥ªÁªü‰ø°ÊÅØ
sys.refresh_all();

// ÊâìÂç∞ÂÜÖÂ≠ò‰ø°ÊÅØ
println!("ÊÄªÂÜÖÂ≠òÔºö{} KB", sys.total_memory());
println!("‰ΩøÁî®ÂÜÖÂ≠òÔºö{} KB", sys.used_memory());

// ÊâìÂç∞ CPU Êï∞Èáè
println!("CPU Ê†∏ÂøÉÊï∞Ôºö{}", sys.cpus().len());
```

‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨È¶ñÂÖàÂàõÂª∫‰∫Ü‰∏Ä‰∏™ System ÂØπË±°ÔºåÁÑ∂ÂêéË∞ÉÁî® refresh_all() ÊñπÊ≥ïÊõ¥Êñ∞Á≥ªÁªü‰ø°ÊÅØÔºåÊúÄÂêéÊâìÂç∞‰∫ÜÂÜÖÂ≠òÂíå CPU ‰ø°ÊÅØ„ÄÇ

ÁºñËØëËøêË°åÂêéËæìÂá∫Â¶Ç‰∏ãÔºö

```bash
ÊÄªÂÜÖÂ≠òÔºö16384000 KB
‰ΩøÁî®ÂÜÖÂ≠òÔºö8025360 KB
CPU Ê†∏ÂøÉÊï∞Ôºö8
```

### ÊÄªÁªì

sysinfo ÊòØ‰∏Ä‰∏™ÂäüËÉΩÂº∫Â§ß‰∏îÊòìÁî®ÁöÑÁ≥ªÁªü‰ø°ÊÅØÂ∫ì„ÄÇÂÆÉÊîØÊåÅÂ§ö‰∏™‰∏ªÊµÅÊìç‰ΩúÁ≥ªÁªüÔºåÂèØ‰ª•Ëé∑ÂèñÁ≥ªÁªü„ÄÅÂÜÖÂ≠ò„ÄÅCPU„ÄÅËøõÁ®ã„ÄÅÁ£ÅÁõò„ÄÅÁΩëÁªúÁ≠âÂêÑÁßç‰ø°ÊÅØ„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑ Rust È°πÁõÆ‰∏≠ÊúâËé∑ÂèñÁ≥ªÁªü‰ø°ÊÅØÁöÑÈúÄÊ±ÇÔºåsysinfo ÁªùÂØπÊòØ‰∏Ä‰∏™‰∏ç‰∫å‰πãÈÄâ„ÄÇ

## env_loggerÔºöRust Êó•ÂøóÂà©Âô®

### Âú∞ÂùÄÊñáÊ°£

- env_logger ÊñáÊ°£Ôºöhttps://docs.rs/env_logger
- env_logger repoÔºöhttps://github.com/rust-cli/env_logger

### ÂºïË®Ä

Âú® Rust ÁºñÁ®ã‰∏≠ÔºåÊó•ÂøóÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰∏Ä‰∏™ÁªÑÊàêÈÉ®ÂàÜ„ÄÇÊú¨ÊñáÂ∞Ü‰∏∫Â§ßÂÆ∂‰ªãÁªç‰∏ÄÊ¨æ‰ºòÁßÄÁöÑ Rust Êó•ÂøóÂ∫ì‚Äî‚Äî `env_logger`ÔºåÂπ∂ÈÄöËøáÂÆû‰æãËÆ≤Ëß£Â¶Ç‰ΩïÂø´ÈÄü‰∏äÊâã‰ΩøÁî®ÂÆÉ„ÄÇ

### Âàõ‰ΩúËÉåÊôØ

Á¨îËÄÖÂú®Â≠¶‰π† Rust ËøáÁ®ã‰∏≠ÔºåÂèëÁé∞Êó•ÂøóÂú®Ë∞ÉËØïÁ®ãÂ∫è„ÄÅËÆ∞ÂΩïÂÖ≥ÈîÆ‰ø°ÊÅØÁ≠âÊñπÈù¢ÊâÆÊºîÁùÄËá≥ÂÖ≥ÈáçË¶ÅÁöÑËßíËâ≤„ÄÇÂú®‰ºóÂ§ö Rust Êó•ÂøóÂ∫ì‰∏≠Ôºå`env_logger` Âõ†ÂÖ∂ÁÆÄÂçïÊòìÁî®ÂíåÂº∫Â§ßÁöÑÂäüËÉΩËÑ±È¢ñËÄåÂá∫ÔºåÊ∑±ÂæóÂπøÂ§ß Rust ÂºÄÂèëËÄÖÁöÑÂñúÁà±„ÄÇÂõ†Ê≠§ÔºåÂ∞Ü `env_logger` ‰ªãÁªçÁªôÊõ¥Â§ö Rust ÂàùÂ≠¶ËÄÖÔºåÊòØÁ¨îËÄÖÂàõ‰ΩúÊú¨ÊñáÁöÑÂàùË°∑„ÄÇ

### ‰∏ªË¶ÅÁâπÊÄß

`env_logger` ÊòØ‰∏Ä‰∏™ÈÄöËøáÁéØÂ¢ÉÂèòÈáèËøõË°åÈÖçÁΩÆÁöÑÊó•ÂøóÂ∫ìÔºå‰∏ªË¶ÅÊúâ‰ª•‰∏ãÁâπÊÄßÔºö

1. ÂèØÈÄöËøáÁéØÂ¢ÉÂèòÈáè `RUST_LOG` ËΩªÊùæÈÖçÁΩÆÊó•ÂøóÁ∫ßÂà´Ôºõ
2. ÊîØÊåÅ‰∫î‰∏™Êó•ÂøóÁ∫ßÂà´Ôºö`error`„ÄÅ`warn`„ÄÅ`info`„ÄÅ`debug` Âíå `trace`Ôºõ
3. ÊîØÊåÅÈíàÂØπ‰∏çÂêåÊ®°ÂùóËÆæÁΩÆ‰∏çÂêåÁöÑÊó•ÂøóÁ∫ßÂà´Ôºõ
4. ÂèØËá™ÂÆö‰πâÊó•ÂøóËæìÂá∫Ê†ºÂºèÔºõ
5. ‰∏é `log` crate Êó†ÁºùÈõÜÊàê„ÄÇ

### Âø´ÈÄü‰∏äÊâã

‰ª•‰∏ãÊòØ `env_logger` ÁöÑÂü∫Êú¨‰ΩøÁî®ÊñπÊ≥ï„ÄÇ

#### 1. Ê∑ªÂä†‰æùËµñ

Âú® `Cargo.toml` Êñá‰ª∂ÁöÑ `[dependencies]` ‰∏ãÊ∑ªÂä†Ôºö

```rust
[dependencies]
log = "0.4"
env_logger = "0.11"
```

#### 2. ÂàùÂßãÂåñ logger

Âú®Á®ãÂ∫èÂÖ•Âè£Â§ÑÂàùÂßãÂåñ `env_logger`Ôºö

```rust
use log::info;

fn main() {
    // ÂàùÂßãÂåñ logger
    env_logger::init();

    info!("ÂêØÂä®Á®ãÂ∫è");  
    // ...
}
```

ÂΩìËøêË°åÁ®ãÂ∫èÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÁéØÂ¢ÉÂèòÈáè `RUST_LOG` ËÆæÁΩÆÊó•ÂøóÁ∫ßÂà´Ôºö

```bash
$ RUST_LOG=info cargo run
[2023-05-20T15:30:00Z INFO  main] ÂêØÂä®Á®ãÂ∫è
```

‰ª•‰∏äÂ∞ÜÂÖ®Â±ÄÊó•ÂøóÁ∫ßÂà´ËÆæ‰∏∫ `info`„ÄÇËøôÈáåÊó•ÂøóÁ∫ßÂà´‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇ

#### 3. ËÆæÁΩÆÊ®°ÂùóÁ∫ßÂà´

ËøòÂèØ‰ª•ÈíàÂØπ‰∏çÂêåÊ®°ÂùóÔºåËÆæÁΩÆ‰∏çÂêåÁöÑÊó•ÂøóÁ∫ßÂà´Ôºö

```bash
$ RUST_LOG=my_module=debug,info cargo run
```

‰ª•‰∏äÂ∞Ü `my_module` ÁöÑÊó•ÂøóÁ∫ßÂà´ËÆæ‰∏∫ `debug`ÔºåÂÖ®Â±ÄÁöÑËÆæ‰∏∫ `info`„ÄÇ

#### 4. Âú®ÊµãËØï‰∏≠‰ΩøÁî®

Âú®ÂçïÂÖÉÊµãËØï‰∏≠Ôºå‰πüÂèØÊñπ‰æøÂú∞‰ΩøÁî® `env_logger`Ôºö

```rust
#[cfg(test)]
mod tests {
    use super::*;
    use log::info;

    fn init() {
        let _ = env_logger::builder().is_test(true).try_init();
    }

    #[test]
    fn it_works() {
        init();
        info!("ÊµãËØïÊó•Âøó"); 
        // ÁºñÂÜôÊµãËØï‰ª£Á†Å
        // ...
    }
}
```

Ê≥®ÊÑè `init()` ÂáΩÊï∞Ë¶ÅÂú®ÊØè‰∏™ÊµãËØïÁî®‰æã‰∏≠Ë∞ÉÁî®ÔºåÊù•ÂàùÂßãÂåñ logger„ÄÇ

ËøêË°åÊµãËØïÊó∂ÔºåÂèØÈÄöËøá `RUST_LOG` ËøáÊª§Êó•ÂøóÔºö

```bash
$ RUST_LOG=my_module=info cargo test
```

### ÊÄªÁªì

Êú¨Êñá‰ªãÁªç‰∫Ü Rust Êó•ÂøóÂ∫ì `env_logger` ÁöÑ‰∏ªË¶ÅÁâπÊÄßÂíåÂü∫Êú¨Áî®Ê≥ïÔºåÂ±ïÁ§∫‰∫ÜÂÆÉÁÆÄÂçïÊòìÁî®„ÄÅÂäüËÉΩÂº∫Â§ßÁöÑ‰∏ÄÈù¢„ÄÇÂª∫ËÆÆÂ§ßÂÆ∂Âú®ÂÆûÊàòÈ°πÁõÆ‰∏≠‰ΩøÁî®ÂÆÉÔºåÊèêÈ´òÂºÄÂèëÊïàÁéá„ÄÇ
