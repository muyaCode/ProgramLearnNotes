# 2.Rust åŸºç¡€ç¯‡

å­¦ä¹ ç¯‡ï¼ˆæ»‘åˆ°æœ€åçœ‹ç›®å½•å­¦ä¹ ï¼‰ï¼š[ä¸‰è§’å…½æ–°ç³»åˆ—ï¼æ‹¥æŠ±æœªæ¥è¯­è¨€Rust (qq.com)](https://mp.weixin.qq.com/s/OpY5LzHo3czJIYQVOM_gyQ)

githubï¼š[reganzm/hug_rust: æ‹¥æŠ±rust (github.com)](https://github.com/reganzm/hug_rust)

## 1.åˆ›å»º Rust é¡¹ç›®

å®‰è£…å®Œå¼€å‘ç¯å¢ƒåï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºé¡¹ç›®å¼€å‘äº†

### 1.éšä¾¿åˆé€‚çš„åœ°æ–¹ï¼Œæ¯”å¦‚æ¡Œé¢ï¼Œåˆ›å»ºé¡¹ç›®

æŒ‰ `shift + é¼ æ ‡å³é”®` ï¼Œé€‰æ‹© `æ­¤å¤„æ‰“å¼€å‘½ä»¤è¡Œ` ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
cargo new hello-rust
```

### 2.ä½¿ç”¨ VSCode æ‰“å¼€é¡¹ç›®

æ­¤æ—¶ï¼Œæ–‡ä»¶å¤¹ç›®å½•æ˜¯è¿™æ ·çš„ï¼Œ`Cargo` å·²ç»å¸®æˆ‘ä»¬åˆ›å»ºå¥½é»˜è®¤é¡¹ç›®äº†ï¼Œè¿˜åˆ›å»ºäº†ä¸ª git çš„æœ¬åœ°ä»“åº“ï¼Œè¿˜æœ‰ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œä»¥åä¼šè¯´åˆ°ã€‚ä½ åªè¦çŸ¥é“ `src/main.rs` ä¸ºç¼–å†™åº”ç”¨ä»£ç çš„åœ°æ–¹ã€‚

![image-20240323235356139](./2.RuståŸºç¡€ç¯‡.assets/image-20240323235356139.png)

### 3.è¿è¡Œé¡¹ç›®

æ–°å»ºé¡¹ç›®å·²ç»ä¸ºæˆ‘ä»¬åˆ›å»ºå¥½äº†é»˜è®¤çš„ Hello World é¡¹ç›®ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ `vscode` çš„ç»ˆç«¯ä¸­è¿è¡Œ `cargo run` å‘½ä»¤ï¼Œå°±å¯ä»¥çœ‹åˆ°ç³»ç»Ÿè¾“å‡ºäº† Hello Worldã€‚

```bash
cargo run
```

### 4.ç¼–å†™ Hello-Rust

`Cargo.toml` æ–‡ä»¶æ˜¯ä¸€ä¸ªç®¡ç†é¡¹ç›®é…ç½®çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬é¡¹ç›®ä¾èµ–ç­‰ç›¸å…³é…ç½®ï¼Œæˆ‘ä»¬åœ¨åé¢ä¼šè¯¦ç»†ä»‹ç»è¯¥æ–‡ä»¶ï¼Œç°åœ¨æˆ‘ä»¬æ¥æ·»åŠ ä¸€ä¸ªä¾èµ–ï¼Œ

![image-20240323235528105](./2.RuståŸºç¡€ç¯‡.assets/image-20240323235528105.png)

ç„¶ååœ¨ vscode ç»ˆç«¯è¿è¡Œ

```bash
cargo build
```

ç»ˆç«¯å°±ä¼šæœ‰ä»¥ä¸‹è¾“å‡ºï¼Œå¯ä»¥çœ‹åˆ° cargo ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æ·»åŠ ä¾èµ–ï¼Œå¹¶ä¸”å®‰è£…å¥½ä¾èµ–æ‰€ä¾èµ–çš„ä¾èµ–ï¼ˆç›´æ¥ç»•å£ä»¤ï¼‰

![image-20240323235548628](./2.RuståŸºç¡€ç¯‡.assets/image-20240323235548628.png)

æ¥ä¸‹æ¥å°±åœ¨ src/main.rs ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹

```rust
use ferris_says::say; // from the previous step
use std::io::{stdout, BufWriter};
fn main() {
    let stdout = stdout();
    let message = String::from("Hello fellow Rustaceans!");
    let width = message.chars().count();

    let mut writer = BufWriter::new(stdout.lock());
    say(message.as_bytes(), width, &mut writer).unwrap();
}
```

ç„¶ååœ¨ç»ˆç«¯ä¸­å†æ¬¡æ‰§è¡Œ

```bash
cargo run
```

å°±ä¼šçœ‹åˆ°ä»¥ä¸‹ç»“æœ

![image-20240323235653125](./2.RuståŸºç¡€ç¯‡.assets/image-20240323235653125.png)

è¿™ä¸ªæ¡ˆä¾‹æˆ‘ä»¬éšåä¼šè¿›è¡Œæ›´åŠ ç»†è‡´çš„è®²è§£ï¼Œå¹¶ä¸”éšç€åé¢çš„å­¦ä¹ ï¼Œå¯¹å…¶ä¸­çš„è¯­æ³•ç†è§£ä¼šæ›´åŠ çš„æ·±åˆ»ã€‚

> Rustaceans
> æ˜¯å¯¹å­¦ä¹  Rust è€…çš„ç§°å‘¼ã€‚

## å…¶ä»–å¾…æ€»ç»“

[5 åˆ†é’Ÿå¸¦ä½ å…¥é—¨ Rust ç¼–ç¨‹è¯­è¨€å®˜æ–¹æ¨èå·¥å…· Rustup (qq.com)](https://mp.weixin.qq.com/s/Gr83TxNVdw8ISO0AastnlQ)

[å®‰è£… - Cargo æ‰‹å†Œ ä¸­æ–‡ç‰ˆ (rustwiki.org)](https://rustwiki.org/zh-CN/cargo/getting-started/installation.html)

[ç²¾é€š Rust çš„åŒ…ç®¡ç†å·¥å…· Cargo (qq.com)](https://mp.weixin.qq.com/s/bKMTKxCSGQ1Ck3mGeal3pA)

[Rustå¼€å‘é©æ–°ï¼šçƒ­é‡è½½æŠ€æœ¯å®æˆ˜æŒ‡å—ä¸åº”ç”¨æŠ€å·§ (qq.com)](https://mp.weixin.qq.com/s/zthXJDutvpKwZ6vjRdHFsw)

[[Rust æç®€æ•™ç¨‹ï¼šæœ€å¿«ä¸Šæ‰‹ Rust ç¼–ç¨‹! (qq.com)](https://mp.weixin.qq.com/s/722roFliQeQnFNUy8VdNVA)](https://mp.weixin.qq.com/s/722roFliQeQnFNUy8VdNVA)

[[ã€Rust åŸºç¡€ç¯‡ã€‘Rust FFIï¼šè¿æ¥Rustä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„æ¡¥æ¢ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7261270802645221436)](https://juejin.cn/post/7261270802645221436)

[ä½¿ç”¨Rustæ„å»ºIPå—…æ¢å™¨ (qq.com)](https://mp.weixin.qq.com/s/mwKNXh7jAtRdp6Jx8OYpVg)





[ã€Rust åŸºç¡€ç¯‡ã€‘Rust å±æ€§å®ï¼šå®šåˆ¶ä½ çš„ä»£ç  - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7264503343997304886)

[ã€ä¸€èµ·å­¦ Rustã€‘Rust çš„ Hello Rust è¯¦ç»†è§£æ\_rust hello world-CSDN åšå®¢](https://blog.csdn.net/weixin_47754149/article/details/125719846)

[ã€ä¸€èµ·å­¦ Rustã€‘Rust åŒ…ç®¡ç†å·¥å…· Cargo åˆæ­¥äº†è§£\_cargo.lock-CSDN åšå®¢](https://blog.csdn.net/weixin_47754149/article/details/125777228)

[ã€ä¸€èµ·å­¦ Rustã€‘Rust å­¦ä¹ å‰å‡†å¤‡â€”â€”æ³¨é‡Šå’Œæ ¼å¼åŒ–è¾“å‡º\_rust ä¸­è‹±æ–‡å¯¹é½æ‰“å°-CSDN åšå®¢](https://blog.csdn.net/weixin_47754149/article/details/125781896)

[ã€ä¸€èµ·å­¦ Rust | åŸºç¡€ç¯‡ã€‘Rust åŸºç¡€â€”â€”å˜é‡å’Œæ•°æ®ç±»å‹\_rust å˜é‡æŒ‡å®šæ•°æ®ç±»å‹-CSDN åšå®¢](https://blog.csdn.net/weixin_47754149/article/details/125908011)

[ã€ä¸€èµ·å­¦ Rust | åŸºç¡€ç¯‡ã€‘rust å‡½æ•°ä¸æµç¨‹æ§åˆ¶è¯¦è§£\_rust else-CSDN åšå®¢](https://blog.csdn.net/weixin_47754149/article/details/125910031)

[ã€ä¸€èµ·å­¦ Rust | åŸºç¡€ç¯‡ | rust æ–°ç‰¹æ€§ã€‘Rust 1.65.0â€”â€”æ³›å‹å…³è”ç±»å‹ã€let-else è¯­å¥\_rust let else-CSDN åšå®¢](https://blog.csdn.net/weixin_47754149/article/details/127799295)

# å‰ç«¯å¼€å‘è€…è§†è§’å…¥é—¨Rust

å‰ç«¯å¼€å‘è€…ä¸Šæ‰‹

[å‰ç«¯å¼€å‘è€…çš„ Rust å°é²œ: Rust çš„ç¬¬ä¸€å°è±¡ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7297552952272207923)

[rust ä¸Šæ‰‹å¾ˆéš¾ï¼Ÿææ‡‚è¿™äº›çŸ¥è¯†ï¼Œå‰ç«¯å¼€å‘èƒ½å¿«é€Ÿæˆä¸º rust é«˜æ‰‹ (qq.com)](https://mp.weixin.qq.com/s/21uNUnzecB7okbjlT2u15Q)

[ç›˜ç‚¹ Rust ä¸­çš„é‚£äº›å¤©æ‰æ„æ€ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7364224622679965730)

å‚è€ƒæ–‡ç« ï¼š[å†™ç»™æƒ³å­¦ Rust çš„å‰ç«¯åŒå­¦ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7340573362214699049)

## å‰è¨€

Rust å¯èƒ½æ­£åœ¨é€æ¸æ¸—é€å‰ç«¯çš„æ–¹æ–¹é¢é¢ï¼Œæ‰€ä»¥ä½œä¸ºä¸€ä¸ªå‰ç«¯ç©¶ç«Ÿæœ‰æ²¡æœ‰å¿…è¦å­¦ä¹  Rust å‘¢ï¼Ÿæˆ‘è®¤ä¸ºï¼Œè¿˜æ˜¯çœ‹ä¸ªäººçš„ç²¾åŠ›å§ï¼Œæœ‰é‚£ä¸ªç²¾åŠ›å¤šå­¦ä¸€ç‚¹æ²¡æœ‰åå¤„ï¼Œæ²¡é‚£ä¸ªç²¾åŠ›ä¸å­¦ä¹Ÿæ²¡æœ‰å½±å“ã€‚æœ¬ç¯‡ä¸æ˜¯è®¨è®ºè¯¥ä¸è¯¥å­¦ Rustï¼Œè€Œæ˜¯å°† Rust å¤§æ¦‚æ˜¯ä¸€ä¸ª**ä»€ä¹ˆæ ·çš„è¯­è¨€**å±•ç°ç»™å¯èƒ½åœ¨è§‚æœ›çš„å°ä¼™ä¼´ï¼Œå¹¶ä»¥ä¸€ä¸ª**å‰ç«¯çš„è§†è§’**æ¥çœ‹çœ‹ Rust ç©¶ç«Ÿå’Œå‰ç«¯æœ‰ä»€ä¹ˆä¸ä¸€æ ·ã€‚

æœ¬ç¯‡ä¹Ÿæ˜¯æˆ‘åœ¨è®¤çœŸé˜…è¯»äº†[Rust ç¨‹åºè®¾è®¡è¯­è¨€ - Rust ç¨‹åºè®¾è®¡è¯­è¨€ ç®€ä½“ä¸­æ–‡ç‰ˆ](https://kaisery.github.io/trpl-zh-cn/title-page.html)å‡ éä»¥åï¼Œæ‰æ•¢ä¸‹ç¬”åšä¸€äº›æ€»ç»“ï¼Œå› èƒ½åŠ›æœ‰é™ï¼Œé”™è¯¯ä¹‹å¤„è¿˜æœ›å¤§å®¶åŠæ—¶æŒ‡å‡ºã€‚

æˆ‘ä¼šä»ä¸€ä¸ªè¯­è¨€å±‚é¢çš„å‡ ä¸ªæ–¹é¢æ¥åˆ†æ Rust ç©¶ç«Ÿå’Œ JavaScript ä»¥åŠ TypeScript è¿™æ ·çš„è¯­è¨€çš„ä¸åŒä¹‹å¤„ï¼Œä»¥åŠç›¸ä¼¼ä¹‹å¤„ï¼Œå¹¶ä¸”å¸Œæœ›èƒ½ç»™æƒ³è¦å­¦ä¹  Rust çš„åŒå­¦ä¸€äº›è¯­è¨€çš„æ¢—æ¦‚ï¼Œä¹Ÿç»™å‰ç«¯å­¦ä¹  JS çš„åŒå­¦ä¸€äº›æ–°çš„ç†è§£ã€‚

## Rust VS JavaScript

| å±æ€§             | Rust      | JavaScript            |
| ---------------- | --------- | --------------------- |
| ç¼–è¯‘å™¨           | rustc     | v8                    |
| åŒ…ç®¡ç†å·¥å…·       | cargo     | npmã€yarnã€pnpmã€cnpm |
| ç¬¬ä¸‰æ–¹ä¾èµ–æ³¨å†Œè¡¨ | crates.io | npmjs.com             |
| åƒåœ¾å›æ”¶         | æ—         | æœ‰                    |

## æ•°æ®ç±»å‹

Rust çš„æ•°æ®ç±»å‹åŒæ ·åˆ†ä¸ºåŸºç¡€ç±»å‹å’Œå¤æ‚ç±»å‹ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç±»ï¼š

- åŸºç¡€ç±»å‹ï¼šåŒ…æ‹¬æ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”å‹ã€å­—ç¬¦å‹
- å¤æ‚ç±»å‹ï¼šå…ƒç»„ã€æ•°ç»„ä»¥åŠå…¶ä»–å¤åˆç±»å‹

è¿™ç‚¹å’Œä¼ ç»Ÿçš„å¼ºç±»å‹è¯­è¨€åŸºæœ¬æ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯ Rust ä¹Ÿæ‹¥æœ‰ä¸åŒçš„åœ°æ–¹ã€‚

Rust å£°æ˜å˜é‡çš„æ–¹æ³•ç«Ÿç„¶å’Œ JS å‡ºå¥‡çš„ä¸€è‡´ï¼Œå¹¶ä¸”å¾ˆå¤šæ–¹é¢ä¹Ÿæ˜¯ç±»ä¼¼ JS æˆ– TS çš„å†™æ³•ï¼š

```rust
// å£°æ˜ä¸å¯å˜å˜é‡
let a = 1;

// å£°æ˜å¯å˜å˜é‡
// å¦‚æœæ²¡æœ‰ mut å…³é”®å­—ï¼Œä¿®æ”¹å˜é‡ä¼šå¯¼è‡´æŠ¥é”™
let mut b = 2;
b = 3;

// é‡å¤å£°æ˜å˜é‡ï¼Œä¼šå‘ç”Ÿé®è”½ï¼Œå³è¦†ç›–åŸæœ‰å˜é‡
// æ­¤æ—¶ä¹‹å‰å£°æ˜çš„ a å˜é‡æ— æ•ˆäº†
let a = 2;

// å£°æ˜å…ƒç»„ï¼Œè¿‘ä¼¼ç†è§£ä¸º TS ä¸­çš„å…ƒç»„
let c = ('a', 2);
// å…ƒç»„å¯ä»¥è¢«è§£æ„ï¼Œä¹Ÿæ˜¯ç±»ä¼¼ JS çš„è§£æ„
// æ­¤æ—¶å˜é‡aå°±æ˜¯'a'ï¼Œå˜é‡båˆ™æ˜¯2
let (a, b) = c;

// å£°æ˜æ•°ç»„
let arr = [1,2,3,4];
// è¿˜å¯ä»¥æœ‰å¾ˆå¤šæ–¹å¼
// è¡¨ç¤ºarr1æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ çš„å€¼éƒ½æ˜¯3
let arr1 = [3;2];
```

## æµç¨‹æ§åˆ¶

æµç¨‹æ§åˆ¶åˆ™å’Œå¤§å¤šæ•°è¯­è¨€ä¸€æ ·ï¼ŒåŒ…æ‹¬ if-elseã€while å¾ªç¯ã€for å¾ªç¯ï¼Œä¸åŒçš„æ˜¯ï¼Œè¿˜å¤šäº†ä¸€ä¸ª loop å¾ªç¯ï¼š

```rust
// if åé¢æ²¡æœ‰æ‹¬å·ï¼Œå¹¶ä¸”åé¢çš„å€¼ç±»å‹åªèƒ½æ˜¯ bool ç±»å‹
// å¹¶æ²¡æœ‰ JS ä¸­ç±»å‹è½¬æ¢çš„èƒ½åŠ›ï¼Œè¿™ç‚¹å…¶å®å’Œå…¶ä»–è¯­è¨€æ˜¯ç±»ä¼¼çš„
if 1 > 2 {
    
} else {

}

// while å¾ªç¯ä¹Ÿæ˜¯ä¸€æ ·ï¼Œåé¢æ²¡æœ‰æ‹¬å·
while 1 > 2 {}

// for å¾ªç¯æœ‰ç‚¹ç±»ä¼¼ JS ä¸­çš„ for-in å¾ªç¯
let arr = [1,2,3,4];
for i in arr {
    // è¿™é‡Œéå†çš„å€¼éƒ½æ˜¯å€¼æœ¬èº«ï¼Œå¹¶æ²¡æœ‰ç´¢å¼•
    // æ‰“å°1,2,3,4
}

// loop å¾ªç¯åˆ™æ˜¯ while ä¸å¸¦æ¡ä»¶çš„å¾ªç¯ï¼š
loop {
    // ä»£ç å—ä¸­çš„ä»£ç ä¼šä¸åœçš„å¾ªç¯
    // é€€å‡ºå¾ªç¯å¯ä»¥ä½¿ç”¨ break æˆ–è€… continue
}
```

## ç»“æ„ä½“å’Œæšä¸¾

Rust çš„ç»“æ„ä½“ç±»ä¼¼äº C è¯­è¨€çš„ç»“æ„ä½“ï¼Œè¿™ä¹Ÿæ˜¯ JS æ‰€æ²¡æœ‰ç±»å‹ã€‚è€Œæšä¸¾ç±»å‹åˆ™åœ¨ TS ä¸­æ˜¯æœ‰çš„ï¼Œä½†æ˜¯ Rust çš„æšä¸¾åŠŸèƒ½è¿œè¿œå¤šäº TS ä¸­çš„æšä¸¾ã€‚

```rust
// æ™®é€šç»“æ„ä½“
struct Person {
    name: String,
    age: u8,
}

// å…ƒç»„ç»“æ„ä½“
struct Color(i32, i32, i32);

// å•å…ƒç»“æ„ä½“
struct Unit;

// å£°æ˜ç»“æ„ä½“
let p = Person {
    name: "qiugu",
    age: 22
};

// ç»“æ„ä½“ä¹Ÿå¯ä»¥è§£æ„
// name ä¸º "qiugu"ï¼Œage ä¸º 22
let Person { name, age } = p;
```

æšä¸¾æ˜¯ Rust ä¸­éå¸¸é‡è¦çš„æ•°æ®ç±»å‹ã€‚Rust ä¸­å¹¶æ²¡æœ‰ç©ºæŒ‡é’ˆçš„æ¦‚å¿µï¼Œäºæ˜¯ Rust é€šè¿‡æšä¸¾ç±»å‹æ¥æ¨¡æ‹Ÿç©ºçš„æ¦‚å¿µï¼š

```rust
// è¿™æ˜¯ rust æ ‡å‡†åº“å†…ç½®çš„æšä¸¾ç±»å‹ Option
enum Option<T> {
    Some(T),
    None
}
```

Rust ä¸­å¾ˆå¤šæ–¹æ³•è¿”å›çš„éƒ½æ˜¯ Option ç±»å‹ï¼Œé€šè¿‡å¤„ç† Option ç±»å‹æ¥æ‹¿åˆ°å…·ä½“çš„å€¼ï¼Œå¦‚æœæ˜¯ Noneï¼Œåˆ™è¡¨ç¤ºç©ºçš„æ¦‚å¿µã€‚å…³äºå¦‚ä½•åŒ¹é…æšä¸¾ç±»å‹çš„å€¼ï¼Œè¿™ç‚¹åé¢ä¼šè¯´åˆ°ã€‚

## é›†åˆ

Rust ä¸­å¸¸ç”¨çš„é›†åˆç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š

- string
- vector
- hashmap

è¿™äº›ç±»å‹åœ¨ Rust ä¸­éƒ½æ˜¯å¤æ‚ç±»å‹ï¼Œå…¶ä¸­åœ¨ JS å¸¸ç”¨çš„åŸºæœ¬ç±»å‹ stringï¼Œåœ¨è¿™é‡Œå…¶å®éå¸¸å¤æ‚ï¼Œå¹¶ä¸”å…¶ä»–è¯­è¨€ä¸­çš„ string ç±»å‹éƒ½æ¯”è¾ƒå¤æ‚ï¼Œåªæ˜¯ JS åšäº†å¾ˆå¤šå·¥ä½œï¼Œç®€åŒ–äº† string çš„ä½¿ç”¨ã€‚

```rust
// å£°æ˜å¯å˜ String ç±»å‹
let mut s = String::from("i am a coder");
// ä¿®æ”¹ String
s.push_str("abc");
// i am a code abc

// æ³¨æ„ï¼šè¿™å¹¶ä¸æ˜¯ String ç±»å‹ï¼Œè€Œæ˜¯å­—ç¬¦ä¸²åˆ‡ç‰‡ç±»å‹slice
let s1 = "i am str";
// è¿™æ ·æ‰æ˜¯ String ç±»å‹
let s2 = String::from(s1);

// Stringæ˜¯å¤æ‚ç±»å‹
let s1 = String::from("i am a coder");
let s2 = s1;
// æ‰“å°s1ä¼šæŠ¥é”™ï¼Œå› ä¸ºs1çš„æ‰€æœ‰æƒå·²ç»è¢«è½¬ç§»
// è¿™ä¹Ÿè¯æ˜äº†Stringæ˜¯ä¸€ä¸ªå¤æ‚ç±»å‹ï¼Œå› ä¸ºåŸºç¡€ç±»å‹ä¼šå¤åˆ¶ä¸€ä¸ªå€¼ï¼Œè€Œå¤æ‚ç±»å‹åªæ˜¯å¤åˆ¶äº†å¼•ç”¨
println!("{}", s1); // æŠ¥é”™
```

## ç±»å‹ç³»ç»Ÿ

å¯ä»¥å‘ç°ä¸Šé¢æ‰€æœ‰çš„ç¤ºä¾‹ä»£ç å¹¶æ²¡æœ‰ç±»å‹æ³¨è§£ï¼ŒåŸå› æ˜¯å› ä¸º Rust å¯ä»¥è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼ˆè¿™æ˜¯ä¸æ˜¯å’Œ TS æœ‰ç‚¹åƒï¼‰ã€‚

å¯ä»¥åœ¨ VSCode ä¸­å®‰è£… Rust çš„æ’ä»¶ï¼Œå°±å¯ä»¥çœ‹åˆ°å˜é‡å¯¹åº”çš„ç±»å‹ï¼š

![image-20240424180035025](./2.RuståŸºç¡€ç¯‡.assets/image-20240424180035025.png)

Rust çš„ç±»å‹ç³»ç»Ÿé™¤äº†å¯ä»¥è‡ªåŠ¨æ¨å¯¼å˜é‡ç±»å‹ï¼Œä¹Ÿå­˜åœ¨æ³›å‹çš„ç±»å‹å¤ç”¨èƒ½åŠ›ï¼Œå¯ä»¥è¿‘ä¼¼ç†è§£ä¸º TS ä¸­çš„æ³›å‹æ¦‚å¿µã€‚

æˆ‘ä»¬çŸ¥é“ TS ä¸­å­˜åœ¨ interface ç±»å‹å¤ç”¨ç±»å‹ï¼Œä»¥åŠå®šä¹‰ç±»å‹çš„ç»“æ„åŒ…å«å“ªäº›å±æ€§æ–¹æ³•ã€‚Rust ä¸­åŒæ ·ä¹Ÿå­˜åœ¨ç±»ä¼¼çš„æ¦‚å¿µ traitï¼š

```rust
// å®šä¹‰ trait
trait Greet {
    fn hello(&self) -> String;
}
```

æ˜¯ä¸æ˜¯å’Œ interface éå¸¸ç›¸ä¼¼ï¼

å¦‚ä½•å®ç°è¿™ä¸ª trait å‘¢ï¼Ÿé€»è¾‘ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼ŒRust ä¸­ä¹Ÿéœ€è¦å¯¹è±¡æ‰èƒ½å®ç° traitï¼ŒRust ä¸­çš„å¯¹è±¡å…¶å®å°±æ˜¯ç»“æ„ä½“ç±»å‹ï¼š

```rust
// å®šä¹‰ä¸€ä¸ªå•å…ƒç»“æ„ä½“ï¼ˆä»€ä¹ˆå±æ€§éƒ½ä¸åŒ…æ‹¬çš„ç»“æ„ä½“ï¼‰
struct Person;

// å®ç° Greet trait
impl Greet for Person {
    // å…ˆä¸ç”¨çœ‹æ–¹æ³•å¦‚ä½•å£°æ˜ï¼Œåé¢ä¼šæåˆ°
    fn hello(&self) -> String {
        // æ³¨æ„ï¼šè¯­å¥åé¢æ²¡æœ‰åˆ†å·ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè€Œä¸æ˜¯è¯­å¥
        String::from("hello, man!")
    }
}

// ä½¿ç”¨
fn main() {
    let p = Person;
    // æ‰§è¡Œ trait ä¸Šçš„æ–¹æ³•
    p.hello(); // hello, main!
}
```

ç°åœ¨æ˜¯ä¸æ˜¯å¯¹ Rust æ›´ç†Ÿæ‚‰ä¸€ç‚¹äº†ï¼

æ¥ä¸‹æ¥å°±æ˜¯ Rust ç‹¬æœ‰çš„**ç”Ÿå‘½å‘¨æœŸ**æ¦‚å¿µï¼Œå®ƒä¹Ÿæ˜¯æ³›å‹çš„ä¸€éƒ¨åˆ†ã€‚ç”Ÿå‘½å‘¨æœŸåˆæ¶‰åŠåˆ°äº†`å¼•ç”¨`çš„æ¦‚å¿µã€‚å¼•ç”¨åœ¨ JS ä¸­åŒæ ·å­˜åœ¨ï¼Œåªæ˜¯å’Œ Rust å¼•ç”¨å¹¶ä¸ä¸€æ ·ï¼š

```rust
let x = 5;
// å¯ä»¥å¼•ç”¨ä»»æ„ç±»å‹çš„å˜é‡
let r = &5;

println!("x: {}, r: {}", x, r); // x: 5, r: 5
```

ç¨å¾®æ”¹å†™ä¸€ä¸‹ä¸Šé¢çš„ä»£ç ï¼š

```rust
let r;
{
    let x = 5;
    r = &x;
    // rust ä½œç”¨åŸŸä¹Ÿå­˜åœ¨å—çº§ä½œç”¨åŸŸ
    // å¹¶ä¸”å½“å˜é‡é€€å‡ºè¯¥ä½œç”¨åŸŸæ—¶ï¼Œå¼•ç”¨è¯¥å˜é‡çš„å…¶ä»–å€¼ï¼Œè¿™é‡Œå°±æ˜¯rä¹Ÿä¼šå¤±æ•ˆ
    // è¿™æ ·ä¼šå¯¼è‡´å˜é‡rå˜æˆä¸€ä¸ªç©ºå¼•ç”¨
}
println!("r: {}", r);
```

æˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¯‘æ—¶å°±èƒ½å‘ç°ä¸Šé¢ä»£ç çš„é—®é¢˜ï¼š

![image-20240424180130660](./2.RuståŸºç¡€ç¯‡.assets/image-20240424180130660.png)

ç¿»è¯‘ä¸€ä¸‹ï¼Œå°±æ˜¯å˜é‡xçš„ç”Ÿå‘½å‘¨æœŸä¸å¦‚å˜é‡rçš„ç”Ÿå‘½å‘¨æœŸé•¿ï¼Œå› ä¸ºå½“xé€€å‡ºå—çº§ä½œç”¨åŸŸæ—¶ï¼Œå˜é‡rè¿˜ä¾ç„¶å­˜åœ¨ï¼Œè€Œç”Ÿå‘½å‘¨æœŸå°±æ˜¯ä¸ºäº†ç¡®ä¿å¼•ç”¨æ€»æ˜¯æœ‰æ•ˆã€‚ä¸Šé¢çš„ä¾‹å­å¯ä»¥é€šè¿‡ä½œç”¨åŸŸç›´æ¥çœ‹å‡ºæ¥å˜é‡ç”Ÿå‘½å‘¨æœŸçš„é•¿çŸ­ï¼Œä½†æ˜¯ä»¥ä¸‹æƒ…å†µæ— æ³•ç›´æ¥çœ‹å‡ºæ¥å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼š

```rust
// è¿”å›xã€yä¸­çš„å¤§å€¼
// æ³¨æ„xã€yéƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¹¶ä¸”è¿”å›çš„ä¹Ÿæ˜¯å¼•ç”¨ç±»å‹
// ç¼–è¯‘å™¨æ— æ³•ç¡®å®šè¿”å›ç±»å‹çš„å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯å’Œxä¸€æ ·é•¿ï¼Œè¿˜æ˜¯å’Œyä¸€æ ·é•¿ï¼Œæˆ–è€…å’Œxã€yéƒ½ä¸€æ ·é•¿
// æ‰€ä»¥ç¼–è¯‘æ— æ³•é€šè¿‡
fn longest(x: &str, y: &str) -> &str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}
```

è¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸæ³¨è§£æ¥å‘Šè¯‰ç¼–è¯‘å™¨è¿™äº›å¼•ç”¨ä¹‹é—´çš„ç”Ÿå‘½å‘¨æœŸå…³ç³»æ˜¯æ€æ ·çš„ï¼š

```rust
// ç”Ÿå‘½å‘¨æœŸæ³¨è§£å°±æ˜¯åœ¨å¼•ç”¨ç¬¦åˆåé¢åŠ ä¸Š'aï¼Œè¡¨ç¤ºè¯¥å¼•ç”¨ç”Ÿå‘½å‘¨æœŸä¸º'a
// å˜é‡xã€yï¼Œä»¥åŠè¿”å›ç±»å‹çš„ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¯´æ˜å®ƒä»¬çš„å¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸä¹Ÿéƒ½æ˜¯ä¸€æ ·é•¿
// è¿™æ ·ç¼–è¯‘å™¨å°±å¯ä»¥ç¡®å®šå¼•ç”¨éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œç¼–è¯‘å¯ä»¥é€šè¿‡
fn longest(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}
```

## å‡½æ•°ã€æ–¹æ³•åŠé—­åŒ…

åœ¨ JS ä¸­å‡½æ•°å’Œæ–¹æ³•å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªæ„æ€ï¼Œä½†æ˜¯ Rust ä¸­çš„å‡½æ•°å’Œæ–¹æ³•å´æ˜¯ä¸ä¸€æ ·çš„ã€‚

Rust ä¸­çš„å‡½æ•°å°±æ˜¯æˆ‘ä»¬åœ¨ä¸Šä¸€èŠ‚çœ‹åˆ°çš„ longest å‡½æ•°ï¼ŒæŒ‡å®šäº†å‚æ•°ã€ä»¥åŠå‚æ•°ç±»å‹ï¼Œå¹¶ä¸”æŒ‡å®šäº†è¿”å›å€¼ç±»å‹ï¼Œè¿˜æ˜¯ä»¥ä¸Šé¢çš„å‡½æ•°ä¸¾ä¾‹ï¼š

```rust
// å‡½æ•°å‚æ•°å¿…é¡»æŒ‡å®šå…¶ç±»å‹ï¼Œè¿™å’Œå£°æ˜å˜é‡æ—¶è‡ªåŠ¨æ¨å¯¼ç±»å‹è¡¨ç°ä¸ä¸€æ ·
// åŸå› å¯èƒ½å› ä¸ºå¯¹äºä¸€ä¸ªå‡½æ•°æ¥è¯´ï¼Œéœ€è¦æš´éœ²ç»™è°ƒç”¨è€…ä½¿ç”¨ï¼Œå› æ­¤éœ€è¦æ˜ç¡®å‚æ•°å’Œè¾“å‡ºå‚æ•°çš„ç±»å‹
fn longest(x: &'a str, y: &'a str) -> &'a str {
    if x.len() > y.len() {
        x
    } else {
        y
    }
}
```

å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„å‡½æ•°å¹¶æ²¡æœ‰æŒ‡å®šåƒ return è¿™æ ·çš„å…³é”®å­—æ¥è¿”å›å€¼ï¼Œè€Œæ˜¯å°†è¿”å›å€¼åŒ…è£¹åœ¨å¤§æ‹¬å·ä¸­äº†ã€‚è¿™æ˜¯å› ä¸º Rust ä¸­å—çº§ä½œç”¨åŸŸçš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼å°±ä½œä¸ºå…¶è¿”å›å€¼ã€‚æ³¨æ„è¡¨è¾¾å¼æ˜¯ä¸å¸¦åˆ†å·ç»“å°¾çš„ï¼Œå¸¦ä¸Šäº†åˆ†å·å°±å˜æˆäº†è¯­å¥ï¼Œè€Œä¸æ˜¯è¡¨è¾¾å¼ï¼Œè¿™ç‚¹åœ¨å‰é¢å·²ç»æåˆ°è¿‡äº†ã€‚

```rust
// x çš„å€¼å°±æ˜¯ 3
let x = {
    let a = 1 + 2;
    a
};

// å‡½æ•°çš„è¿”å›å€¼å°±æ˜¯æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯ a+b çš„ç»“æœ
fn foo(a: i32, b: i32) -> i32 {
    let c = a * b;
    let d = c + 1;
    a + b
}
```

è€Œæ–¹æ³•å’Œå‡½æ•°ä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äºï¼Œæ–¹æ³•æ˜¯ä¾é™„äºå¯¹è±¡å­˜åœ¨çš„ï¼Œè°ƒç”¨å‡½æ•°æ—¶ï¼Œç›´æ¥å‡½æ•°åç§°åé¢æ¥æ‹¬å·å°±å¯ä»¥è°ƒç”¨äº†ï¼Œä½†æ˜¯æ–¹æ³•åˆ™éœ€è¦ä½¿ç”¨å¯¹è±¡æ¥è°ƒç”¨ï¼Œæ¯”å¦‚ï¼Œå‰é¢æåˆ°çš„ trait å®ç°ï¼Œå…¶å°±æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼š

```rust
impl Greet for Person {
    // æ³¨æ„ï¼šæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ selfï¼Œè¡¨ç¤ºå¯¹è±¡è‡ªèº«ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰ç”¨åˆ° self
    fn hello(&self) -> String {
        String::from("hello, man!") 
    } 
}

// è°ƒç”¨æ–¹æ³•
p.hello();

// è°ƒç”¨å‡½æ•°
foo();
```

æœ€å Rust ä¸­ä¹Ÿå­˜åœ¨é—­åŒ…çš„æ¦‚å¿µã€‚é—­åŒ…ä¹Ÿæ˜¯ä¸€ç§å‡½æ•°ï¼Œåªæ˜¯é—­åŒ…å†™æ³•å’Œæ™®é€šå‡½æ•°ä¸ä¸€æ ·ï¼Œå¹¶ä¸”å¯ä»¥æ•è·ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ï¼š

```rust
let a = 1;
// ä½¿ç”¨â€œ||â€è¡¨ç¤ºå‚æ•°åˆ—è¡¨ï¼ŒåŒæ™®é€šå‡½æ•°çš„å°æ‹¬å·
// å¦‚æœæœ‰å‚æ•°å°±å†™åœ¨åŒç«–çº¿ä¸­é—´
// é—­åŒ…çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹å¯ä»¥ä¸å†™ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ¨æ–­ï¼Œä½†æ˜¯ä¸€æ—¦ç¡®å®šç±»å‹ï¼Œå°±ä¸èƒ½å†ä¼ å…¶ä»–ç±»å‹
let b = ||{
    a + 1
};
b();
```

é—­åŒ…ä¸€èˆ¬æ˜¯ä½œä¸ºå‡½æ•°æˆ–æ–¹æ³•çš„å‚æ•°ï¼Œå› ä¸ºå®ƒå¯ä»¥æ•è·ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ï¼Œè¿™ç‚¹å’Œ JS æ˜¯æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™çš„ã€‚

## æ¨¡å—åŒ–

ä½œä¸ºä¸€é—¨å¼ºç±»å‹è¯­è¨€ï¼Œæ¨¡å—åŒ–æ˜¯å…¶ä¸ç”Ÿä¿±æ¥çš„åŠŸèƒ½ï¼Œè¿™ç‚¹ä¸åƒ JSï¼Œè¿‡äº†å¾ˆå¤šå¹´æ‰æœ‰æ¨¡å—åŒ–ã€‚

Rust çš„æ¨¡å—åŒ–ï¼Œäº†è§£å‡ ä¸ªå…³é”®è¯å°±èƒ½å¤§æ¦‚æŒæ¡äº†ã€‚

```rust
// a.rs
// ä½¿ç”¨ pub å¯¼å‡ºç»“æ„ä½“
pub struct Person;

// å¯¼å‡ºå‡½æ•°
pub fn foo() -> String {
    String::from('i am a coder')
}

// æ²¡æœ‰ä½¿ç”¨pubå¯¼å‡ºçš„æ•°æ®ä¸èƒ½è¢«å¤–éƒ¨ä½¿ç”¨
enum Color(u8, u8, u8);

// main.rs
// å£°æ˜aæ¨¡å—
// aå°±æ˜¯a.rsçš„æ–‡ä»¶åç§°
mod a;
// ä½¿ç”¨useæŒ‡å®šä½¿ç”¨aæ¨¡å—ä¸­çš„å“ªäº›å†…å®¹
// æ³¨æ„ï¼šåªèƒ½ä½¿ç”¨aæ¨¡å—ä¸­ä½¿ç”¨pubå…³é”®å­—å¯¼å‡ºçš„
use a::Person;
// ä¹Ÿå¯ä»¥å†™å®Œæ•´çš„å¯¼å…¥è·¯å¾„
use crate::a::Person;
// å¯¼å…¥å¤šä¸ª
use a::{Person, foo}
// æˆ–è€…*åŒ¹é…æ‰€æœ‰å¯¼å‡ºçš„æˆå‘˜
use a::*;

let p = Person;
```

## å†…å­˜æ¨¡å‹

Rust çš„å†…å­˜æ¨¡å‹å¤–è§‚ä¸Šå’Œ JS æ˜¯ç›¸ä¼¼çš„ï¼Œæ¯”å¦‚ Rust çš„åŸºæœ¬ç±»å‹å­˜å‚¨åœ¨æ ˆä¸Šï¼Œå¤æ‚ç±»å‹åˆ™å­˜å‚¨åœ¨å †ä¸Šï¼Œä½†æ˜¯æœ¬è´¨ä¸Šè¿˜æ˜¯åŒºåˆ«æ¯”è¾ƒå¤§çš„ã€‚

```rust
// åŸºæœ¬ç±»å‹
let a = 1;
let b = a;

// å¤æ‚ç±»å‹
let s = String::from("hello");
let s1 = s;
```

ä»¥ä¸Šä»£ç æˆ‘ä»¬ä½¿ç”¨ä¸€å¼ å›¾æ¥å±•ç¤ºå…¶æ‰§è¡Œè¿‡ç¨‹ï¼š

![image-20240424180217874](./2.RuståŸºç¡€ç¯‡.assets/image-20240424180217874.png)

é‡ç‚¹å°±æ˜¯å †å†…å­˜çš„åˆ†é…ï¼Œå½“ s å¤åˆ¶ç»™ s1 çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šåƒ JS é‚£æ ·å­˜åœ¨ä¸¤ä¸ªâ€œæŒ‡é’ˆâ€åŒæ—¶æŒ‡å‘å­˜å‚¨ hello å­—ç¬¦ä¸²çš„å†…å­˜ï¼Œè€Œæ˜¯ s çš„â€œæŒ‡é’ˆâ€å¤±æ•ˆäº†ï¼Œä¹Ÿå°±æ˜¯åŒä¸€æ—¶åˆ»ï¼Œåªèƒ½æœ‰ä¸€ä¸ªæŒ‡å‘è¯¥å†…å­˜çš„â€œæŒ‡é’ˆâ€ï¼Œè¿™ä¸ªâ€œæŒ‡é’ˆâ€å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„æŒ‡é’ˆï¼Œåœ¨ Rust ä¸­ç§°å®ƒä¸º**æ‰€æœ‰è€…**ï¼Œæ‰€æœ‰è€…çš„è§„åˆ™åˆ™ç§°ä¸º**æ‰€æœ‰æƒ**ï¼Œäºæ˜¯æœ‰è¿™æ ·å…³äºæ‰€æœ‰æƒçš„ç»“è®ºï¼š

- Rust ä¸­çš„æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„â€œæŒ‡é’ˆâ€ï¼‰ã€‚
- å€¼åœ¨ä»»ä½•æ—¶åˆ»æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ‰€æœ‰è€…ï¼ˆèµ‹å€¼ä»¥åï¼Œså°±å¤±æ•ˆäº†ï¼Œåªèƒ½æœ‰ä¸€ä¸ªï¼‰ã€‚
- å½“æ‰€æœ‰è€…ï¼ˆå˜é‡ï¼‰ç¦»å¼€ä½œç”¨åŸŸï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒï¼ˆå’Œ JS ç±»å‹ï¼Œå˜é‡ç¦»å¼€ä½œç”¨åŸŸåˆ™å¤±æ•ˆï¼Œä½†æ˜¯æœ‰æ‰€ä¸åŒï¼‰ã€‚

å…³äºç¬¬ä¸‰ç‚¹ï¼Œåœ¨ä¸Šé¢ç”Ÿå‘½å‘¨æœŸçš„ä¾‹å­ä¸­è§£é‡Šè¿‡ Rust ä½œç”¨åŸŸç›¸å…³è§„åˆ™ï¼Œå½“å˜é‡ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œå˜é‡çš„å€¼å°†ä¼šè¢«é”€æ¯ï¼Œæ­¤æ—¶å¦‚æœå­˜åœ¨å¼•ç”¨è¯¥å€¼çš„å˜é‡ï¼Œåˆ™ä¼šæŠ¥é”™ï¼šç”Ÿå‘½å‘¨æœŸé•¿åº¦é—®é¢˜ã€‚å› ä¸º Rust ä¸å…è®¸å¼•ç”¨ä¸€ä¸ªè¢«é”€æ¯çš„å€¼ï¼Œè¿™ç‚¹å’Œ JS æ˜¯ä¸ä¸€æ ·çš„ï¼ˆJS ä¸­å­˜åœ¨å˜é‡å¼•ç”¨äº†æŸä¸ªå€¼ï¼Œä¼šå¯¼è‡´è¯¥å€¼ä¸ä¼šè¢«é‡Šæ”¾ï¼Œç›´åˆ°å¼•ç”¨è¯¥å€¼çš„å˜é‡å…¨éƒ¨é€€å‡ºä½œç”¨åŸŸæ‰ä¼šè¢«é”€æ¯ï¼‰ã€‚

ä¸Šé¢çš„å¼•ç”¨ä»¥åŠæ‰€æœ‰æƒè¿˜å¯ä»¥è¿™ä¹ˆè§£é‡Šï¼š

```rust
let x = 5;
// è¡¨ç¤º y å€Ÿç”¨äº† x çš„å€¼
let y = &x;
// æ³¨æ„ï¼šè¢«å€Ÿç”¨çš„å€¼ä¸èƒ½å†æ¬¡è¢«èµ‹å€¼
x += 1; // è¿™ä¹ˆåšä¼šæŠ¥é”™

let s = String::from("hello");
// è¡¨ç¤º s çš„æ‰€æœ‰æƒç§»åŠ¨åˆ°äº† s1 ä¸Šï¼Œs å°±å¤±å»äº†æ‰€æœ‰æƒ
let s1 = s;
```

**å€Ÿç”¨**å°±æ˜¯åˆ›å»ºä¸€ä¸ªå¼•ç”¨ï¼Œæ¯”å¦‚ä¾‹å­çš„å˜é‡ yã€‚**ç§»åŠ¨**åˆ™è¡¨ç¤ºä¸€ä¸ªå˜é‡çš„æ‰€æœ‰æƒç§»åŠ¨åˆ°å¦å¤–ä¸€ä¸ªå˜é‡ä¸Šï¼Œé‚£ä¹ˆå¤±å»æ‰€æœ‰æƒçš„å˜é‡å°±ä¸èƒ½è¢«ä½¿ç”¨äº†ã€‚æŒ‰ç…§è¿™ä¹ˆä¸€å¥—è§„åˆ™ï¼Œå°±èƒ½åœ¨ä¸éœ€è¦åƒåœ¾å›æ”¶å™¨çš„æƒ…å†µä¸‹ï¼Œå®‰å…¨çš„ä½¿ç”¨å†…å­˜äº†ï¼Œè¿™ä¹Ÿæ˜¯ Rust çš„ç‰¹è‰²ä¹‹ä¸€ã€‚

å¼•ç”¨åŒæ ·ä¹Ÿæœ‰ä¸€å¥—è§„åˆ™ï¼š

- ä»»æ„ç»™å®šæ—¶é—´ï¼Œè¦ä¹ˆåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼ˆé˜²æ­¢å¤šä¸ªå¯å˜å¼•ç”¨ï¼Œå¯¼è‡´åŒä¸€æ—¶é—´æ•°æ®è¢«æ”¹å˜ï¼Œäº§ç”Ÿäº†æ•°æ®ç«äº‰ï¼‰ï¼Œè¦ä¹ˆåªèƒ½æœ‰å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼ˆä¸èƒ½åŒæ—¶å­˜åœ¨å¯å˜å¼•ç”¨å’Œä¸å¯å˜å¼•ç”¨ï¼ŒåŸå› ä¹Ÿæ˜¯æ•°æ®ç«äº‰ï¼‰ã€‚
- å¼•ç”¨å¿…é¡»æ€»æ˜¯æœ‰æ•ˆçš„ï¼ˆè¿™å°±æ˜¯ä¸Šé¢å¼•ç”¨çš„å€¼å¤±æ•ˆæ—¶ï¼Œä¼šæŠ¥é”™çš„åŸå› ï¼‰ã€‚

æ‰€æœ‰æƒè§„åˆ™å’Œå€Ÿç”¨è§„åˆ™éƒ½æ˜¯å¯ä»¥æ‰“ç ´çš„ï¼Œè¿™å°±æ¶‰åŠåˆ°æ›´å¤æ‚çš„å†…å®¹ï¼Œå®ƒä»¬ä¸æ˜¯æˆ‘ä»Šå¤©æ‰€è¦è¯´çš„å†…å®¹ï¼Œæ‰€ä»¥å°±æš‚æ—¶å¿½ç•¥äº†ã€‚

## å…¶ä»–

é™¤äº†è¿™äº›è¯­è¨€é€šç”¨çš„å†…å®¹ï¼ŒRust è¿˜åŒ…æ‹¬åƒ**å¹¶å‘**ã€**æ™ºèƒ½æŒ‡é’ˆ**ã€**å®**ç­‰åŠŸèƒ½ï¼Œè¿™äº›å¯¹å‰ç«¯æ¥è¯´å¯èƒ½æ¶‰åŠåˆ°çŸ¥è¯†ç›²åŒºäº†ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸åœ¨è¿™é‡Œç»§ç»­è¯´äº†ã€‚

## æ€»ç»“

ä»¥ä¸Šå°±æ˜¯ Rust è¯­è¨€çš„å…¥é—¨çº§å†…å®¹äº†ï¼Œç›¸æ¯”äº JS æ¥è¯´ï¼ŒRust ç¡®å®æ›´åŠ å¤æ‚å’Œç¹çï¼Œå½“ç„¶å¤æ‚ç¹ççš„åŒæ—¶ä¹Ÿå¸¦æ¥äº†æ›´å¼ºå¤§çš„è¿è¡Œæœºåˆ¶ï¼Œæ¯”å¦‚æ‰€æœ‰æƒè§„åˆ™ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒRust çš„å†…å­˜æ¨¡å‹ä¹Ÿç»™æˆ‘ä»¬å±•ç¤ºäº†ä¸€ä¸ªä¸åŒäº JS çš„åƒåœ¾å›æ”¶çš„ä¸€ç§å†…å­˜ç®¡ç†æœºåˆ¶ã€‚æ‰€ä»¥è¿™ä¹Ÿæ˜¯æ— è®ºä»€ä¹ˆè¯­è¨€ï¼Œæœ€ç»ˆéƒ½ä¼šæ®Šé€”åŒå½’ï¼Œ**å˜åŒ–çš„æ˜¯è¯­è¨€çš„å†™æ³•è§„èŒƒï¼Œä¸å˜çš„æ˜¯å†…å­˜æ°¸è¿œæ˜¯æœ‰é™çš„ã€‚**

# Aquascopeï¼šå¯è§†åŒ–æ­ç§˜ Rust ç¨‹åºçš„ç¼–è¯‘ä¸è¿è¡Œæ—¶

## å‚è€ƒç½‘å€

- Aquascope é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/cognitive-engineering-lab/aquascope
- Aquascope é¡¹ç›®è¯•éªŒåœºï¼šhttps://cognitive-engineering-lab.github.io/aquascope/
- Rust å®˜æ–¹æ–‡æ¡£ï¼šhttps://doc.rust-lang.org/

![å›¾ç‰‡](./2.RuståŸºç¡€ç¯‡.assets/640.webp)

## å¼•è¨€

ä½œä¸ºä¸€å Rust å¼€å‘è€…ï¼Œä½ æ˜¯å¦æ›¾å¯¹ Rust ç‹¬ç‰¹çš„æ‰€æœ‰æƒæœºåˆ¶å’Œå€Ÿç”¨æ£€æŸ¥æ„Ÿåˆ°å¥½å¥‡ï¼Ÿæ˜¯å¦å¸Œæœ›èƒ½æ›´ç›´è§‚åœ°ç†è§£ Rust ç¼–è¯‘å™¨æ˜¯å¦‚ä½•â€œæ€è€ƒâ€ä½ çš„ä»£ç çš„ï¼Ÿä»Šå¤©ï¼Œæˆ‘è¦ç»™å¤§å®¶ä»‹ç»ä¸€æ¬¾ç¥å¥‡çš„å·¥å…·â€”â€”Aquascopeï¼Œå®ƒèƒ½ç”Ÿæˆ Rust ç¨‹åºçš„äº¤äº’å¼å¯è§†åŒ–å›¾è¡¨ï¼Œå¸®åŠ©æˆ‘ä»¬æ·±å…¥æ´å¯Ÿ Rust çš„ç¼–è¯‘æœŸå’Œè¿è¡Œæ—¶è¡Œä¸ºã€‚

## åˆ›ä½œèƒŒæ™¯

Aquascope æ˜¯ç”± Brown å¤§å­¦ Cognitive Engineering Lab å¼€å‘çš„ä¸€æ¬¾ç ”ç©¶æ€§è´¨çš„è½¯ä»¶å·¥å…·ã€‚å®ƒæ—¨åœ¨å¸®åŠ© Rust å¼€å‘è€…ã€æ•™è‚²å·¥ä½œè€…å’Œç¼–ç¨‹è¯­è¨€ç ”ç©¶äººå‘˜æ›´å¥½åœ°ç†è§£ Rust çš„å†…åœ¨æœºåˆ¶ã€‚é€šè¿‡ç”Ÿæˆç›´è§‚çš„äº¤äº’å¼å¯è§†åŒ–å›¾è¡¨ï¼ŒAquascope è®© Rust çš„ç¼–è¯‘æœŸå€Ÿç”¨æ£€æŸ¥å’Œè¿è¡Œæ—¶è¡Œä¸ºå˜å¾—"å¯è§"ï¼Œæ–¹ä¾¿æˆ‘ä»¬å­¦ä¹ å’Œåˆ†æã€‚

## ä¸»è¦ç‰¹æ€§

- ç”Ÿæˆå±•ç¤º Rust å€Ÿç”¨æ£€æŸ¥å™¨å¦‚ä½•â€œæ€è€ƒâ€ç¨‹åºçš„äº¤äº’å¼å¯è§†åŒ–å›¾è¡¨
- ç”Ÿæˆå±•ç¤º Rust ç¨‹åºå®é™…æ‰§è¡Œæƒ…å†µçš„äº¤äº’å¼å¯è§†åŒ–å›¾è¡¨
- æä¾› mdBook é¢„å¤„ç†å™¨ï¼Œå¯å°† Aquascope å›¾è¡¨åµŒå…¥ mdBook ä¸­
- æ”¯æŒé€šè¿‡ Web ç•Œé¢æœ¬åœ°è¿è¡Œ Aquascope æ¸¸ä¹åœº

## å¿«é€Ÿä¸Šæ‰‹

æƒ³å¿«é€Ÿä½“éªŒ Aquascope çš„å¨åŠ›å—ï¼Ÿæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ Aquascope Playground ä¸­å°è¯•ã€‚è®¿é—®ä»¥ä¸‹ç½‘å€:

https://cognitive-engineering-lab.github.io/aquascope/

ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªåœ¨çº¿çš„ä»£ç ç¼–è¾‘å™¨ï¼Œå¯ä»¥åœ¨é‡Œé¢ç¼–å†™ Rust ä»£ç ã€‚æ¯”å¦‚æˆ‘ä»¬å†™ä¸‹è¿™æ ·ä¸€æ®µç®€å•çš„ä»£ç :

```rust
fn main() {
    let x = String::from("Hello");  // åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ x
    foo(x);  // å°† x ä¼ é€’ç»™å‡½æ•° foo
    println!("{}", x);  // å°è¯•æ‰“å° x
}

fn foo(s: String) {  // å‡½æ•° foo æ¥æ”¶ä¸€ä¸ª String ç±»å‹çš„å‚æ•° s
    println!("{}", s);
}
```

ç„¶åç‚¹å‡» â€œInterpretâ€œ æŒ‰é’®ï¼ŒAquascope å°±ä¼šå¼€å§‹å·¥ä½œï¼Œç”Ÿæˆè¯¥ç¨‹åºè¿è¡Œæ—¶çš„å¯è§†åŒ–å›¾è¡¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹æ–¹çš„æ§åˆ¶é¢æ¿è°ƒæ•´ç»†èŠ‚ï¼Œæ¯”å¦‚æŸ¥çœ‹æ¯ä¸€æ­¥çš„çŠ¶æ€ã€‚

åŒæ—¶ä½ ä¼šæ³¨æ„åˆ°ï¼Œâ€œBoundariesâ€ å’Œ â€œPermissionsâ€ æŒ‰é’®åœ¨è¿™æ®µä»£ç ä¸‹æ˜¯ç°è‰²ä¸å¯ç‚¹å‡»çš„ã€‚è¿™æç¤ºæˆ‘ä»¬è¿™æ®µä»£ç æ²¡æœ‰é€šè¿‡ Rust çš„å€Ÿç”¨æ£€æŸ¥ã€‚å°†å…‰æ ‡ç§»åŠ¨åˆ°ç¬¬ 4 è¡Œï¼Œå°±ä¼šçœ‹åˆ°é”™è¯¯æç¤º:

```rust
error[E0382]: borrow of moved value: `x`
 --> src/lib.rs:4:20
  |
2 |     let x = String::from("Hello");
  |         - move occurs because `x` has type `String`, which does not implement the `Copy` trait
3 |     foo(x);
  |         - value moved here
4 |     println!("{}", x);
  |                    ^ value borrowed here after move
For more information about this error, try `rustc --explain E0382`.
```

Rust ç‹¬ç‰¹çš„æ‰€æœ‰æƒæœºåˆ¶åœ¨èµ·ä½œç”¨ã€‚å½“æˆ‘ä»¬å°† x ä¼ é€’ç»™ foo å‡½æ•°æ—¶ï¼Œx çš„æ‰€æœ‰æƒå°±è½¬ç§»ç»™äº†å‡½æ•°å‚æ•° sï¼Œä¹‹å x å°±ä¸å†æœ‰æ•ˆã€‚ç¬¬ 4 è¡Œå°è¯•å†æ¬¡ä½¿ç”¨ xï¼Œå°±ä¼šè§¦å‘é”™è¯¯ã€‚

æˆ‘ä»¬å¯¹ä»£ç åšä¸€äº›ä¿®æ”¹:

```rust
fn main() {
    let x = String::from("Hello");
    foo(&x); // ä¼ é€’ x çš„ä¸å¯å˜å¼•ç”¨ç»™å‡½æ•° foo
    println!("{}", x);
}

fn foo(s: &String) {  // å‡½æ•° foo æ¥æ”¶ä¸€ä¸ª &String ç±»å‹çš„å‚æ•°
    println!("{}", s);
}
```

å†æ¬¡ç‚¹å‡» â€œInterpretâ€ï¼Œâ€œBoundariesâ€ å’Œ â€œPermissionsâ€ æŒ‰é’®å°±å˜æˆå¯ç‚¹å‡»çš„äº†ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•ç‚¹å‡»å®ƒä»¬ï¼Œç”Ÿæˆå±•ç¤ºå€Ÿç”¨æ£€æŸ¥ä¿¡æ¯çš„å¯è§†åŒ–å›¾è¡¨ï¼Œè¿›ä¸€æ­¥ç ”ç©¶ä¸€ä¸‹ Rust æ‰€æœ‰æƒæœºåˆ¶æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

æ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆç¥å¥‡ï¼Ÿæˆ‘ä»¬åªéœ€è¦ç®€å•å‡ æ­¥ï¼Œå°±èƒ½åœ¨ Aquascope Playground ä¸­å­¦ä¹ å’Œæ¢ç´¢ Rust çš„ç¼–è¯‘æœŸå’Œè¿è¡Œæ—¶è¡Œä¸ºã€‚å¿«å»è¯•è¯•çœ‹å§ï¼Œç›¸ä¿¡ä½ ä¸€å®šèƒ½ä» Aquascope ç”ŸåŠ¨ç›´è§‚çš„å¯è§†åŒ–ä¸­è·å¾—æ–°çš„è®¤è¯†å’Œçµæ„Ÿ!

## æ€»ç»“

Aquascope æ˜¯ä¸€æ¬¾éå¸¸æœ‰åŠ©äºå­¦ä¹ å’Œç†è§£ Rust çš„å®ç”¨å·¥å…·ã€‚é€šè¿‡å¯è§†åŒ–çš„æ–¹å¼ï¼Œå®ƒæ­ç¤ºäº† Rust ç¼–è¯‘æœŸå€Ÿç”¨æ£€æŸ¥å’Œè¿è¡Œæ—¶è¡Œä¸ºçš„å¥¥ç§˜ï¼Œè®© Rust åˆå­¦è€…èƒ½æ›´è½»æ¾åœ°æŒæ¡ Rust çš„ç‹¬ç‰¹æœºåˆ¶ã€‚

ä½œä¸ºç ”ç©¶æ€§è´¨çš„è½¯ä»¶ï¼ŒAquascope ç›®å‰ä»åœ¨æ´»è·ƒå¼€å‘ä¸­ã€‚æ¬¢è¿å¤§å®¶å…³æ³¨è¯¥é¡¹ç›®ï¼Œä¸ºå…¶è´¡çŒ®ä»£ç å’Œåé¦ˆé—®é¢˜ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ¨åŠ¨ Rust å­¦ä¹ å’Œç ”ç©¶çš„å‘å±•ï¼

---



# Rustå¼€å‘è€…å·¥å…·ç®±å·¥å…·

## rustupï¼ˆå·¥å…·é“¾ç®¡ç†ï¼‰



## cargoï¼ˆæ„å»ºç³»ç»Ÿå’ŒåŒ…ç®¡ç†å™¨ï¼‰



## clippyï¼ˆä»£ç æ£€æŸ¥å™¨ï¼‰



## rustfmtï¼ˆæ ¼å¼åŒ–å·¥å…·ï¼‰



## rustdocï¼ˆæ–‡æ¡£ç”Ÿæˆå™¨ï¼‰





# RuståŸºç¡€ç»ƒä¹ é¢˜

åœ¨ä¸Šé¢æ­å»ºå¥½äº†Rustçš„ç¼–è¾‘å¼€å‘ç¯å¢ƒçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¼€å§‹ç»ƒä¹ Rustï¼Œä»¥ä¸‹æ˜¯ç»ƒä¹ é¢˜ï¼š

## Rustå®˜æ–¹ç»ƒä¹ é¢˜(äº’åŠ¨å¼Rustç¼–ç¨‹å­¦ä¹ å¹³å°)ï¼šrustlings

Rustlingsæ˜¯ä¸€ä¸ªå¼€æºçš„Rustç¼–ç¨‹å­¦ä¹ é¡¹ç›®ï¼Œé€šè¿‡å°å‹ç»ƒä¹ å¸®åŠ©åˆå­¦è€…æŒæ¡æ ¸å¿ƒæ¦‚å¿µå’Œè¯­æ³•ã€‚å®ƒæä¾›äº¤äº’å¼ç¯å¢ƒï¼Œè®©ç”¨æˆ·å®Œæˆç»ƒä¹ å¹¶è·å¾—å³æ—¶åé¦ˆã€‚é¡¹ç›®æ”¯æŒå‘½ä»¤è¡Œç•Œé¢ï¼Œæ–¹ä¾¿ç”¨æˆ·æŒ‰ç…§é¢„è®¾é¡ºåºæˆ–è‡ªé€‰è¿›åº¦å­¦ä¹ ã€‚exercisesåŒ…å«ç¼–è¯‘é”™è¯¯å’Œæµ‹è¯•ï¼Œå¼•å¯¼å­¦ä¹ è€…ç†è§£å’Œä¿®å¤å¸¸è§é—®é¢˜ã€‚ç»“åˆå®˜æ–¹Rustä¹¦ç±å’Œæ–‡æ¡£ï¼ŒRustlingsä¸ºå­¦ä¹ è€…æä¾›äº†ç†è®ºä¸å®è·µç›¸ç»“åˆçš„å…¨é¢å…¥é—¨ä½“éªŒï¼Œæœ‰æ•ˆæå‡Rustç¼–ç¨‹æŠ€èƒ½ã€‚

GitHubï¼šhttps://github.com/rust-lang/rustlings

å®˜ç½‘ï¼šhttps://doc.rust-lang.org/book/

æ–‡æ¡£ï¼šhttps://doc.rust-lang.org/rust-by-example/

**å‚è€ƒé¢˜è§£ç­”æ¡ˆ**ï¼š

- **rustlings å­¦ä¹ å’Œç­”æ¡ˆ | Jiangker**ï¼šhttps://blog.jiangker.cn/posts/rustlings/
- Rustå­¦ä¹  | Rustlingsé€šå…³è®°å½•ä¸é¢˜è§£ - climerecho - åšå®¢å›­ï¼šhttps://www.cnblogs.com/Roboduster/p/17781712.html
- https://jishuzhan.net/article/1716285240235790338



æœ¬é¡¹ç›®åŒ…å«ä¸€äº›å°ç»ƒä¹ ï¼Œæ—¨åœ¨å¸®åŠ©ä½ ç†Ÿæ‚‰é˜…è¯»å’Œç¼–å†™ Rust ä»£ç ã€‚ è¿™åŒ…æ‹¬é˜…è¯»å’Œç†è§£ç¼–è¯‘å™¨æ¶ˆæ¯ï¼

å»ºè®®åœ¨é˜…è¯»[Rustå®˜æ–¹æ•™ç¨‹](https://doc.rust-lang.org/book/)çš„åŒæ—¶å®Œæˆ Rustlings ç»ƒä¹ ï¼Œè¿™æ˜¯å­¦ä¹  Rust æœ€å…¨é¢çš„èµ„æº ğŸ“šï¸

[é€šè¿‡ä¾‹å­å­¦ Rust](https://doc.rust-lang.org/rust-by-example/) æ˜¯å¦ä¸€ä¸ªæ¨èçš„èµ„æºï¼Œä½ å¯èƒ½ä¼šè§‰å¾—å®ƒå¾ˆæœ‰å¸®åŠ©ã€‚ å®ƒåŒ…å«ç±»ä¼¼ Rustlings çš„åœ¨çº¿ä»£ç ç¤ºä¾‹å’Œç»ƒä¹ ã€‚



### 1.å®‰è£… Rustlings

ä»¥ä¸‹å‘½ä»¤å°†ä¸‹è½½å¹¶ç¼–è¯‘ Rustlingsï¼š

```bash
cargo install rustlings
```

<details> <summary><strong>å¦‚æœå®‰è£…å¤±è´¥â€¦</strong>ï¼ˆ<em>ç‚¹å‡»å±•å¼€</em>ï¼‰</summary>

- è¿è¡Œ `rustup update` ç¡®ä¿ä½ ä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„ Rust
- å°è¯•æ·»åŠ  `--locked` æ ‡å¿—ï¼š`cargo install rustlings --locked`
- å¦åˆ™ï¼Œè¯·[æŠ¥å‘Šé—®é¢˜](https://github.com/rust-lang/rustlings/issues/new)

</details>

### 2.åˆå§‹åŒ–

å®‰è£… Rustlings åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ– `rustlings/` ç›®å½•ï¼š

```
rustlings init
```

<details> <summary><strong>å¦‚æœæ‰¾ä¸åˆ° <code>rustlings</code> å‘½ä»¤â€¦</strong>ï¼ˆ<em>ç‚¹å‡»å±•å¼€</em>ï¼‰</summary>

ä½ å¯èƒ½ä½¿ç”¨çš„æ˜¯ Linuxï¼Œå¹¶é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…äº† Rustã€‚

Cargo å°†äºŒè¿›åˆ¶æ–‡ä»¶å®‰è£…åˆ° `~/.cargo/bin` ç›®å½•ã€‚ ä¸å¹¸çš„æ˜¯ï¼ŒåŒ…ç®¡ç†å™¨é€šå¸¸ä¸ä¼šå°† `~/.cargo/bin` æ·»åŠ åˆ°ä½ çš„ `PATH` ç¯å¢ƒå˜é‡ä¸­ã€‚

è§£å†³æ–¹æ³•æ˜¯â€¦

- æ‰‹åŠ¨å°† `~/.cargo/bin` æ·»åŠ åˆ° `PATH` ä¸­
- æˆ–ä»åŒ…ç®¡ç†å™¨å¸è½½ Rustï¼Œç„¶åä½¿ç”¨å®˜æ–¹æ–¹å¼é€šè¿‡ `rustup` å®‰è£…ï¼šhttps://www.rust-lang.org/tools/install

</details>

ç°åœ¨ï¼Œè¿›å…¥æ–°åˆå§‹åŒ–çš„ç›®å½•ï¼Œå¹¶å¯åŠ¨ Rustlings ä»¥è·å–æœ‰å…³å¼€å§‹ç»ƒä¹ çš„è¿›ä¸€æ­¥è¯´æ˜ï¼š

```
cd rustlings/
rustlings
```

### å·¥ä½œç¯å¢ƒ

#### ç¼–è¾‘å™¨

æˆ‘ä»¬çš„ä¸€èˆ¬å»ºè®®æ˜¯ä½¿ç”¨ [VS Code](https://code.visualstudio.com/) å’Œ [rust-analyzer æ’ä»¶](https://marketplace.visualstudio.com/items?itemName=rust-lang.rust-analyzer)ã€‚ ä½†ä»»ä½•æ”¯æŒ [rust-analyzer](https://rust-analyzer.github.io/) çš„ç¼–è¾‘å™¨éƒ½åº”è¯¥è¶³ä»¥å®Œæˆç»ƒä¹ ã€‚

#### ç»ˆç«¯

åœ¨ä½¿ç”¨ Rustlings æ—¶ï¼Œè¯·ä½¿ç”¨ç°ä»£ç»ˆç«¯ä»¥è·å¾—æœ€ä½³ç”¨æˆ·ä½“éªŒã€‚ Linux å’Œ Mac ä¸Šçš„é»˜è®¤ç»ˆç«¯åº”è¯¥è¶³å¤Ÿäº†ã€‚ åœ¨ Windows ä¸Šï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ [Windows Terminal](https://aka.ms/terminal)ã€‚

### å®Œæˆç»ƒä¹ 

ç»ƒä¹ æŒ‰ä¸»é¢˜æ’åºï¼Œå¯ä»¥åœ¨å­ç›®å½• `exercises/<topic>` ä¸­æ‰¾åˆ°ã€‚ æ¯ä¸ªä¸»é¢˜éƒ½æœ‰ä¸€ä¸ªé¢å¤–çš„ `README.md` æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›èµ„æºï¼Œå¯ä»¥å¸®åŠ©ä½ å¼€å§‹å­¦ä¹ è¯¥ä¸»é¢˜ã€‚ æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ åœ¨å¼€å§‹ä¹‹å‰å…ˆçœ‹ä¸€çœ‹è¿™äº›èµ„æº ğŸ“šï¸

å¤§å¤šæ•°ç»ƒä¹ éƒ½åŒ…å«ä¸€ä¸ªé˜»æ­¢å®ƒä»¬ç¼–è¯‘çš„é”™è¯¯ï¼Œä½ éœ€è¦ä¿®å¤å®ƒï¼ ä¸€äº›ç»ƒä¹ åŒ…å«éœ€è¦é€šè¿‡çš„æµ‹è¯•ï¼Œä»¥å®Œæˆç»ƒä¹  âœ…

æœç´¢ `TODO` å’Œ `todo!()` ä»¥æ‰¾å‡ºéœ€è¦æ›´æ”¹çš„å†…å®¹ã€‚ åœ¨_ç›‘è§†æ¨¡å¼_ä¸‹è¾“å…¥ `h` å¯ä»¥è·å–æç¤º ğŸ’¡

#### ç›‘è§†æ¨¡å¼

[åˆå§‹åŒ–](https://www.dongaigc.com/p/rust-lang/rustlings#åˆå§‹åŒ–)åï¼Œåªéœ€è¿è¡Œ `rustlings` å‘½ä»¤å³å¯å¯åŠ¨ Rustlingsã€‚

è¿™å°†å¯åŠ¨_ç›‘è§†æ¨¡å¼_ï¼ŒæŒ‰é¢„å®šä¹‰çš„é¡ºåºï¼ˆæˆ‘ä»¬è®¤ä¸ºå¯¹æ–°æ‰‹æœ€å¥½çš„é¡ºåºï¼‰å¼•å¯¼ä½ å®Œæˆç»ƒä¹ ã€‚ æ¯æ¬¡ä½ æ›´æ”¹ `exercises/` ç›®å½•ä¸­çš„ç»ƒä¹ æ–‡ä»¶æ—¶ï¼Œå®ƒéƒ½ä¼šè‡ªåŠ¨é‡æ–°è¿è¡Œå½“å‰ç»ƒä¹ ã€‚

<details> <summary><strong>å¦‚æœæ£€æµ‹ <code>exercises/</code> ç›®å½•ä¸­çš„æ–‡ä»¶æ›´æ”¹å¤±è´¥â€¦</strong>ï¼ˆ<em>ç‚¹å‡»å±•å¼€</em>ï¼‰</summary>

> ä½ å¯ä»¥æ·»åŠ  **`--manual-run`** æ ‡å¿—ï¼ˆ`rustlings --manual-run`ï¼‰ï¼Œåœ¨ç›‘è§†æ¨¡å¼ä¸‹è¾“å…¥ `r` æ‰‹åŠ¨é‡æ–°è¿è¡Œå½“å‰ç»ƒä¹ ã€‚
>
> è¯·[æŠ¥å‘Šé—®é¢˜](https://github.com/rust-lang/rustlings/issues/new)ï¼Œå¹¶æä¾›ä¸€äº›å…³äºä½ çš„æ“ä½œç³»ç»Ÿä»¥åŠä½ æ˜¯å¦åœ¨å®¹å™¨æˆ–è™šæ‹Ÿæœºï¼ˆå¦‚ WSLï¼‰ä¸­è¿è¡Œ Rustlings çš„ä¿¡æ¯ã€‚

</details>

#### ç»ƒä¹ åˆ—è¡¨

åœ¨[ç›‘è§†æ¨¡å¼](https://www.dongaigc.com/p/rust-lang/rustlings#ç›‘è§†æ¨¡å¼)ä¸‹ï¼ˆå¯åŠ¨ `rustlings` åï¼‰ï¼Œä½ å¯ä»¥è¾“å…¥ `l` æ‰“å¼€äº¤äº’å¼ç»ƒä¹ åˆ—è¡¨ã€‚

è¯¥åˆ—è¡¨å…è®¸ä½ â€¦

- æŸ¥çœ‹æ‰€æœ‰ç»ƒä¹ çš„çŠ¶æ€ï¼ˆå·²å®Œæˆæˆ–å¾…å®Œæˆï¼‰
- `c`ï¼šç»§ç»­å¦ä¸€ä¸ªç»ƒä¹ ï¼ˆæš‚æ—¶è·³è¿‡ä¸€äº›ç»ƒä¹ æˆ–è¿”å›åˆ°ä¹‹å‰çš„ç»ƒä¹ ï¼‰
- `r`ï¼šé‡ç½®ç»ƒä¹ çš„çŠ¶æ€å’Œæ–‡ä»¶ï¼ˆä¹‹åéœ€è¦åœ¨ç¼–è¾‘å™¨ä¸­_é‡æ–°åŠ è½½/é‡æ–°æ‰“å¼€_å…¶æ–‡ä»¶ï¼‰

æŸ¥çœ‹åˆ—è¡¨åº•éƒ¨äº†è§£æ‰€æœ‰å¯èƒ½çš„æŒ‰é”®ã€‚

### ç»§ç»­å‰è¿›

ä¸€æ—¦ä½ å®Œæˆäº† Rustlingsï¼Œå°±æŠŠä½ çš„æ–°çŸ¥è¯†ä»˜è¯¸å®è·µï¼ é€šè¿‡æ„å»ºè‡ªå·±çš„é¡¹ç›®ã€ä¸º Rustlings åšè´¡çŒ®æˆ–å¯»æ‰¾å…¶ä»–å¼€æºé¡¹ç›®æ¥ç»§ç»­ç»ƒä¹ ä½ çš„ Rust æŠ€èƒ½ã€‚

### ç¬¬ä¸‰æ–¹ç»ƒä¹ 

ä½ æƒ³åˆ›å»ºè‡ªå·±çš„ Rustlings ç»ƒä¹ é›†ï¼Œä¸“æ³¨äºæŸäº›ç‰¹å®šä¸»é¢˜å—ï¼Ÿ æˆ–è€…ä½ æƒ³ç¿»è¯‘åŸå§‹çš„ Rustlings ç»ƒä¹ ï¼Ÿ é‚£ä¹ˆè¯·æŸ¥çœ‹[ç¬¬ä¸‰æ–¹ç»ƒä¹ ](https://github.com/rust-lang/rustlings/blob/main/THIRD_PARTY_EXERCISES.md)æŒ‡å—ï¼

### å¸è½½ Rustlings

å¦‚æœä½ æƒ³ä»ç³»ç»Ÿä¸­åˆ é™¤ Rustlingsï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
cargo uninstall rustlings
```

### è´¡çŒ®

è¯·å‚é˜… [CONTRIBUTING.md](https://github.com/rust-lang/rustlings/blob/main/CONTRIBUTING.md) ğŸ”—

### è´¡çŒ®è€… âœ¨

æ„Ÿè°¢[æ‰€æœ‰å‡ºè‰²çš„è´¡çŒ®è€…](https://github.com/rust-lang/rustlings/graphs/contributors) ğŸ‰



## mainmatterçš„ç»ƒä¹ é¢˜ã€ŠRust å­¦ä¹  100 é¢˜ï¼šä¸€æ¬¡ä¸€ä¸ªç»ƒä¹ çš„è‡ªæˆ‘å­¦ä¹ è¯¾ç¨‹ã€‹

- GitHubï¼šhttps://github.com/mainmatter/100-exercises-to-learn-rust
- å®˜ç½‘ï¼šhttps://rust-exercises.com/
- æ–‡æ¡£ï¼šhttps://rust-exercises.com/100-exercises/
- ä¸­æ–‡æ–‡æ¡£ï¼šhttps://colobu.com/rust100/



1.é¦–å…ˆå°†å®ƒå…‹éš†åˆ°æœ¬åœ°

```bash
# å¦‚æœä½ å·²ç»ä¸ºGitHubè®¾ç½®äº†SSHå¯†é’¥
git clone git@github.com:mainmatter/100-exercises-to-learn-rust.git

# å¦åˆ™ï¼Œä½¿ç”¨HTTPSé“¾æ¥ï¼š
git clone https://github.com/mainmatter/100-exercises-to-learn-rust.git
```

2.å®‰è£…é…å¥—çš„wrå·¥å…·ï¼š[workshop-runner](https://mainmatter.github.io/rust-workshop-runner/)ï¼Œé‡Œé¢æ‰¾åˆ°çš„windowsç³»ç»Ÿçš„å®‰è£…å‘½ä»¤

```
cargo install --locked workshop-runner
```

![image-20250417094339949](./2.RuståŸºç¡€ç¯‡.assets/image-20250417094339949.png)

3.å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æ–°ç»ˆç«¯å¹¶å¯¼èˆªåˆ°å­˜å‚¨åº“çš„æ ¹ç›®å½•æ–‡ä»¶å¤¹ã€‚ 

è¿è¡Œå‘½ä»¤ä»¥å¯åŠ¨è¯¾ç¨‹ï¼š

```bash
# åˆ°å­˜å‚¨åº“çš„æ ¹ç›®å½•æ–‡ä»¶å¤¹
cd 100-exercises-to-learn-rust
# è¿è¡Œå‘½ä»¤ä»¥å¯åŠ¨è¯¾ç¨‹
wr
```

![image-20250417094715180](./2.RuståŸºç¡€ç¯‡.assets/image-20250417094715180.png)

å‡ºç°ç±»ä¼¼ä¿¡æ¯å°±æ˜¯æˆåŠŸã€‚

è¿™ä¸ªå·¥å…·å¯ä»¥å¸®åŠ©ä½ ç®¡ç†è¿›åº¦ï¼Œè§£ç­”å®Œé—®é¢˜åå¯ä»¥ä½¿ç”¨å®ƒæ¥æ›´æ–°è¿›åº¦ã€‚

### å°è¯•æŒ‘æˆ˜

å†è¾“å…¥wråï¼Œè¾“å…¥yè¿›å…¥ç¬¬ä¸€å…³æŒ‘æˆ˜

```
$ wr
 
 
Running tests...
 
        Eternity lies ahead of us, and behind. Your path is not yet finished. ğŸ‚
 
Do you want to open the next exercise, (01) intro - (00) welcome? [y/n] y
 
 
        Ahead of you lies (01) intro - (00) welcome
 
        Open "exercises/01_intro/00_welcome" in your editor and get started!
        Run `wr` again to compile the exercise and execute its tests.
```

æ‰“å¼€`100-exercises-ro-learn-rust/exercises/01_intro/00_welcome/src/lib.rs`çœ‹åˆ°è¦å®Œæˆçš„ç¬¬ä¸€ä¸ªè°ƒæ•´

![image-20250417095007014](./2.RuståŸºç¡€ç¯‡.assets/image-20250417095007014.png)

æ³¨:çœ‹åˆ°TODOç­‰ç±»ä¼¼å­—æ ·å°±æ˜¯è¦ä¿®æ”¹çš„ä»£ç éƒ¨åˆ†ï¼Œæˆ–è€…æŸ¥çœ‹æ³¨é‡Šä¸­çš„é¢˜ç›®è¦æ±‚å’Œæç¤ºä¹Ÿéƒ½å¯ä»¥å¿«é€Ÿå®ŒæˆæŒ‘æˆ˜ï¼Œå¦‚æœå®åœ¨æ— æ³•å®Œæˆä¹Ÿå¯ä»¥å¯»æ‰¾å®˜æ–¹solutionåˆ†æ”¯ä¸Šçš„æ­£ç¡®ç­”æ¡ˆorå…³æ³¨æˆ‘ï¼Œæˆ‘ä¼šå°½åŠ›å®Œæˆä¸‹é¢çš„100ä¸ªæŒ‘æˆ˜(ç›®å‰åªå®Œæˆäº†ä¸€åŠï¼Œç­‰æˆ‘å­¦å®Œä¼šä¸€æ¬¡å‘å‡º)

ç¬¬ä¸€å…³ä»£ç å¦‚ä¸‹ï¼Œè¯»å®Œæ³¨é‡Šå‘ç°å¾ˆç®€å•ï¼Œassert_eq!å°±æ˜¯ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œåªéœ€è¦æŠŠ__ä¿®æ”¹ä¸ºRustå°±å¯ä»¥é€šè¿‡äº†

```rust
// This is a Rust file. It is a plain text file with a `.rs` extension.
//
// Like most modern programming languages, Rust supports comments. You're looking at one right now!
// Comments are ignored by the compiler; you can leverage them to annotate code with notes and
// explanations.
// There are various ways to write comments in Rust, each with its own purpose.
// For now we'll stick to the most common one: the line comment.
// Everything from `//` to the end of the line is considered a comment.
 
// Exercises will include `TODO`, `todo!()` or `__` markers to draw your attention to the lines
// where you need to write code.
// You'll need to replace these markers with your own code to complete the exercise.
// Sometimes it'll be enough to write a single line of code, other times you'll have to write
// longer sections.
//
// If you get stuck for more than 10 minutes on an exercise, grab a trainer! We're here to help!
// You can also find solutions to all exercises in the `solutions` git branch.
fn greeting() -> &'static str {
    // TODO: fix me ğŸ‘‡
    "I'm ready to __!"
}
 
// Your solutions will be automatically verified by a set of tests.
// You can run these tests directly by invoking the `cargo test` command in your terminal,
// from the root of this exercise's directory. That's what the `wr` command does for you
// under the hood.
//
// Rust lets you write tests alongside your code.
// The `#[cfg(test)]` attribute tells the compiler to only compile the code below when
// running tests (i.e. when you run `cargo test`).
// You'll learn more about attributes and testing later in the course.
// For now, just know that you need to look for the `#[cfg(test)]` attribute to find the tests
// that will be verifying the correctness of your solutions!
//
// âš ï¸ **DO NOT MODIFY THE TESTS** âš ï¸
// They are there to help you validate your solutions. You should only change the code that's being
// tested, not the tests themselves.
#[cfg(test)]
mod tests {
    use crate::greeting;
 
    #[test]
    fn test_welcome() {
        assert_eq!(greeting(), "I'm ready to learn Rust!");
    }
}
```

ä¿®æ”¹å®Œåå†å‘½ä»¤è¡Œç»§ç»­æ‰“å‡ºwr



```
$ wr
 
 
Running tests...
 
        ğŸš€ (01) intro - (00) welcome
        Eternity lies ahead of us, and behind. Your path is not yet finished. ğŸ‚
 
Do you want to open the next exercise, (01) intro - (01) syntax? [y/n]ã€€y
 
        Ahead of you lies (01) intro - (01) syntax
 
        Open "exercises/01_intro/01_syntax" in your editor and get started!
        Run `wr` again to compile the exercise and execute its tests.
```

å°±æ˜¯é€šè¿‡æŒ‘æˆ˜äº†ï¼ç„¶åå°±å¯ä»¥ä¸‹ä¸€å…³ç±»ä¼¼
