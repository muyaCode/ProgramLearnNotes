import{_ as e,c as o,o as a,a3 as s}from"./chunks/framework.zGi9i9Bf.js";const t="/ProgramLearnNotes/assets/640-48948.DfHK7JyV.webp",r="/ProgramLearnNotes/assets/640-1716210616712-1.xw63Nf1Q.webp",d="/ProgramLearnNotes/assets/640-1716210616712-2.zBCH4ap3.webp",c="/ProgramLearnNotes/assets/640-1716210616713-3.CuRfuUxX.webp",p="/ProgramLearnNotes/assets/640-1716210616713-4.BREoAKFX.webp",n="/ProgramLearnNotes/assets/640-1716210616713-5.Uo9guDcu.webp",l="/ProgramLearnNotes/assets/640-1716210616713-6.CCR5j6na.webp",q=JSON.parse('{"title":"如何优雅的变更Docker-Desktop的镜像存储路径","description":"","frontmatter":{},"headers":[],"relativePath":"Document/Docker/Docker应用/如何优雅的变更Docker-Desktop的镜像存储路径.md","filePath":"Document/Docker/Docker应用/如何优雅的变更Docker-Desktop的镜像存储路径.md","lastUpdated":1716297813000}'),i={name:"Document/Docker/Docker应用/如何优雅的变更Docker-Desktop的镜像存储路径.md"},k=s('<h1 id="如何优雅的变更docker-desktop的镜像存储路径" tabindex="-1">如何优雅的变更Docker-Desktop的镜像存储路径 <a class="header-anchor" href="#如何优雅的变更docker-desktop的镜像存储路径" aria-label="Permalink to &quot;如何优雅的变更Docker-Desktop的镜像存储路径&quot;">​</a></h1><h2 id="概述" tabindex="-1"><strong>概述</strong> <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;**概述**&quot;">​</a></h2><p>Docker Desktop 默认将镜像文件存储在<code>C</code>盘，随着Docker的使用，镜像文件大小的不断增加，可能会导致C盘空间不足。为了解决这个问题，可以采取以下步骤更改Docker镜像的存储位置。</p><h2 id="开始" tabindex="-1"><strong>开始</strong> <a class="header-anchor" href="#开始" aria-label="Permalink to &quot;**开始**&quot;">​</a></h2><h4 id="_0x01-找到docker文件存储位置" tabindex="-1"><strong>0x01 找到docker文件存储位置</strong> <a class="header-anchor" href="#_0x01-找到docker文件存储位置" aria-label="Permalink to &quot;**0x01 找到docker文件存储位置**&quot;">​</a></h4><p>打开docker desktop，进入到设置<code>resources</code> - <code>Advance</code></p><p><img src="'+t+'" alt="图片"></p><p>在右侧可以看到当前Docker文件的存储位置，复制路径并打开，其中data文件夹内存放的是<code>docker-desktop-data</code>的存储数据</p><h4 id="_0x02-导出-docker-desktop-data" tabindex="-1"><strong>0x02 导出 docker-desktop-data</strong> <a class="header-anchor" href="#_0x02-导出-docker-desktop-data" aria-label="Permalink to &quot;**0x02 导出 docker-desktop-data**&quot;">​</a></h4><p>首先需要做的是停止Docker desktop应用进程，进程停止之后，使用<code>wsl --list -v</code>命令查看WSL中的运行的实例是否停止。</p><p><img src="'+r+'" alt="图片"></p><p>第一次执行为<code>Running</code>，在关闭之后状态变为<code>Stopped</code>。此时即可选择将实例导出，执行以下命令将实例导出。</p><p>执行命令行执行关闭WSL。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>wsl --shutdown</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>开始导出</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>wsl --export docker-desktop-data D:docker\\docker-desktop-data.tar</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p><code>D:docker\\docker-desktop-data.tar</code>为文件备份位置</p></blockquote><h4 id="_0x03-注销-docker-desktop-data" tabindex="-1"><strong>0x03 注销 docker-desktop-data</strong> <a class="header-anchor" href="#_0x03-注销-docker-desktop-data" aria-label="Permalink to &quot;**0x03 注销 docker-desktop-data**&quot;">​</a></h4><p>使用以下命令将当前的WSL实例进行注销</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>wsl --unregister docker-desktop-data</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+d+'" alt="图片"></p><h4 id="_0x04-导入-docker-desktop-data" tabindex="-1"><strong>0x04 导入 docker-desktop-data</strong> <a class="header-anchor" href="#_0x04-导入-docker-desktop-data" aria-label="Permalink to &quot;**0x04 导入 docker-desktop-data**&quot;">​</a></h4><p>接下来便可以将备份文件导入到新的位置，使用以下命令</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>wsl --import docker-desktop-data D:docker\\data D:docker\\docker-desktop-data.tar --version 2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>docker-desktop-data</code>为要导入的实例的名称，不可修改</li><li><code>D:docker\\data</code> 新的位置要导入的文件夹</li><li><code>D:docker\\docker-desktop-data.tar</code> 之前导出备份的实例</li></ul><blockquote><p>导入之后，进入资源管理器对应文件夹中，可观察到已经迁移成功</p></blockquote><p><img src="'+c+'" alt="图片"></p><blockquote><p>使用 <code>wsl --list -v</code> 查看当前的实例</p></blockquote><p><img src="'+p+'" alt="图片"></p><blockquote><p>启动 Docker desktop ，查看镜像容器是否正常启动</p></blockquote><p><strong>镜像</strong></p><p><img src="'+n+'" alt="图片"></p><p><strong>容器</strong></p><p><img src="'+l+'" alt="图片"></p><h2 id="小结" tabindex="-1"><strong>小结</strong> <a class="header-anchor" href="#小结" aria-label="Permalink to &quot;**小结**&quot;">​</a></h2><p>通过以上步骤可以帮助用户将Docker镜像文件从C盘移动到其他磁盘，从而释放C盘空间，提高Docker的使用体验。</p>',36),u=[k];function _(b,m,h,g,D,x){return a(),o("div",null,u)}const f=e(i,[["render",_]]);export{q as __pageData,f as default};
