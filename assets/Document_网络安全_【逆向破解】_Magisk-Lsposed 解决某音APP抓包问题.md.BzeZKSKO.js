import{_ as s,c as p,o as a,a3 as e}from"./chunks/framework.zGi9i9Bf.js";const M=JSON.parse('{"title":"Magisk-Lsposed 解决某音APP抓包问题","description":"","frontmatter":{},"headers":[],"relativePath":"Document/网络安全/【逆向破解】/Magisk-Lsposed 解决某音APP抓包问题.md","filePath":"Document/网络安全/【逆向破解】/Magisk-Lsposed 解决某音APP抓包问题.md","lastUpdated":1717759497000}'),o={name:"Document/网络安全/【逆向破解】/Magisk-Lsposed 解决某音APP抓包问题.md"},i=e('<h1 id="magisk-lsposed-解决某音app抓包问题" tabindex="-1">Magisk-Lsposed 解决某音APP抓包问题 <a class="header-anchor" href="#magisk-lsposed-解决某音app抓包问题" aria-label="Permalink to &quot;Magisk-Lsposed 解决某音APP抓包问题&quot;">​</a></h1><h2 id="_01-模拟器" tabindex="-1">01 模拟器 <a class="header-anchor" href="#_01-模拟器" aria-label="Permalink to &quot;01 模拟器&quot;">​</a></h2><p>选择雷电9模拟器，安卓版本为9.0，在启动前必须在设置中调整以下两个地方</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640.webp)</p><p>设置-其它设置-开启root</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-184.webp)</p><p>设置-性能设置-磁盘改为写入</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-185.webp)</p><p>最后保存设置</p><h2 id="_02-刷magisk面具" tabindex="-1">02 刷Magisk面具 <a class="header-anchor" href="#_02-刷magisk面具" aria-label="Permalink to &quot;02 刷Magisk面具&quot;">​</a></h2><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-186.webp)</p><p>打开模拟器，然后先安装文件内Magisk以及Magisk Terminal Emulator apk。</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-187.webp)</p><p>打开Magisk可以看到界面上Magisk处于未获取状态。</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-188.webp)</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-189.webp)</p><p>先关掉Magisk，打开Magisk Terminal Emulator_17.7，点击允许</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-190.webp)</p><p>第一步：输入 m，并在提示后输入Y确定</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-191.webp)</p><p>允许root</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-192.webp)</p><p>第二步：安装magisk 输入1 回车，然后输入a选择离线安装</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-193.webp)</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-194.webp)</p><p>第三步：选择1 安装到system</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-195.webp)</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-196.webp)</p><p>成功！</p><p>重启模拟器，查看Magisk已经获得。</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582812-197.webp)</p><h2 id="_03-安装lsposed模块" tabindex="-1">03 安装Lsposed模块 <a class="header-anchor" href="#_03-安装lsposed模块" aria-label="Permalink to &quot;03 安装Lsposed模块&quot;">​</a></h2><h4 id="首先设置magisk-设置-开启zygisk以及遵守排除列表" tabindex="-1">首先设置Magisk，设置-开启Zygisk以及遵守排除列表 <a class="header-anchor" href="#首先设置magisk-设置-开启zygisk以及遵守排除列表" aria-label="Permalink to &quot;首先设置Magisk，设置-开启Zygisk以及遵守排除列表&quot;">​</a></h4><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-198.webp)</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-199.webp)</p><p>结束后重新启动模拟器。</p><h4 id="接着推送加载lsp模块" tabindex="-1">接着推送加载Lsp模块， <a class="header-anchor" href="#接着推送加载lsp模块" aria-label="Permalink to &quot;接着推送加载Lsp模块，&quot;">​</a></h4><p>adb push</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-200.webp)</p><p>在msgisk中记载模块，点击模块从本地安装</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-201.webp)</p><p>选择我们adb push的位置，点击文件完成加载。</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-202.webp)</p><p>重启模拟器。</p><p>这里没有Lsposed的apk图标， 我们直接把文件夹内的lsp manger apk拖到模拟器中就可以了。</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-203.webp)</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-204.webp)</p><p>打开Lsp，显示模块已经激活。</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-205.webp)</p><h2 id="_04-lsposed模块抓包测试" tabindex="-1">04 Lsposed模块抓包测试 <a class="header-anchor" href="#_04-lsposed模块抓包测试" aria-label="Permalink to &quot;04 Lsposed模块抓包测试&quot;">​</a></h2><p>抓包工具安装这里就不掩饰了，我这里用的是mitmproxy，如果有需要后续会出一篇文章的。</p><p>我们知道抖音apk做了自己自定义的SSL-PINNING认证的，通过xp-Just Trust Me模块解决不了抓包问题。</p><p>在没有开启代理之前，抖音是正常有网络的</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-206.webp)</p><p>开启代理之后，没有网络了</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-207.webp)</p><p>这里我们的解决办法是使用享过抖音最新版ssl-pinning xp模块。</p><p>这里直接把下载的文件夹内的dy_and_ks_抓包_Signed.apk拖到模拟器中，Lsp会自动监测出。点击提示的下拉框以激活模块，注意选择抖音。</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-208.webp)</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-209.webp)</p><p>最后在重新打开抖音，网络正常并成功抓到包了。</p><p>![图片](./Magisk-Lsposed 解决某音APP抓包问题.assets/640-1714653582813-210.webp)</p>',62),t=[i];function d(P,k,r,g,l,n){return a(),p("div",null,t)}const L=s(o,[["render",d]]);export{M as __pageData,L as default};
