import{_ as s,c as n,o as a,a3 as e}from"./chunks/framework.zGi9i9Bf.js";const l="/ProgramLearnNotes/assets/640.B2kha5F7.webp",p="/ProgramLearnNotes/assets/640-1715263767407-4.LepGTpPz.webp",h=JSON.parse('{"title":"SQLite","description":"","frontmatter":{},"headers":[],"relativePath":"Document/数据库/SQLite.md","filePath":"Document/数据库/SQLite.md","lastUpdated":1715674592000}'),t={name:"Document/数据库/SQLite.md"},o=e(`<h1 id="sqlite" tabindex="-1">SQLite <a class="header-anchor" href="#sqlite" aria-label="Permalink to &quot;SQLite&quot;">​</a></h1><p><strong>QLite</strong> 是一个用 C 语言编写的开源、轻量级、快速、独立且高可靠性的 SQL 数据库引擎，它提供了功能齐全的数据库解决方案。SQLite 几乎可以在所有的手机和计算机上运行，它被嵌入到无数人每天都在使用的众多应用程序中。</p><p>此外，SQLite 还具有稳定的文件格式、跨平台能力和向后兼容性等特点。SQLite 的开发者承诺，至少在 2050 年之前保持该文件格式不变。</p><p>SQLite文件格式是稳定的，跨平台的， 向后兼容，开发人员承诺保持它 一直持续到2050年。SQLite是免费的， 每个人都可以用于任何目的。</p><p>特征</p><ul><li>与SQLServer 或 Oracle等其他数据库管理系统相比，SQLite 非常轻量级（小于500Kb）</li><li>SQLite不是客户端-服务器数据库管理系统。它是一个可以直接调用和使用的内存库。无需安装，无需配置。</li><li>典型的SQLite数据库包含在计算机磁盘存储上的单个文件中，所有数据库对象（表、视图、触发器等）都包含在该文件中。无需专用服务器。</li></ul><p>Django开发常常使用sqlite。</p><h2 id="sqlite-安装" tabindex="-1">SQLite 安装 <a class="header-anchor" href="#sqlite-安装" aria-label="Permalink to &quot;SQLite 安装&quot;">​</a></h2><p>在 SQLite 官方页面：<a href="https://sqlite.org/download.html" target="_blank" rel="noreferrer">https://sqlite.org/download.html</a> 下载适合你目标系统的压缩包。</p><p>下载并解压后，无论是在 Windows、Linux 还是 Mac OS 系统上，你都可以得到一个 <code>sqlite3</code> 命令行工具。</p><p>以下是在 Mac OS 上解压后得到的命令行工具示例：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>➜  sqlite-tools-osx-x64-3450100 ls -l</span></span>
<span class="line"><span>total 14952</span></span>
<span class="line"><span>-rwxr-xr-x@ 1 darcy  staff  1907136  1 31 00:27 sqldiff</span></span>
<span class="line"><span>-rwxr-xr-x@ 1 darcy  staff  2263792  1 31 00:25 sqlite3</span></span>
<span class="line"><span>-rwxr-xr-x@ 1 darcy  staff  3478872  1 31 00:27 sqlite3_analyzer</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="sqlite-使用场景" tabindex="-1">SQLite 使用场景 <a class="header-anchor" href="#sqlite-使用场景" aria-label="Permalink to &quot;SQLite 使用场景&quot;">​</a></h2><p>SQLite 与客户端/服务器类型的 SQL 数据库引擎（例如 MySQL、Oracle、PostgreSQL 或 SQL Server）不同，它们解决的问题也不同。</p><p>服务器端的 SQL 数据库引擎旨在实现企业级数据的共享存储，它们强调的是<strong>可扩展性、并发性、集中化和控制性</strong>。相比之下，SQLite 通常用于为个人应用程序和设备提供本地数据存储，它强调的是<strong>经济、高效、可靠、独立和简单</strong>。</p><p><strong>SQLite 的使用场景：</strong></p><ol><li>嵌入式设备和物联网 SQLite 不需要额外的管理或服务启动，非常适合用在手机、电视、机顶盒、游戏机、相机、手表等智能设备上。</li><li>网站多数低流量网站可以使用 SQLite 作为数据库。根据官方网站的介绍，通常每天访问量少于 10 万次的网站都可以很好地运行 SQLite。SQLite 的官方网站（<a href="https://www.sqlite.org/%EF%BC%89%E8%87%AA%E8%BA%AB%E5%B0%B1%E4%BD%BF%E7%94%A8" target="_blank" rel="noreferrer">https://www.sqlite.org/）自身就使用</a> SQLite 作为数据库引擎，每天处理大约 50 万 HTTP 请求，其中约 15-20% 的请求涉及数据库查询</li><li>数据分析 SQLite3 命令行工具能方便地与 CSV 和 Excel 文件进行交互操作，适合分析大数据集。同时，许多语言（如 Python）都内置了 SQLite 支持，可以轻松编写脚本进行数据操作。</li><li>缓存 SQLite 可以作为应用服务的缓存，减轻对中心数据库的压力。</li><li>内存或者临时数据库得益于 SQLite 的简单快速，非常使用程序演示或者日常测试。</li></ol><p><strong>SQLite 不适合的场景包括</strong>：</p><ol><li><strong>需要通过网络访问数据库</strong>的情况。SQLite 是一个本地文件数据库，没有提供远程访问功能。</li><li><strong>要求高可用性和可扩展性</strong>的场合。SQLite 简单易用，但不可扩展。</li><li><strong>数据量极大</strong>时。尽管 SQLite 数据库大小的限制高达 281 TB，但所有数据都必须存储在单个磁盘上。</li><li><strong>写入操作高并发</strong>时。SQLite 在任何时刻只允许一个写入操作执行，其他写入操作需要排队。</li></ol><h2 id="sqlite3-命令操作" tabindex="-1">SQLite3 命令操作 <a class="header-anchor" href="#sqlite3-命令操作" aria-label="Permalink to &quot;SQLite3 命令操作&quot;">​</a></h2><p>SQLite 提供了 <code>sqlite3</code>（在 windows 为 sqlite3.exe）命令行工具，通过该工具可以执行 SQLite 数据库操作和 SQL 语句。</p><p>直接在命令提示符下执行 <code>./sqlite3</code> 启动 sqlite3 程序，然后可以通过输入 <code>.help</code> 查看帮助指南，或者输入 <code>.help 关键词</code> 获取特定关键词的帮助信息。</p><p>部分命令列表如下：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .help</span></span>
<span class="line"><span>.databases               List names and files of attached databases</span></span>
<span class="line"><span>.dbconfig ?op? ?val?     List or change sqlite3_db_config() options</span></span>
<span class="line"><span>.dbinfo ?DB?             Show status information about the database</span></span>
<span class="line"><span>.excel                   Display the output of next command in spreadsheet</span></span>
<span class="line"><span>.exit ?CODE?             Exit this program with return-code CODE</span></span>
<span class="line"><span>.expert                  EXPERIMENTAL. Suggest indexes for queries</span></span>
<span class="line"><span>.explain ?on|off|auto?   Change the EXPLAIN formatting mode.  Default: auto</span></span>
<span class="line"><span>.help ?-all? ?PATTERN?   Show help text for PATTERN</span></span>
<span class="line"><span>.hex-rekey OLD NEW NEW   Change the encryption key using hexadecimal</span></span>
<span class="line"><span>.indexes ?TABLE?         Show names of indexes</span></span>
<span class="line"><span>.mode MODE ?OPTIONS?     Set output mode</span></span>
<span class="line"><span>.open ?OPTIONS? ?FILE?   Close existing database and reopen FILE</span></span>
<span class="line"><span>.output ?FILE?           Send output to FILE or stdout if FILE is omitted</span></span>
<span class="line"><span>.quit                    Exit this program</span></span>
<span class="line"><span>.read FILE               Read input from FILE or command output</span></span>
<span class="line"><span>.schema ?PATTERN?        Show the CREATE statements matching PATTERN</span></span>
<span class="line"><span>.show                    Show the current values for various settings</span></span>
<span class="line"><span>.tables ?TABLE?          List names of tables matching LIKE pattern TABLE</span></span>
<span class="line"><span>.......</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>可以使用<code>.help</code>命令查看命令及功能，所有命令及其描述如下表：</p><table><thead><tr><th>命令</th><th>中文描述</th><th>英文描述</th></tr></thead><tbody><tr><td>.archive ...</td><td>管理 SQL 归档</td><td>Manage SQL archives</td></tr><tr><td>.auth ON|OFF</td><td>显示授权人回调</td><td>Show authorizer callbacks</td></tr><tr><td>.backup ?DB? FILE</td><td>备份 DB 数据库[1]（默认是 &quot;main&quot;）到 FILE 文件</td><td>Backup DB (default &quot;main&quot;) to FILE</td></tr><tr><td>.bail on|off</td><td>发生错误后停止。默认为 OFF</td><td>Stop after hitting an error. Default OFF</td></tr><tr><td>.cd DIRECTORY</td><td>将工作目录更改为 directory</td><td>Change the working directory to DIRECTORY</td></tr><tr><td>.changes on|off</td><td>显示 SQL 更改的行数</td><td>Show number of rows changed by SQL</td></tr><tr><td>.check GLOB</td><td>如果.testcase 之后的输出不匹配，则失败</td><td>Fail if output since .testcase does not match</td></tr><tr><td>.clone NEWDB</td><td>从现有数据库中将数据克隆到 NEWDB</td><td>Clone data into NEWDB from the existing database</td></tr><tr><td>.connection [close] [#]</td><td>打开或关闭备用数据库连接</td><td>Open or close an auxiliary database connection</td></tr><tr><td>.crnl on|off</td><td>将\\n 翻译为\\r\\n\\。默认 ON</td><td>Translate \\n to \\r\\n. Default ON</td></tr><tr><td>.databases</td><td>列出附加数据库的名称和文件</td><td>List names and files of attached databases</td></tr><tr><td>.dbconfig ?op? ?val?</td><td>列出或更改 sqlite3_db_config()选项</td><td>List or change sqlite3_db_config() options</td></tr><tr><td>.dbinfo ?DB?</td><td>显示有关数据库的状态信息</td><td>Show status information about the database</td></tr><tr><td>.dump ?OBJECTS?</td><td>以 SQL 文本格式转储数据库。 如果指定了 TABLE 表，则只转储匹配 LIKE 模式的 TABLE 表</td><td>Render database content as SQL</td></tr><tr><td>.echo on|off</td><td>开启或关闭 echo 命令</td><td>Turn command echo on or off</td></tr><tr><td>.eqp on|off|full|...</td><td>开启或关闭适合于 EXPLAIN 的输出模式。 如果没有带参数，则为 EXPLAIN on，及开启 EXPLAIN</td><td>Enable or disable automatic EXPLAIN QUERY PLAN</td></tr><tr><td>.excel</td><td>在电子表格中显示下一个命令的输出</td><td>Display the output of next command in spreadsheet</td></tr><tr><td>.exit ?CODE?</td><td>使用返回码 CODE 退出 SQLite 提示符</td><td>Exit this program with return-code CODE</td></tr><tr><td>.expert</td><td>实验性的。建议查询索引</td><td>EXPERIMENTAL. Suggest indexes for queries</td></tr><tr><td>.explain ?on|off|auto?</td><td>更改 EXPLAIN 格式输出模式。默认值：auto</td><td>Change the EXPLAIN formatting mode. Default: auto</td></tr><tr><td>.filectrl CMD ...</td><td>运行各种 sqlite3_file_control()操作</td><td>Run various sqlite3_file_control() operations</td></tr><tr><td>.fullschema ?--indent?</td><td>显示 sqlite_stat 表的架构和内容</td><td>Show schema and the content of sqlite_stat tables</td></tr><tr><td>.headers on|off</td><td>开启或关闭头部显示</td><td>Turn display of headers on or off</td></tr><tr><td>.help ?-all? ?PATTERN?</td><td>显示消息</td><td>Show help text for PATTERN</td></tr><tr><td>.import FILE TABLE</td><td>导入来自 FILE 文件的数据到 TABLE 表中</td><td>Import data from FILE into TABLE</td></tr><tr><td>.indexes ?TABLE?</td><td>显示所有索引的名称。如果指定了 TABLE 表， 则只显示匹配 LIKE 模式的 TABLE 表的索引</td><td>Show names of indexes</td></tr><tr><td>.limit ?LIMIT? ?VAL?</td><td>显示或更改 SQLITE_LMIT 的值</td><td>Display or change the value of an SQLITE_LIMIT</td></tr><tr><td>.lint OPTIONS</td><td>报告潜在的架构问题</td><td>Report potential schema issues.</td></tr><tr><td>.load FILE ?ENTRY?</td><td>加载一个扩展库</td><td>Load an extension library</td></tr><tr><td>.log FILE|on|off</td><td>开启或关闭日志。FILE 文件可以是 stderr(标准错误)/stdout(标准输出)</td><td>Turn logging on or off. FILE can be stderr/stdout</td></tr><tr><td>.mode MODE ?OPTIONS?</td><td>设置输出模式，MODE 可以是下列之一： <strong>csv</strong> 逗号分隔的值 <strong>column</strong> 左对齐的列 <strong>HTML[2]</strong> HTML 的 <code>&lt;table&gt;</code> 代码 <strong>insert</strong> TABLE 表的 SQL 插入（insert）语句 <strong>line</strong> 每行一个值 <strong>list</strong> 由 .separator 字符串分隔的值 <strong>tabs</strong> 由 Tab 分隔的值 <strong>tcl</strong> TCL 列表元素</td><td>Set output mode</td></tr><tr><td>.nonce STRING</td><td>如果 nonce 匹配，则挂起一个命令的安全模式</td><td>Suspend safe mode for one command if nonce matches</td></tr><tr><td>.nullvalue STRING</td><td>在 NULL 值的地方输出 STRING 字符串</td><td>Use STRING in place of NULL values</td></tr><tr><td>.once ?OPTIONS? ?FILE?</td><td>仅向 FILE 输出下一个 SQL 命令</td><td>Output for the next SQL command only to FILE</td></tr><tr><td>.open ?OPTIONS? ?FILE?</td><td>关闭现有数据库并重新打开 FILE</td><td>Close existing database and reopen FILE</td></tr><tr><td>.output ?FILE?</td><td>发送输出到 FILENAME 文件</td><td>Send output to FILE or stdout if FILE is omitted</td></tr><tr><td>.parameter CMD ...</td><td>管理 SQL 参数绑定</td><td>Manage SQL parameter bindings</td></tr><tr><td>.print STRING...</td><td>逐字地输出 STRING 字符串</td><td>Print literal STRING</td></tr><tr><td>.progress N</td><td>每 N 个操作码后调用进度处理程序</td><td>Invoke progress handler after every N opcodes</td></tr><tr><td>.prompt MAIN CONTINUE</td><td>替换标准提示符</td><td>Replace the standard prompts</td></tr><tr><td>.quit</td><td>退出 SQLite 提示符</td><td>Stop interpreting input stream, exit if primary.</td></tr><tr><td>.read FILE</td><td>执行 FILENAME 文件中的 SQL</td><td>Read input from FILE or command output</td></tr><tr><td>.recover</td><td>从损坏的数据库中恢复尽可能多的数据</td><td>Recover as much data as possible from corrupt db.</td></tr><tr><td>.restore ?DB? FILE</td><td>从 FILE 恢复 DB（默认“main”）的内容</td><td>Restore content of DB (default &quot;main&quot;) from FILE</td></tr><tr><td>.save ?OPTIONS? FILE</td><td>将数据库写入 FILE（.backup 的别名）</td><td>Write database to FILE (an alias for .backup ...)</td></tr><tr><td>.scanstats on|off|est</td><td>打开或关闭 sqlite3_stmt_scanstatus()度量</td><td>Turn sqlite3_stmt_scanstatus() metrics on or off</td></tr><tr><td>.schema ?PATTERN?</td><td>显示 CREATE 语句。如果指定了 TABLE 表， 则只显示匹配 LIKE 模式的 TABLE 表</td><td>Show the CREATE statements matching PATTERN</td></tr><tr><td>.separator COL ?ROW?</td><td>改变输出模式和 .import 所使用的分隔符，更改列和行分隔符</td><td>Change the column and row separators</td></tr><tr><td>.session ?NAME? CMD...</td><td>创建或控制会话</td><td>Create or control sessions</td></tr><tr><td>.sha3sum ...</td><td>计算数据库内容的 SHA3 哈希</td><td>Compute a SHA3 hash of database content</td></tr><tr><td>.shell CMD ARGS...</td><td>运行 CMD ARGS...在系统 shell 中</td><td>Run CMD ARGS... in a system shell</td></tr><tr><td>.show</td><td>显示各种设置的当前值</td><td>Show the current values for various settings</td></tr><tr><td>.stats ?ARG?</td><td>开启或关闭统计</td><td>Show stats or turn stats on or off</td></tr><tr><td>.system CMD ARGS...</td><td>运行 CMD ARGS...在系统 shell 中</td><td>Run CMD ARGS... in a system shell</td></tr><tr><td>.tables ?TABLE?</td><td>列出与 LIKE 模式 TABLE 匹配的表的名称</td><td>List names of tables matching LIKE pattern TABLE</td></tr><tr><td>.timeout MS</td><td>尝试打开锁定的表 MS 毫秒</td><td>Try opening locked tables for MS milliseconds</td></tr><tr><td>.timer on|off</td><td>打开或关闭 SQL 计时器</td><td>Turn SQL timer on or off</td></tr><tr><td>.trace ?OPTIONS?</td><td>在运行时输出每个 SQL 语句</td><td>Output each SQL statement as it is run</td></tr><tr><td>.version</td><td>显示源代码、库和编译器版本</td><td>Show source, library and compiler versions</td></tr><tr><td>.vfsinfo ?AUX?</td><td>关于顶级 VFS 的信息</td><td>Information about the top-level VFS</td></tr><tr><td>.vfslist</td><td>列出所有可用的 VFSE</td><td>List all available VFSes</td></tr><tr><td>.vfsname ?AUX?</td><td>打印 VFS 堆栈的名称</td><td>Print the name of the VFS stack</td></tr><tr><td>.width NUM1 NUM2 ...</td><td>设置列输出的最小列宽</td><td>Set minimum column widths for columnar output</td></tr></tbody></table><p>sqlite3 只是读取输入行信息，然后传递给 SQLite 库来执行，SQL 语句都要以分号 <code>;</code> 结尾才会开始执行，因此你可以自由的分行输入。</p><p>在 sqlite3 中，SQL 语句需以分号 <code>;</code> 结尾才会执行，允许跨行输入。特殊的点命令（如 <code>.help</code> 和 <code>.tables</code>）以小数点 <code>.</code> 开头，<strong>不需要分号</strong>。</p><h2 id="sqlite-新建数据库" tabindex="-1">SQLite 新建数据库 <a class="header-anchor" href="#sqlite-新建数据库" aria-label="Permalink to &quot;SQLite 新建数据库&quot;">​</a></h2><p>直接执行 <code>sqlite3 filename</code> 打开或创建一个 SQLite 数据库。如果文件不存在，SQLite 会自动创建它。</p><p>示例：打开或创建名为 <code>my_sqlite.db</code> 的 SQLite 数据库文件。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>$ sqlite3 my_sqlite.db</span></span>
<span class="line"><span>SQLite version 3.39.5 2022-10-14 20:58:05</span></span>
<span class="line"><span>Enter &quot;.help&quot; for usage hints.</span></span>
<span class="line"><span>sqlite&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>也可以首先创建一个空白文件，然后使用 <code>sqlite3</code> 命令打开它。接下来使用 <code>CREATE TABLE</code> 命令创建一个名为 <code>user</code> 的表，用 <code>.tables</code> 命令查看现有表格，使用 <code>.exit</code> 退出 sqlite3 工具。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>$ touch test.db</span></span>
<span class="line"><span>$ sqlite3 test.db</span></span>
<span class="line"><span>SQLite version 3.39.5 2022-10-14 20:58:05</span></span>
<span class="line"><span>Enter &quot;.help&quot; for usage hints.</span></span>
<span class="line"><span>sqlite&gt; create table user(name text,age int);</span></span>
<span class="line"><span>sqlite&gt; .tables</span></span>
<span class="line"><span>user</span></span>
<span class="line"><span>sqlite&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="sqlite-查看当前数据库" tabindex="-1">SQLite 查看当前数据库 <a class="header-anchor" href="#sqlite-查看当前数据库" aria-label="Permalink to &quot;SQLite 查看当前数据库&quot;">​</a></h2><p>使用点命令 <code>.databases</code> 查看当前打开的数据库。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .databases</span></span>
<span class="line"><span>main: /Users/darcy/develop/sqlite-tools-osx-x86-3420000/my_sqlite.db r/w</span></span>
<span class="line"><span>sqlite&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="sqlite-增删改查" tabindex="-1">SQLite 增删改查 <a class="header-anchor" href="#sqlite-增删改查" aria-label="Permalink to &quot;SQLite 增删改查&quot;">​</a></h2><p>SQLite 几乎完全兼容常见的 SQL 语句规范，因此可以直接编写和执行标准的 SQL 语句。</p><p>创建表：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; create table user(name text,age int);</span></span>
<span class="line"><span>sqlite&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>插入数据：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; insert into user values(&#39;aLang&#39;,20);</span></span>
<span class="line"><span>sqlite&gt; insert into user values(&#39;Darcy&#39;,30);</span></span>
<span class="line"><span>sqlite&gt; insert into user values(&#39;XiaoMing&#39;,40);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>查询数据：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; select * from user;</span></span>
<span class="line"><span>aLang|20</span></span>
<span class="line"><span>Darcy|30</span></span>
<span class="line"><span>XiaoMing|40</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>添加索引，为 user 表的 name 创建名为 user_name 的索引：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; create index user_name on user(name);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="sqlite-更改输出格式" tabindex="-1">SQLite 更改输出格式 <a class="header-anchor" href="#sqlite-更改输出格式" aria-label="Permalink to &quot;SQLite 更改输出格式&quot;">​</a></h2><p>在查询数据时，SQLite 默认使用 <code>|</code> 分割每列数据，这可能不便于阅读。实际上，sqlite3 工具支持多种输出格式，默认为 <code>list</code> 模式。</p><p>以下是可用的输出格式：ascii、<strong>box</strong>、csv、<strong>column</strong>、html、insert、<strong>json</strong>、line、list、markdown、quote、<strong>table</strong>。</p><p>可以使用 <code>.mode</code> 命令更改输出格式。</p><p>Box 格式：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .mode box</span></span>
<span class="line"><span>sqlite&gt; select * from user;</span></span>
<span class="line"><span>┌──────────┬─────┐</span></span>
<span class="line"><span>│   name   │ age │</span></span>
<span class="line"><span>├──────────┼─────┤</span></span>
<span class="line"><span>│ aLang    │ 20  │</span></span>
<span class="line"><span>│ Darcy    │ 30  │</span></span>
<span class="line"><span>│ XiaoMing │ 40  │</span></span>
<span class="line"><span>└──────────┴─────┘</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>json 格式：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .mode json</span></span>
<span class="line"><span>sqlite&gt; select * from user;</span></span>
<span class="line"><span>[{&quot;name&quot;:&quot;aLang&quot;,&quot;age&quot;:20},</span></span>
<span class="line"><span>{&quot;name&quot;:&quot;Darcy&quot;,&quot;age&quot;:30},</span></span>
<span class="line"><span>{&quot;name&quot;:&quot;XiaoMing&quot;,&quot;age&quot;:40}]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>column 格式：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .mode column</span></span>
<span class="line"><span>sqlite&gt; select * from user;</span></span>
<span class="line"><span>name      age</span></span>
<span class="line"><span>--------  ---</span></span>
<span class="line"><span>aLang     20</span></span>
<span class="line"><span>Darcy     30</span></span>
<span class="line"><span>XiaoMing  40</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>table 格式：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .mode table</span></span>
<span class="line"><span>sqlite&gt; select * from user;</span></span>
<span class="line"><span>+----------+-----+</span></span>
<span class="line"><span>|   name   | age |</span></span>
<span class="line"><span>+----------+-----+</span></span>
<span class="line"><span>| aLang    | 20  |</span></span>
<span class="line"><span>| Darcy    | 30  |</span></span>
<span class="line"><span>| XiaoMing | 40  |</span></span>
<span class="line"><span>+----------+-----+</span></span>
<span class="line"><span>sqlite&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="查询-schema" tabindex="-1">查询 Schema <a class="header-anchor" href="#查询-schema" aria-label="Permalink to &quot;查询 Schema&quot;">​</a></h2><p>sqlite3 工具提供了几个方便的命令，可用于查看数据库的 schema ，这些命令纯粹作为快捷方式提供。</p><p>例如，<code>.table</code> 查看数据库中的所有表：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .table</span></span>
<span class="line"><span>user</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>点命令 <code>.table</code> 相当于下面的查询语句。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; SELECT name FROM sqlite_schema</span></span>
<span class="line"><span>   ...&gt; WHERE type IN (&#39;table&#39;,&#39;view&#39;) AND name NOT LIKE &#39;sqlite_%&#39;</span></span>
<span class="line"><span>   ...&gt; ;</span></span>
<span class="line"><span>user</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>sqlite_master</code> 是 SQLite 中的一个特殊表，其中包含了数据库的 schema 信息。你可以查询这个表以获取表的创建语句和索引信息。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .mode table</span></span>
<span class="line"><span>sqlite&gt; select * from sqlite_schema;</span></span>
<span class="line"><span>+-------+-----------+----------+----------+--------------------------------------+</span></span>
<span class="line"><span>| type  |   name    | tbl_name | rootpage |                 sql                  |</span></span>
<span class="line"><span>+-------+-----------+----------+----------+--------------------------------------+</span></span>
<span class="line"><span>| table | user      | user     | 2        | CREATE TABLE user(name text,age int) |</span></span>
<span class="line"><span>| index | user_name | user     | 3        | CREATE INDEX user_name on user(name) |</span></span>
<span class="line"><span>+-------+-----------+----------+----------+--------------------------------------+</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>使用 <code>.indexes</code> 查看索引，使用 <code>.schema</code> 查看 schema 详情。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .indexes</span></span>
<span class="line"><span>user_name</span></span>
<span class="line"><span></span></span>
<span class="line"><span>sqlite&gt; .schema</span></span>
<span class="line"><span>CREATE TABLE user(name text,age int);</span></span>
<span class="line"><span>CREATE INDEX user_name on user(name);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="结果写出到文件" tabindex="-1">结果写出到文件 <a class="header-anchor" href="#结果写出到文件" aria-label="Permalink to &quot;结果写出到文件&quot;">​</a></h2><p>使用 <code>.output filename</code> 命令将查询结果写入指定文件。</p><p>下面是一个示例，先使用 <code>.mode json</code> 更改输出为 JSON 格式，然后在查询表写出到 <code>sql_result.json</code>。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .output sql_result.json</span></span>
<span class="line"><span>sqlite&gt; .mode json</span></span>
<span class="line"><span>sqlite&gt; select * from user;</span></span>
<span class="line"><span>sqlite&gt; .exit</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ cat sql_result.json</span></span>
<span class="line"><span>[{&quot;name&quot;:&quot;aLang&quot;,&quot;age&quot;:20},</span></span>
<span class="line"><span>{&quot;name&quot;:&quot;Darcy&quot;,&quot;age&quot;:30},</span></span>
<span class="line"><span>{&quot;name&quot;:&quot;XiaoMing&quot;,&quot;age&quot;:40}]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>**写出并打开 EXCEL **</p><p>使用 <code>.excel</code> 会让下一个查询语句输出到 Excel 中。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .excel</span></span>
<span class="line"><span>sqlite&gt; select * from sqlite_schema;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="`+l+`" alt="图片"></p><p>结果写出到文件</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite&gt; .output sql_result.txt</span></span>
<span class="line"><span>sqlite&gt; select * from sqlite_schema;</span></span>
<span class="line"><span>sqlite&gt; select * from user;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="读取运行-sql-脚本" tabindex="-1">读取运行 SQL 脚本 <a class="header-anchor" href="#读取运行-sql-脚本" aria-label="Permalink to &quot;读取运行 SQL 脚本&quot;">​</a></h2><p>使用 <code>.read</code> 可以读取指定文件中的 SQL 语句并运行，这在需要批量执行 SQL 脚本的场景中非常有用。</p><p>创建 SQL 文件：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>$ echo &quot;select * from user&quot; &gt; sql_query.sql</span></span>
<span class="line"><span>$ cat sql_query.sql</span></span>
<span class="line"><span>select * from user</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ ./sqlite3 my_sqlite.db</span></span>
<span class="line"><span>SQLite version 3.42.0 2023-05-16 12:36:15</span></span>
<span class="line"><span>Enter &quot;.help&quot; for usage hints.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>sqlite&gt; .mode table</span></span>
<span class="line"><span>sqlite&gt; .read sql_query.sql</span></span>
<span class="line"><span>+----------+-----+</span></span>
<span class="line"><span>|   name   | age |</span></span>
<span class="line"><span>+----------+-----+</span></span>
<span class="line"><span>| aLang    | 20  |</span></span>
<span class="line"><span>| Darcy    | 30  |</span></span>
<span class="line"><span>| XiaoMing | 40  |</span></span>
<span class="line"><span>+----------+-----+</span></span>
<span class="line"><span>sqlite&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="sqlite-备份与恢复" tabindex="-1">SQLite 备份与恢复 <a class="header-anchor" href="#sqlite-备份与恢复" aria-label="Permalink to &quot;SQLite 备份与恢复&quot;">​</a></h2><p>在涉及数据库操作时，备份和恢复是至关重要的步骤，它们用于防止数据丢失并确保数据的持续性。SQLite 提供了简单的方法来备份和恢复你的数据库。</p><p>在 SQLite 中可以通过导出整个数据库为一个 SQL 脚本来备份数据库。此功能使用 <code>.dump</code> 命令实现。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>$ ./sqlite3 my_sqlite.db</span></span>
<span class="line"><span>SQLite version 3.42.0 2023-05-16 12:36:15</span></span>
<span class="line"><span>Enter &quot;.help&quot; for usage hints.</span></span>
<span class="line"><span>sqlite&gt; .output backup.sql</span></span>
<span class="line"><span>sqlite&gt; .dump</span></span>
<span class="line"><span>sqlite&gt; .exit</span></span>
<span class="line"><span></span></span>
<span class="line"><span>$ cat backup.sql</span></span>
<span class="line"><span>PRAGMA foreign_keys=OFF;</span></span>
<span class="line"><span>BEGIN TRANSACTION;</span></span>
<span class="line"><span>CREATE TABLE user(name text,age int);</span></span>
<span class="line"><span>INSERT INTO user VALUES(&#39;aLang&#39;,20);</span></span>
<span class="line"><span>INSERT INTO user VALUES(&#39;Darcy&#39;,30);</span></span>
<span class="line"><span>INSERT INTO user VALUES(&#39;XiaoMing&#39;,40);</span></span>
<span class="line"><span>CREATE INDEX user_name on user(name);</span></span>
<span class="line"><span>COMMIT;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>这将导出整个 <code>my_sqlite.db</code> 数据库到 <code>backup.sql</code> 文件中。此 SQL 文件包含了重建数据库所需的所有 SQL 语句。要恢复数据库，只需在 <code>sqlite3</code> 中运行这个脚本。</p><p>示例：恢复数据到库 <code>my_sqlite_2</code> 中。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>$ ./sqlite3 my_sqlite_2.db</span></span>
<span class="line"><span>SQLite version 3.42.0 2023-05-16 12:36:15</span></span>
<span class="line"><span>Enter &quot;.help&quot; for usage hints.</span></span>
<span class="line"><span>sqlite&gt; .read backup.sql</span></span>
<span class="line"><span>sqlite&gt; select * from user;</span></span>
<span class="line"><span>aLang|20</span></span>
<span class="line"><span>Darcy|30</span></span>
<span class="line"><span>XiaoMing|40</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这将执行 <code>backup.sql</code> 文件中的所有 SQL 语句，重建数据库。通过以上的备份与恢复方法，你可以确保你的 SQLite 数据库资料得到可靠的保护，且在需要时能够迅速恢复。</p><h2 id="sqlite-可视化工具" tabindex="-1">SQLite 可视化工具 <a class="header-anchor" href="#sqlite-可视化工具" aria-label="Permalink to &quot;SQLite 可视化工具&quot;">​</a></h2><p>命令行操作总归不太直观，如果你喜欢可视化操作，可以下载 SQLite Database Browser 进行操作。</p><p>下载页面：<a href="https://sqlitebrowser.org/dl/" target="_blank" rel="noreferrer">https://sqlitebrowser.org/dl/</a></p><p><img src="`+p+`" alt="图片"></p><h2 id="附录" tabindex="-1">附录 <a class="header-anchor" href="#附录" aria-label="Permalink to &quot;附录&quot;">​</a></h2><p>SQLite 常用函数列表，见名知意不写注释了。</p><table><thead><tr><th>Function 1</th><th>Function 2</th><th>Function 3</th><th>Function 4</th></tr></thead><tbody><tr><td>abs(X)</td><td>changes()</td><td>char(X1,X2,...,XN)</td><td>coalesce(X,Y,...)</td></tr><tr><td>concat(X,...)</td><td>concat_ws(SEP,X,...)</td><td>format(FORMAT,...)</td><td>glob(X,Y)</td></tr><tr><td>hex(X)</td><td>ifnull(X,Y)</td><td>iif(X,Y,Z)</td><td>instr(X,Y)</td></tr><tr><td>last_insert_rowid()</td><td>length(X)</td><td>like(X,Y)</td><td>like(X,Y,Z)</td></tr><tr><td>likelihood(X,Y)</td><td>likely(X)</td><td>load_extension(X)</td><td>load_extension(X,Y)</td></tr><tr><td>lower(X)</td><td>ltrim(X)</td><td>ltrim(X,Y)</td><td>max(X,Y,...)</td></tr><tr><td>min(X,Y,...)</td><td>nullif(X,Y)</td><td>octet_length(X)</td><td>printf(FORMAT,...)</td></tr><tr><td>quote(X)</td><td>random()</td><td>randomblob(N)</td><td>replace(X,Y,Z)</td></tr><tr><td>round(X)</td><td>round(X,Y)</td><td>rtrim(X)</td><td>rtrim(X,Y)</td></tr><tr><td>sign(X)</td><td>soundex(X)</td><td>sqlite_compileoption_get(N)</td><td>sqlite_compileoption_used(X)</td></tr><tr><td>sqlite_offset(X)</td><td>sqlite_source_id()</td><td>sqlite_version()</td><td>substr(X,Y)</td></tr><tr><td>substr(X,Y,Z)</td><td>substring(X,Y)</td><td>substring(X,Y,Z)</td><td>total_changes()</td></tr><tr><td>trim(X)</td><td>trim(X,Y)</td><td></td><td></td></tr></tbody></table><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><ol><li>SQLite 开源代码：<a href="https://www.sqlite.org/cgi/src/dir?ci=trunk" target="_blank" rel="noreferrer">https://www.sqlite.org/cgi/src/dir?ci=trunk</a></li><li>SQLite 文件格式介绍：<a href="https://sqlite.org/fileformat2.html" target="_blank" rel="noreferrer">https://sqlite.org/fileformat2.html</a></li><li>SQLite 可视化工具：<a href="https://sqlitebrowser.org/dl/" target="_blank" rel="noreferrer">https://sqlitebrowser.org/dl/</a></li><li>SQL 函数文档：<a href="https://www.sqlite.org/lang_corefunc.html" target="_blank" rel="noreferrer">https://www.sqlite.org/lang_corefunc.html</a></li></ol><h3 id="引用链接" tabindex="-1">引用链接 <a class="header-anchor" href="#引用链接" aria-label="Permalink to &quot;引用链接&quot;">​</a></h3><p><code>[1]</code> SQLite 官方页面: <em><a href="https://sqlite.org/download.html" target="_blank" rel="noreferrer">https://sqlite.org/download.html</a></em></p><h2 id="sqlite-局限性" tabindex="-1">SQLite 局限性 <a class="header-anchor" href="#sqlite-局限性" aria-label="Permalink to &quot;SQLite 局限性&quot;">​</a></h2><p>在 SQLite 中，SQL92（一种标准查询）不支持如下特性：</p><table><thead><tr><th>特性</th><th>描述</th></tr></thead><tbody><tr><td>RIGHT OUTER JOIN</td><td>只实现了 LEFT OUTER JOIN</td></tr><tr><td>FULL OUTER JOIN</td><td>只实现了 LEFT OUTER JOIN</td></tr><tr><td>ALTER TABLE</td><td>支持 RENAME TABLE 和 ALTER TABLE 的 ADD COLUMN variants 命令， 不支持 DROP COLUMN、ALTER COLUMN、ADD CONSTRAINT</td></tr><tr><td>Trigger 支持</td><td>支持 FOR EACH ROW 触发器，但不支持 FOR EACH STATEMENT 触发器</td></tr><tr><td>VIEWs</td><td>在 SQLite 中，视图是只读的。您不可以在视图上执行 DELETE、INSERT 或 UPDATE 语句</td></tr><tr><td>GRANT 和 REVOKE</td><td>可以应用的唯一的访问权限是底层操作系统的正常文件访问权限</td></tr></tbody></table><h2 id="sqlite-命令" tabindex="-1">SQLite 命令 <a class="header-anchor" href="#sqlite-命令" aria-label="Permalink to &quot;SQLite 命令&quot;">​</a></h2><p>与关系数据库进行交互的标准 SQLite 命令类似于 SQL。命令包括 CREATE、SELECT、INSERT、UPDATE、DELETE 和 DROP。这些命令基于它们的操作性质可分为以下几种：</p><h3 id="ddl-数据定义语言" tabindex="-1">DDL：数据定义语言 <a class="header-anchor" href="#ddl-数据定义语言" aria-label="Permalink to &quot;DDL：数据定义语言&quot;">​</a></h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>CREATE</td><td>创建一个新的表，一个表的视图，或者数据库中的其他对象</td></tr><tr><td>ALTER</td><td>修改数据库中的某个已有的数据库对象，比如一个表</td></tr><tr><td>DROP</td><td>删除整个表，或者表的视图，或者数据库中的其他对象</td></tr></tbody></table><h3 id="dml-数据操作语言" tabindex="-1">DML：数据操作语言 <a class="header-anchor" href="#dml-数据操作语言" aria-label="Permalink to &quot;DML：数据操作语言&quot;">​</a></h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>INSERT</td><td>创建一条记录</td></tr><tr><td>UPDATE</td><td>修改记录</td></tr><tr><td>DELETE</td><td>删除记录</td></tr></tbody></table><h3 id="dql-数据查询语言" tabindex="-1">DQL：数据查询语言 <a class="header-anchor" href="#dql-数据查询语言" aria-label="Permalink to &quot;DQL：数据查询语言&quot;">​</a></h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>SELECT</td><td>从一个或多个表中检索某些记录</td></tr></tbody></table><h4 id="引用链接-1" tabindex="-1">引用链接 <a class="header-anchor" href="#引用链接-1" aria-label="Permalink to &quot;引用链接&quot;">​</a></h4><p><code>[1]</code> 数据库: <em><a href="https://www.dba.cn/" target="_blank" rel="noreferrer">https://www.dba.cn/</a></em><code>[2]</code> HTML: <em><a href="https://www.dba.cn/book/html/" target="_blank" rel="noreferrer">https://www.dba.cn/book/html/</a></em></p><h2 id="sqlite100条常用命令" tabindex="-1">sqlite100条常用命令 <a class="header-anchor" href="#sqlite100条常用命令" aria-label="Permalink to &quot;sqlite100条常用命令&quot;">​</a></h2><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="color:#61AFEF;">.open</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 打开或创建一个SQLite数据库文件</span></span>
<span class="line"><span style="color:#61AFEF;">.tables</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 列出当前数据库中的表</span></span>
<span class="line"><span style="color:#61AFEF;">.schema</span><span style="color:#98C379;"> tablename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 查看指定表的创建语句</span></span>
<span class="line"><span style="color:#61AFEF;">.header</span><span style="color:#98C379;"> on</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置是否显示查询结果的列名</span></span>
<span class="line"><span style="color:#61AFEF;">.mode</span><span style="color:#98C379;"> csv</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">column</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">json</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置查询结果的显示模式</span></span>
<span class="line"><span style="color:#61AFEF;">.import</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> tablename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 从文件导入数据到指定表</span></span>
<span class="line"><span style="color:#61AFEF;">.quit</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 退出sqlite3命令行工具</span></span>
<span class="line"><span style="color:#61AFEF;">SELECT</span><span style="color:#98C379;"> column1,</span><span style="color:#98C379;"> column2…</span><span style="color:#98C379;"> FROM</span><span style="color:#98C379;"> table_name</span><span style="color:#98C379;"> WHERE</span><span style="color:#98C379;"> condition</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 从表中选择数据</span></span>
<span class="line"><span style="color:#61AFEF;">INSERT</span><span style="color:#98C379;"> INTO</span><span style="color:#98C379;"> table_name</span><span style="color:#ABB2BF;"> (column1, </span><span style="color:#98C379;">column2…</span><span style="color:#ABB2BF;">) VALUES (</span><span style="color:#61AFEF;">value1,</span><span style="color:#98C379;"> value2…</span><span style="color:#ABB2BF;">) - 插入数据到表</span></span>
<span class="line"><span style="color:#61AFEF;">UPDATE</span><span style="color:#98C379;"> table_name</span><span style="color:#98C379;"> SET</span><span style="color:#98C379;"> column1</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> value1,</span><span style="color:#98C379;"> column2</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> value2…</span><span style="color:#98C379;"> WHERE</span><span style="color:#98C379;"> condition</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 更新表中的数据</span></span>
<span class="line"><span style="color:#61AFEF;">DELETE</span><span style="color:#98C379;"> FROM</span><span style="color:#98C379;"> table_name</span><span style="color:#98C379;"> WHERE</span><span style="color:#98C379;"> condition</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 从表中删除数据</span></span>
<span class="line"><span style="color:#61AFEF;">ALTER</span><span style="color:#98C379;"> TABLE</span><span style="color:#98C379;"> table_name</span><span style="color:#98C379;"> ADD</span><span style="color:#98C379;"> column_name</span><span style="color:#98C379;"> datatype</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 向表中添加新列</span></span>
<span class="line"><span style="color:#61AFEF;">DROP</span><span style="color:#98C379;"> TABLE</span><span style="color:#98C379;"> table_name</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 删除表</span></span>
<span class="line"><span style="color:#61AFEF;">CREATE</span><span style="color:#98C379;"> INDEX</span><span style="color:#98C379;"> index_name</span><span style="color:#98C379;"> ON</span><span style="color:#98C379;"> table_name</span><span style="color:#ABB2BF;"> (column1, </span><span style="color:#98C379;">column2…</span><span style="color:#ABB2BF;">) - 在表中创建索引</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> table_info</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">table_name</span><span style="color:#ABB2BF;">) </span><span style="color:#98C379;">-</span><span style="color:#98C379;"> 显示表的列信息</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> database_list</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示数据库中的表和索引</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> foreign_key_list</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">table_name</span><span style="color:#ABB2BF;">) </span><span style="color:#98C379;">-</span><span style="color:#98C379;"> 查看表的外键信息</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> index_list</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">table_name</span><span style="color:#ABB2BF;">) </span><span style="color:#98C379;">-</span><span style="color:#98C379;"> 显示表的索引信息</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> table_info</span><span style="color:#ABB2BF;">(</span><span style="color:#61AFEF;">table_name</span><span style="color:#ABB2BF;">) </span><span style="color:#98C379;">-</span><span style="color:#98C379;"> 显示表的详细信息</span></span>
<span class="line"><span style="color:#61AFEF;">.databases</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示当前连接的所有数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.fullschema</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示数据库的完整模式（包括索引、触发器等）</span></span>
<span class="line"><span style="color:#61AFEF;">.backup</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 备份数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.restore</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 从备份文件中恢复数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.mode</span><span style="color:#98C379;"> line</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置查询结果的显示模式为每行一条记录</span></span>
<span class="line"><span style="color:#61AFEF;">.mode</span><span style="color:#98C379;"> list</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置查询结果的显示模式为键值对形式</span></span>
<span class="line"><span style="color:#61AFEF;">.explain</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示查询计划</span></span>
<span class="line"><span style="color:#61AFEF;">.timeout</span><span style="color:#98C379;"> milliseconds</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置查询超时时间</span></span>
<span class="line"><span style="color:#61AFEF;">.echo</span><span style="color:#98C379;"> on</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置是否显示命令</span></span>
<span class="line"><span style="color:#61AFEF;">.auth</span><span style="color:#98C379;"> ON</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">OFF</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">username</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">password</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 启用/禁用/更改访问控制</span></span>
<span class="line"><span style="color:#61AFEF;">.nullvalue</span><span style="color:#98C379;"> text</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置显示空值的文本</span></span>
<span class="line"><span style="color:#61AFEF;">.width</span><span style="color:#98C379;"> num1</span><span style="color:#98C379;"> num2</span><span style="color:#98C379;"> …</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置每列的宽度</span></span>
<span class="line"><span style="color:#61AFEF;">.separator</span><span style="color:#98C379;"> string</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置导出文件的分隔符</span></span>
<span class="line"><span style="color:#61AFEF;">.save</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 保存输出结果到文件</span></span>
<span class="line"><span style="color:#61AFEF;">.output</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 重定向输出到文件</span></span>
<span class="line"><span style="color:#61AFEF;">.read</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 读取并执行SQL语句文件</span></span>
<span class="line"><span style="color:#61AFEF;">.timer</span><span style="color:#98C379;"> on</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置是否显示查询时间</span></span>
<span class="line"><span style="color:#61AFEF;">.shell</span><span style="color:#98C379;"> cmd</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 运行操作系统命令</span></span>
<span class="line"><span style="color:#61AFEF;">.help</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示帮助信息</span></span>
<span class="line"><span style="color:#61AFEF;">.version</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示SQLite版本信息</span></span>
<span class="line"><span style="color:#61AFEF;">.selftest</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 运行自检测试</span></span>
<span class="line"><span style="color:#61AFEF;">.clone</span><span style="color:#98C379;"> new_database</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 克隆当前数据库到新的数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.mode</span><span style="color:#98C379;"> insert</span><span style="color:#98C379;"> table_name</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 以INSERT语句模式导出结果</span></span>
<span class="line"><span style="color:#61AFEF;">.clone</span><span style="color:#98C379;"> :memory:</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 将内存数据库克隆到文件数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.archive</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 将当前数据库归档</span></span>
<span class="line"><span style="color:#61AFEF;">.recover</span><span style="color:#98C379;"> database</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 修复损坏的数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.changequote</span><span style="color:#98C379;"> ON</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">string</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 更改标识符的引号字符</span></span>
<span class="line"><span style="color:#61AFEF;">.analyze</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 分析数据库以优化查询性能</span></span>
<span class="line"><span style="color:#61AFEF;">.randomblob</span><span style="color:#98C379;"> numbytes</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 生成指定大小的随机二进制数据</span></span>
<span class="line"><span style="color:#61AFEF;">.changes</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示上一条命令影响的行数</span></span>
<span class="line"><span style="color:#61AFEF;">.lint</span><span style="color:#98C379;"> OPTIONS</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 执行语法检查</span></span>
<span class="line"><span style="color:#61AFEF;">.stats</span><span style="color:#98C379;"> ON</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 启用/禁用语句执行统计</span></span>
<span class="line"><span style="color:#61AFEF;">.once</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 将输出结果保存到文件（仅一次）</span></span>
<span class="line"><span style="color:#61AFEF;">.print</span><span style="color:#98C379;"> cmd</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 打印输出结果</span></span>
<span class="line"><span style="color:#61AFEF;">.batch</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 运行批处理SQL文件</span></span>
<span class="line"><span style="color:#61AFEF;">.open</span><span style="color:#98C379;"> :memory:</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 打开一个新的内存数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.exit</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 退出sqlite3命令行工具</span></span>
<span class="line"><span style="color:#61AFEF;">.check</span><span style="color:#98C379;"> GLOB</span><span style="color:#ABB2BF;"> | </span><span style="color:#61AFEF;">REGEXP</span><span style="color:#ABB2BF;"> | </span><span style="color:#61AFEF;">LIKE</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 执行数据完整性检查</span></span>
<span class="line"><span style="color:#61AFEF;">.clone</span><span style="color:#98C379;"> :memory:</span><span style="color:#98C379;"> :memory:</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 复制内存数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.dump</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 以文本形式导出数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.show</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示当前配置参数</span></span>
<span class="line"><span style="color:#61AFEF;">.shell</span><span style="color:#98C379;"> cmd</span><span style="color:#98C379;"> args…</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 使用shell运行操作系统命令</span></span>
<span class="line"><span style="color:#61AFEF;">.reindex</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 重新建立所有索引</span></span>
<span class="line"><span style="color:#61AFEF;">.allnulls</span><span style="color:#98C379;"> on</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置是否考虑空值进行比较</span></span>
<span class="line"><span style="color:#61AFEF;">.dbconfig</span><span style="color:#98C379;"> config</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置数据库配置参数</span></span>
<span class="line"><span style="color:#61AFEF;">.exit</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 退出sqlite3命令行工具</span></span>
<span class="line"><span style="color:#61AFEF;">.clone</span><span style="color:#98C379;"> new_database</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 将当前数据库克隆到新的数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.dbinfo</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示数据库信息</span></span>
<span class="line"><span style="color:#61AFEF;">.lint</span><span style="color:#98C379;"> cmd</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 执行语法检查</span></span>
<span class="line"><span style="color:#61AFEF;">.last_insert_rowid</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示最后插入的行ID</span></span>
<span class="line"><span style="color:#61AFEF;">.load</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> sym</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 加载扩展</span></span>
<span class="line"><span style="color:#61AFEF;">.nullvalue</span><span style="color:#98C379;"> text</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置NULL值的表示文本</span></span>
<span class="line"><span style="color:#61AFEF;">.read</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 读取并执行SQL命令文件</span></span>
<span class="line"><span style="color:#61AFEF;">.timeout</span><span style="color:#98C379;"> ms</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置命令运行的超时时间</span></span>
<span class="line"><span style="color:#61AFEF;">.trace</span><span style="color:#98C379;"> cmd</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 执行跟踪命令</span></span>
<span class="line"><span style="color:#61AFEF;">.vfsinfo</span><span style="color:#98C379;"> ?DATABASE?</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示或配置虚拟文件系统</span></span>
<span class="line"><span style="color:#61AFEF;">.recover</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 修复损坏的数据库</span></span>
<span class="line"><span style="color:#61AFEF;">.vfslist</span><span style="color:#98C379;"> ?PATTERN?</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示可用的虚拟文件系统</span></span>
<span class="line"><span style="color:#61AFEF;">.vfsname</span><span style="color:#98C379;"> ?AUX?</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示当前的虚拟文件系统名称</span></span>
<span class="line"><span style="color:#61AFEF;">.vfsregister</span><span style="color:#98C379;"> NAME</span><span style="color:#98C379;"> SCRIPT</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 注册自定义的虚拟文件系统</span></span>
<span class="line"><span style="color:#61AFEF;">.vfsunregister</span><span style="color:#98C379;"> NAME</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 取消注册虚拟文件系统</span></span>
<span class="line"><span style="color:#61AFEF;">.vdbecomment</span><span style="color:#98C379;"> ON</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置是否在生成代码时加注释</span></span>
<span class="line"><span style="color:#61AFEF;">.vdbeinfo</span><span style="color:#98C379;"> ?NEW</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">schema</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">execute?</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 显示虚拟数据库引擎信息</span></span>
<span class="line"><span style="color:#61AFEF;">.vdbe_trace</span><span style="color:#98C379;"> on</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置是否跟踪虚拟数据库引擎</span></span>
<span class="line"><span style="color:#61AFEF;">.header</span><span style="color:#98C379;"> on</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置是否显示查询结果的列名</span></span>
<span class="line"><span style="color:#61AFEF;">.mode</span><span style="color:#98C379;"> line</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">column</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">…</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置结果的显示模式</span></span>
<span class="line"><span style="color:#61AFEF;">.output</span><span style="color:#98C379;"> filename</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 重定向输出到文件</span></span>
<span class="line"><span style="color:#61AFEF;">.print</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 打印输出</span></span>
<span class="line"><span style="color:#61AFEF;">BEGIN</span><span style="color:#ABB2BF;"> [DEFERRED|</span><span style="color:#61AFEF;">IMMEDIATE</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">EXCLUSIVE]</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 开始一个事务</span></span>
<span class="line"><span style="color:#61AFEF;">COMMIT</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 提交事务</span></span>
<span class="line"><span style="color:#61AFEF;">ROLLBACK</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 回滚事务</span></span>
<span class="line"><span style="color:#61AFEF;">SAVEPOINT</span><span style="color:#98C379;"> name</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置保存点</span></span>
<span class="line"><span style="color:#61AFEF;">RELEASE</span><span style="color:#98C379;"> name</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 释放保存点</span></span>
<span class="line"><span style="color:#61AFEF;">ROLLBACK</span><span style="color:#98C379;"> TO</span><span style="color:#98C379;"> name</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 回滚到保存点</span></span>
<span class="line"><span style="color:#61AFEF;">TRANSACTION</span><span style="color:#ABB2BF;"> [READ </span><span style="color:#98C379;">UNCOMMITTED</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">READ</span><span style="color:#98C379;"> COMMITTED</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">SERIALIZABLE</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">ISOLATION</span><span style="color:#98C379;"> LEVEL</span><span style="color:#98C379;"> …]</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置事务隔离级别</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> encoding</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> “UTF-8”</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置数据库编码</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> foreign_keys</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> ON</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">off</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 启用/禁用外键约束</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> journal_mode</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> DELETE</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">TRUNCATE</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">PERSIST</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">MEMORY</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">WAL</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">OFF</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置日志模式</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> synchronous</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> OFF</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">NORMAL</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">FULL</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置同步模式</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> temp_store</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> DEFAULT</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">FILE</span><span style="color:#ABB2BF;">|</span><span style="color:#61AFEF;">MEMORY</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置临时存储方式</span></span>
<span class="line"><span style="color:#61AFEF;">PRAGMA</span><span style="color:#98C379;"> cache_size</span><span style="color:#98C379;"> =</span><span style="color:#D19A66;"> 1000</span><span style="color:#98C379;"> -</span><span style="color:#98C379;"> 设置缓存大小</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br></div></div><p>参考资料</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>sqlite官网：https://www.sqlite.org/</span></span>
<span class="line"><span>辅助工具：https://sqlitestudio.pl/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,119),r=[o];function c(i,d,b,u,m,y){return a(),n("div",null,r)}const E=s(t,[["render",c]]);export{h as __pageData,E as default};
